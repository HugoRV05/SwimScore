var YS=n=>{throw TypeError(n)};var Mg=(n,e,t)=>e.has(n)||YS("Cannot "+t);var dt=(n,e,t)=>(Mg(n,e,"read from private field"),t?t.call(n):e.get(n)),Xi=(n,e,t)=>e.has(n)?YS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),Nn=(n,e,t,i)=>(Mg(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),Wi=(n,e,t)=>(Mg(n,e,"access private method"),t);var XS=(n,e,t,i)=>({set _(r){Nn(n,e,r,t)},get _(){return dt(n,e,i)}});function _L(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();function Yr(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pg={exports:{}},ec={};var WS;function CL(){if(WS)return ec;WS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,r,s){var o=null;if(s!==void 0&&(o=""+s),r.key!==void 0&&(o=""+r.key),"key"in r){s={};for(var c in r)c!=="key"&&(s[c]=r[c])}else s=r;return r=s.ref,{$$typeof:n,type:i,key:o,ref:r!==void 0?r:null,props:s}}return ec.Fragment=e,ec.jsx=t,ec.jsxs=t,ec}var KS;function TL(){return KS||(KS=1,Pg.exports=CL()),Pg.exports}var E=TL(),Dg={exports:{}},Ee={};var ZS;function OL(){if(ZS)return Ee;ZS=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function v(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,A={};function S(L,V,ne){this.props=L,this.context=V,this.refs=A,this.updater=ne||w}S.prototype.isReactComponent={},S.prototype.setState=function(L,V){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,V,"setState")},S.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function M(){}M.prototype=S.prototype;function _(L,V,ne){this.props=L,this.context=V,this.refs=A,this.updater=ne||w}var D=_.prototype=new M;D.constructor=_,b(D,S.prototype),D.isPureReactComponent=!0;var T=Array.isArray;function P(){}var R={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function I(L,V,ne){var ae=ne.ref;return{$$typeof:n,type:L,key:V,ref:ae!==void 0?ae:null,props:ne}}function W(L,V){return I(L.type,V,L.props)}function U(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function K(L){var V={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ne){return V[ne]})}var se=/\/+/g;function oe(L,V){return typeof L=="object"&&L!==null&&L.key!=null?K(""+L.key):V.toString(36)}function le(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(P,P):(L.status="pending",L.then(function(V){L.status==="pending"&&(L.status="fulfilled",L.value=V)},function(V){L.status==="pending"&&(L.status="rejected",L.reason=V)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function B(L,V,ne,ae,me){var we=typeof L;(we==="undefined"||we==="boolean")&&(L=null);var ce=!1;if(L===null)ce=!0;else switch(we){case"bigint":case"string":case"number":ce=!0;break;case"object":switch(L.$$typeof){case n:case e:ce=!0;break;case f:return ce=L._init,B(ce(L._payload),V,ne,ae,me)}}if(ce)return me=me(L),ce=ae===""?"."+oe(L,0):ae,T(me)?(ne="",ce!=null&&(ne=ce.replace(se,"$&/")+"/"),B(me,V,ne,"",function(Se){return Se})):me!=null&&(U(me)&&(me=W(me,ne+(me.key==null||L&&L.key===me.key?"":(""+me.key).replace(se,"$&/")+"/")+ce)),V.push(me)),1;ce=0;var at=ae===""?".":ae+":";if(T(L))for(var Q=0;Q<L.length;Q++)ae=L[Q],we=at+oe(ae,Q),ce+=B(ae,V,ne,we,me);else if(Q=v(L),typeof Q=="function")for(L=Q.call(L),Q=0;!(ae=L.next()).done;)ae=ae.value,we=at+oe(ae,Q++),ce+=B(ae,V,ne,we,me);else if(we==="object"){if(typeof L.then=="function")return B(le(L),V,ne,ae,me);throw V=String(L),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return ce}function H(L,V,ne){if(L==null)return L;var ae=[],me=0;return B(L,ae,"","",function(we){return V.call(ne,we,me++)}),ae}function te(L){if(L._status===-1){var V=L._result;V=V(),V.then(function(ne){(L._status===0||L._status===-1)&&(L._status=1,L._result=ne)},function(ne){(L._status===0||L._status===-1)&&(L._status=2,L._result=ne)}),L._status===-1&&(L._status=0,L._result=V)}if(L._status===1)return L._result.default;throw L._result}var re=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},xe={map:H,forEach:function(L,V,ne){H(L,function(){V.apply(this,arguments)},ne)},count:function(L){var V=0;return H(L,function(){V++}),V},toArray:function(L){return H(L,function(V){return V})||[]},only:function(L){if(!U(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Ee.Activity=p,Ee.Children=xe,Ee.Component=S,Ee.Fragment=t,Ee.Profiler=r,Ee.PureComponent=_,Ee.StrictMode=i,Ee.Suspense=u,Ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Ee.__COMPILER_RUNTIME={__proto__:null,c:function(L){return R.H.useMemoCache(L)}},Ee.cache=function(L){return function(){return L.apply(null,arguments)}},Ee.cacheSignal=function(){return null},Ee.cloneElement=function(L,V,ne){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ae=b({},L.props),me=L.key;if(V!=null)for(we in V.key!==void 0&&(me=""+V.key),V)!N.call(V,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&V.ref===void 0||(ae[we]=V[we]);var we=arguments.length-2;if(we===1)ae.children=ne;else if(1<we){for(var ce=Array(we),at=0;at<we;at++)ce[at]=arguments[at+2];ae.children=ce}return I(L.type,me,ae)},Ee.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},Ee.createElement=function(L,V,ne){var ae,me={},we=null;if(V!=null)for(ae in V.key!==void 0&&(we=""+V.key),V)N.call(V,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(me[ae]=V[ae]);var ce=arguments.length-2;if(ce===1)me.children=ne;else if(1<ce){for(var at=Array(ce),Q=0;Q<ce;Q++)at[Q]=arguments[Q+2];me.children=at}if(L&&L.defaultProps)for(ae in ce=L.defaultProps,ce)me[ae]===void 0&&(me[ae]=ce[ae]);return I(L,we,me)},Ee.createRef=function(){return{current:null}},Ee.forwardRef=function(L){return{$$typeof:c,render:L}},Ee.isValidElement=U,Ee.lazy=function(L){return{$$typeof:f,_payload:{_status:-1,_result:L},_init:te}},Ee.memo=function(L,V){return{$$typeof:h,type:L,compare:V===void 0?null:V}},Ee.startTransition=function(L){var V=R.T,ne={};R.T=ne;try{var ae=L(),me=R.S;me!==null&&me(ne,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(P,re)}catch(we){re(we)}finally{V!==null&&ne.types!==null&&(V.types=ne.types),R.T=V}},Ee.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Ee.use=function(L){return R.H.use(L)},Ee.useActionState=function(L,V,ne){return R.H.useActionState(L,V,ne)},Ee.useCallback=function(L,V){return R.H.useCallback(L,V)},Ee.useContext=function(L){return R.H.useContext(L)},Ee.useDebugValue=function(){},Ee.useDeferredValue=function(L,V){return R.H.useDeferredValue(L,V)},Ee.useEffect=function(L,V){return R.H.useEffect(L,V)},Ee.useEffectEvent=function(L){return R.H.useEffectEvent(L)},Ee.useId=function(){return R.H.useId()},Ee.useImperativeHandle=function(L,V,ne){return R.H.useImperativeHandle(L,V,ne)},Ee.useInsertionEffect=function(L,V){return R.H.useInsertionEffect(L,V)},Ee.useLayoutEffect=function(L,V){return R.H.useLayoutEffect(L,V)},Ee.useMemo=function(L,V){return R.H.useMemo(L,V)},Ee.useOptimistic=function(L,V){return R.H.useOptimistic(L,V)},Ee.useReducer=function(L,V,ne){return R.H.useReducer(L,V,ne)},Ee.useRef=function(L){return R.H.useRef(L)},Ee.useState=function(L){return R.H.useState(L)},Ee.useSyncExternalStore=function(L,V,ne){return R.H.useSyncExternalStore(L,V,ne)},Ee.useTransition=function(){return R.H.useTransition()},Ee.version="19.2.1",Ee}var QS;function Zo(){return QS||(QS=1,Dg.exports=OL()),Dg.exports}var C=Zo();const gc=Yr(C),ML=_L({__proto__:null,default:gc},[C]);var kg={exports:{}},tc={},Rg={exports:{}},Ng={};var JS;function PL(){return JS||(JS=1,(function(n){function e(B,H){var te=B.length;B.push(H);e:for(;0<te;){var re=te-1>>>1,xe=B[re];if(0<r(xe,H))B[re]=H,B[te]=xe,te=re;else break e}}function t(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var H=B[0],te=B.pop();if(te!==H){B[0]=te;e:for(var re=0,xe=B.length,L=xe>>>1;re<L;){var V=2*(re+1)-1,ne=B[V],ae=V+1,me=B[ae];if(0>r(ne,te))ae<xe&&0>r(me,ne)?(B[re]=me,B[ae]=te,re=ae):(B[re]=ne,B[V]=te,re=V);else if(ae<xe&&0>r(me,te))B[re]=me,B[ae]=te,re=ae;else break e}}return H}function r(B,H){var te=B.sortIndex-H.sortIndex;return te!==0?te:B.id-H.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,c=o.now();n.unstable_now=function(){return o.now()-c}}var u=[],h=[],f=1,p=null,g=3,v=!1,w=!1,b=!1,A=!1,S=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function D(B){for(var H=t(h);H!==null;){if(H.callback===null)i(h);else if(H.startTime<=B)i(h),H.sortIndex=H.expirationTime,e(u,H);else break;H=t(h)}}function T(B){if(b=!1,D(B),!w)if(t(u)!==null)w=!0,P||(P=!0,K());else{var H=t(h);H!==null&&le(T,H.startTime-B)}}var P=!1,R=-1,N=5,I=-1;function W(){return A?!0:!(n.unstable_now()-I<N)}function U(){if(A=!1,P){var B=n.unstable_now();I=B;var H=!0;try{e:{w=!1,b&&(b=!1,M(R),R=-1),v=!0;var te=g;try{t:{for(D(B),p=t(u);p!==null&&!(p.expirationTime>B&&W());){var re=p.callback;if(typeof re=="function"){p.callback=null,g=p.priorityLevel;var xe=re(p.expirationTime<=B);if(B=n.unstable_now(),typeof xe=="function"){p.callback=xe,D(B),H=!0;break t}p===t(u)&&i(u),D(B)}else i(u);p=t(u)}if(p!==null)H=!0;else{var L=t(h);L!==null&&le(T,L.startTime-B),H=!1}}break e}finally{p=null,g=te,v=!1}H=void 0}}finally{H?K():P=!1}}}var K;if(typeof _=="function")K=function(){_(U)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,oe=se.port2;se.port1.onmessage=U,K=function(){oe.postMessage(null)}}else K=function(){S(U,0)};function le(B,H){R=S(function(){B(n.unstable_now())},H)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return g},n.unstable_next=function(B){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var te=g;g=H;try{return B()}finally{g=te}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(B,H){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var te=g;g=B;try{return H()}finally{g=te}},n.unstable_scheduleCallback=function(B,H,te){var re=n.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?re+te:re):te=re,B){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=te+xe,B={id:f++,callback:H,priorityLevel:B,startTime:te,expirationTime:xe,sortIndex:-1},te>re?(B.sortIndex=te,e(h,B),t(u)===null&&B===t(h)&&(b?(M(R),R=-1):b=!0,le(T,te-re))):(B.sortIndex=xe,e(u,B),w||v||(w=!0,P||(P=!0,K()))),B},n.unstable_shouldYield=W,n.unstable_wrapCallback=function(B){var H=g;return function(){var te=g;g=H;try{return B.apply(this,arguments)}finally{g=te}}}})(Ng)),Ng}var eE;function DL(){return eE||(eE=1,Rg.exports=PL()),Rg.exports}var jg={exports:{}},fn={};var tE;function kL(){if(tE)return fn;tE=1;var n=Zo();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function s(u,h,f){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:p==null?null:""+p,children:u,containerInfo:h,implementation:f}}var o=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,fn.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,f)},fn.flushSync=function(u){var h=o.T,f=i.p;try{if(o.T=null,i.p=2,u)return u()}finally{o.T=h,i.p=f,i.d.f()}},fn.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(u,h))},fn.prefetchDNS=function(u){typeof u=="string"&&i.d.D(u)},fn.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?i.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:v}):f==="script"&&i.d.X(u,{crossOrigin:p,integrity:g,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},fn.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);i.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(u)},fn.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,p=c(f,h.crossOrigin);i.d.L(u,f,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},fn.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);i.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(u)},fn.requestFormReset=function(u){i.d.r(u)},fn.unstable_batchedUpdates=function(u,h){return u(h)},fn.useFormState=function(u,h,f){return o.H.useFormState(u,h,f)},fn.useFormStatus=function(){return o.H.useHostTransitionStatus()},fn.version="19.2.1",fn}var nE;function i2(){if(nE)return jg.exports;nE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jg.exports=kL(),jg.exports}var iE;function RL(){if(iE)return tc;iE=1;var n=DL(),e=Zo(),t=i2();function i(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function o(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(s(a)!==a)throw Error(i(188))}function h(a){var l=a.alternate;if(!l){if(l=s(a),l===null)throw Error(i(188));return l!==a?null:a}for(var d=a,m=l;;){var y=d.return;if(y===null)break;var x=y.alternate;if(x===null){if(m=y.return,m!==null){d=m;continue}break}if(y.child===x.child){for(x=y.child;x;){if(x===d)return u(y),a;if(x===m)return u(y),l;x=x.sibling}throw Error(i(188))}if(d.return!==m.return)d=y,m=x;else{for(var O=!1,k=y.child;k;){if(k===d){O=!0,d=y,m=x;break}if(k===m){O=!0,m=y,d=x;break}k=k.sibling}if(!O){for(k=x.child;k;){if(k===d){O=!0,d=x,m=y;break}if(k===m){O=!0,m=x,d=y;break}k=k.sibling}if(!O)throw Error(i(189))}}if(d.alternate!==m)throw Error(i(190))}if(d.tag!==3)throw Error(i(188));return d.stateNode.current===d?a:l}function f(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=f(a),l!==null)return l;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),_=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function K(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var se=Symbol.for("react.client.reference");function oe(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===se?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case b:return"Fragment";case S:return"Profiler";case A:return"StrictMode";case T:return"Suspense";case P:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case _:return a.displayName||"Context";case M:return(a._context.displayName||"Context")+".Consumer";case D:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return l=a.displayName||null,l!==null?l:oe(a.type)||"Memo";case N:l=a._payload,a=a._init;try{return oe(a(l))}catch{}}return null}var le=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},re=[],xe=-1;function L(a){return{current:a}}function V(a){0>xe||(a.current=re[xe],re[xe]=null,xe--)}function ne(a,l){xe++,re[xe]=a.current,a.current=l}var ae=L(null),me=L(null),we=L(null),ce=L(null);function at(a,l){switch(ne(we,l),ne(me,a),ne(ae,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?gS(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=gS(l),a=vS(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(ae),ne(ae,a)}function Q(){V(ae),V(me),V(we)}function Se(a){a.memoizedState!==null&&ne(ce,a);var l=ae.current,d=vS(l,a.type);l!==d&&(ne(me,a),ne(ae,d))}function Me(a){me.current===a&&(V(ae),V(me)),ce.current===a&&(V(ce),Kl._currentValue=te)}var ie,Tt;function Re(a){if(ie===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);ie=l&&l[1]||"",Tt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ie+a+Tt}var Qt=!1;function Jt(a,l){if(!a||Qt)return"";Qt=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(l){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var G=Y}Reflect.construct(a,[],ee)}else{try{ee.call()}catch(Y){G=Y}a.call(ee.prototype)}}else{try{throw Error()}catch(Y){G=Y}(ee=a())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&G&&typeof Y.stack=="string")return[Y.stack,G.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var y=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");y&&y.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=m.DetermineComponentFrameRoot(),O=x[0],k=x[1];if(O&&k){var j=O.split(`
`),q=k.split(`
`);for(y=m=0;m<j.length&&!j[m].includes("DetermineComponentFrameRoot");)m++;for(;y<q.length&&!q[y].includes("DetermineComponentFrameRoot");)y++;if(m===j.length||y===q.length)for(m=j.length-1,y=q.length-1;1<=m&&0<=y&&j[m]!==q[y];)y--;for(;1<=m&&0<=y;m--,y--)if(j[m]!==q[y]){if(m!==1||y!==1)do if(m--,y--,0>y||j[m]!==q[y]){var Z=`
`+j[m].replace(" at new "," at ");return a.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",a.displayName)),Z}while(1<=m&&0<=y);break}}}finally{Qt=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Re(d):""}function or(a,l){switch(a.tag){case 26:case 27:case 5:return Re(a.type);case 16:return Re("Lazy");case 13:return a.child!==l&&l!==null?Re("Suspense Fallback"):Re("Suspense");case 19:return Re("SuspenseList");case 0:case 15:return Jt(a.type,!1);case 11:return Jt(a.type.render,!1);case 1:return Jt(a.type,!0);case 31:return Re("Activity");default:return""}}function ol(a){try{var l="",d=null;do l+=or(a,d),d=a,a=a.return;while(a);return l}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var pp=Object.prototype.hasOwnProperty,mp=n.unstable_scheduleCallback,gp=n.unstable_cancelCallback,iN=n.unstable_shouldYield,rN=n.unstable_requestPaint,Hn=n.unstable_now,aN=n.unstable_getCurrentPriorityLevel,X1=n.unstable_ImmediatePriority,W1=n.unstable_UserBlockingPriority,Au=n.unstable_NormalPriority,sN=n.unstable_LowPriority,K1=n.unstable_IdlePriority,oN=n.log,lN=n.unstable_setDisableYieldValue,ll=null,$n=null;function ta(a){if(typeof oN=="function"&&lN(a),$n&&typeof $n.setStrictMode=="function")try{$n.setStrictMode(ll,a)}catch{}}var qn=Math.clz32?Math.clz32:dN,cN=Math.log,uN=Math.LN2;function dN(a){return a>>>=0,a===0?32:31-(cN(a)/uN|0)|0}var Su=256,Eu=262144,_u=4194304;function Ua(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Cu(a,l,d){var m=a.pendingLanes;if(m===0)return 0;var y=0,x=a.suspendedLanes,O=a.pingedLanes;a=a.warmLanes;var k=m&134217727;return k!==0?(m=k&~x,m!==0?y=Ua(m):(O&=k,O!==0?y=Ua(O):d||(d=k&~a,d!==0&&(y=Ua(d))))):(k=m&~x,k!==0?y=Ua(k):O!==0?y=Ua(O):d||(d=m&~a,d!==0&&(y=Ua(d)))),y===0?0:l!==0&&l!==y&&(l&x)===0&&(x=y&-y,d=l&-l,x>=d||x===32&&(d&4194048)!==0)?l:y}function cl(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function hN(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z1(){var a=_u;return _u<<=1,(_u&62914560)===0&&(_u=4194304),a}function vp(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function ul(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function fN(a,l,d,m,y,x){var O=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var k=a.entanglements,j=a.expirationTimes,q=a.hiddenUpdates;for(d=O&~d;0<d;){var Z=31-qn(d),ee=1<<Z;k[Z]=0,j[Z]=-1;var G=q[Z];if(G!==null)for(q[Z]=null,Z=0;Z<G.length;Z++){var Y=G[Z];Y!==null&&(Y.lane&=-536870913)}d&=~ee}m!==0&&Q1(a,m,0),x!==0&&y===0&&a.tag!==0&&(a.suspendedLanes|=x&~(O&~l))}function Q1(a,l,d){a.pendingLanes|=l,a.suspendedLanes&=~l;var m=31-qn(l);a.entangledLanes|=l,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function J1(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var m=31-qn(d),y=1<<m;y&l|a[m]&l&&(a[m]|=l),d&=~y}}function ex(a,l){var d=l&-l;return d=(d&42)!==0?1:yp(d),(d&(a.suspendedLanes|l))!==0?0:d}function yp(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function bp(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function tx(){var a=H.p;return a!==0?a:(a=window.event,a===void 0?32:FS(a.type))}function nx(a,l){var d=H.p;try{return H.p=a,l()}finally{H.p=d}}var na=Math.random().toString(36).slice(2),en="__reactFiber$"+na,Tn="__reactProps$"+na,Rs="__reactContainer$"+na,xp="__reactEvents$"+na,pN="__reactListeners$"+na,mN="__reactHandles$"+na,ix="__reactResources$"+na,dl="__reactMarker$"+na;function wp(a){delete a[en],delete a[Tn],delete a[xp],delete a[pN],delete a[mN]}function Ns(a){var l=a[en];if(l)return l;for(var d=a.parentNode;d;){if(l=d[Rs]||d[en]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(a=ES(a);a!==null;){if(d=a[en])return d;a=ES(a)}return l}a=d,d=a.parentNode}return null}function js(a){if(a=a[en]||a[Rs]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function hl(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(i(33))}function Ls(a){var l=a[ix];return l||(l=a[ix]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function Ht(a){a[dl]=!0}var rx=new Set,ax={};function Ha(a,l){Is(a,l),Is(a+"Capture",l)}function Is(a,l){for(ax[a]=l,a=0;a<l.length;a++)rx.add(l[a])}var gN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),sx={},ox={};function vN(a){return pp.call(ox,a)?!0:pp.call(sx,a)?!1:gN.test(a)?ox[a]=!0:(sx[a]=!0,!1)}function Tu(a,l,d){if(vN(l))if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var m=l.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+d)}}function Ou(a,l,d){if(d===null)a.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+d)}}function lr(a,l,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(l,d,""+m)}}function si(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function lx(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function yN(a,l,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var y=m.get,x=m.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return y.call(this)},set:function(O){d=""+O,x.call(this,O)}}),Object.defineProperty(a,l,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(O){d=""+O},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Ap(a){if(!a._valueTracker){var l=lx(a)?"checked":"value";a._valueTracker=yN(a,l,""+a[l])}}function cx(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var d=l.getValue(),m="";return a&&(m=lx(a)?a.checked?"true":"false":a.value),a=m,a!==d?(l.setValue(a),!0):!1}function Mu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var bN=/[\n"\\]/g;function oi(a){return a.replace(bN,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Sp(a,l,d,m,y,x,O,k){a.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.type=O:a.removeAttribute("type"),l!=null?O==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+si(l)):a.value!==""+si(l)&&(a.value=""+si(l)):O!=="submit"&&O!=="reset"||a.removeAttribute("value"),l!=null?Ep(a,O,si(l)):d!=null?Ep(a,O,si(d)):m!=null&&a.removeAttribute("value"),y==null&&x!=null&&(a.defaultChecked=!!x),y!=null&&(a.checked=y&&typeof y!="function"&&typeof y!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+si(k):a.removeAttribute("name")}function ux(a,l,d,m,y,x,O,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),l!=null||d!=null){if(!(x!=="submit"&&x!=="reset"||l!=null)){Ap(a);return}d=d!=null?""+si(d):"",l=l!=null?""+si(l):d,k||l===a.value||(a.value=l),a.defaultValue=l}m=m??y,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=k?a.checked:!!m,a.defaultChecked=!!m,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(a.name=O),Ap(a)}function Ep(a,l,d){l==="number"&&Mu(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Bs(a,l,d,m){if(a=a.options,l){l={};for(var y=0;y<d.length;y++)l["$"+d[y]]=!0;for(d=0;d<a.length;d++)y=l.hasOwnProperty("$"+a[d].value),a[d].selected!==y&&(a[d].selected=y),y&&m&&(a[d].defaultSelected=!0)}else{for(d=""+si(d),l=null,y=0;y<a.length;y++){if(a[y].value===d){a[y].selected=!0,m&&(a[y].defaultSelected=!0);return}l!==null||a[y].disabled||(l=a[y])}l!==null&&(l.selected=!0)}}function dx(a,l,d){if(l!=null&&(l=""+si(l),l!==a.value&&(a.value=l),d==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=d!=null?""+si(d):""}function hx(a,l,d,m){if(l==null){if(m!=null){if(d!=null)throw Error(i(92));if(le(m)){if(1<m.length)throw Error(i(93));m=m[0]}d=m}d==null&&(d=""),l=d}d=si(l),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),Ap(a)}function zs(a,l){if(l){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=l;return}}a.textContent=l}var xN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fx(a,l,d){var m=l.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":m?a.setProperty(l,d):typeof d!="number"||d===0||xN.has(l)?l==="float"?a.cssFloat=d:a[l]=(""+d).trim():a[l]=d+"px"}function px(a,l,d){if(l!=null&&typeof l!="object")throw Error(i(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||l!=null&&l.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var y in l)m=l[y],l.hasOwnProperty(y)&&d[y]!==m&&fx(a,y,m)}else for(var x in l)l.hasOwnProperty(x)&&fx(a,x,l[x])}function _p(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),AN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pu(a){return AN.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function cr(){}var Cp=null;function Tp(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Fs=null,Us=null;function mx(a){var l=js(a);if(l&&(a=l.stateNode)){var d=a[Tn]||null;e:switch(a=l.stateNode,l.type){case"input":if(Sp(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),l=d.name,d.type==="radio"&&l!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+oi(""+l)+'"][type="radio"]'),l=0;l<d.length;l++){var m=d[l];if(m!==a&&m.form===a.form){var y=m[Tn]||null;if(!y)throw Error(i(90));Sp(m,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name)}}for(l=0;l<d.length;l++)m=d[l],m.form===a.form&&cx(m)}break e;case"textarea":dx(a,d.value,d.defaultValue);break e;case"select":l=d.value,l!=null&&Bs(a,!!d.multiple,l,!1)}}}var Op=!1;function gx(a,l,d){if(Op)return a(l,d);Op=!0;try{var m=a(l);return m}finally{if(Op=!1,(Fs!==null||Us!==null)&&(vd(),Fs&&(l=Fs,a=Us,Us=Fs=null,mx(l),a)))for(l=0;l<a.length;l++)mx(a[l])}}function fl(a,l){var d=a.stateNode;if(d===null)return null;var m=d[Tn]||null;if(m===null)return null;d=m[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(i(231,l,typeof d));return d}var ur=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mp=!1;if(ur)try{var pl={};Object.defineProperty(pl,"passive",{get:function(){Mp=!0}}),window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Mp=!1}var ia=null,Pp=null,Du=null;function vx(){if(Du)return Du;var a,l=Pp,d=l.length,m,y="value"in ia?ia.value:ia.textContent,x=y.length;for(a=0;a<d&&l[a]===y[a];a++);var O=d-a;for(m=1;m<=O&&l[d-m]===y[x-m];m++);return Du=y.slice(a,1<m?1-m:void 0)}function ku(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Ru(){return!0}function yx(){return!1}function On(a){function l(d,m,y,x,O){this._reactName=d,this._targetInst=y,this.type=m,this.nativeEvent=x,this.target=O,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(d=a[k],this[k]=d?d(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ru:yx,this.isPropagationStopped=yx,this}return p(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),l}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nu=On($a),ml=p({},$a,{view:0,detail:0}),SN=On(ml),Dp,kp,gl,ju=p({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Np,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==gl&&(gl&&a.type==="mousemove"?(Dp=a.screenX-gl.screenX,kp=a.screenY-gl.screenY):kp=Dp=0,gl=a),Dp)},movementY:function(a){return"movementY"in a?a.movementY:kp}}),bx=On(ju),EN=p({},ju,{dataTransfer:0}),_N=On(EN),CN=p({},ml,{relatedTarget:0}),Rp=On(CN),TN=p({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),ON=On(TN),MN=p({},$a,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),PN=On(MN),DN=p({},$a,{data:0}),xx=On(DN),kN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},NN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jN(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=NN[a])?!!l[a]:!1}function Np(){return jN}var LN=p({},ml,{key:function(a){if(a.key){var l=kN[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ku(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?RN[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Np,charCode:function(a){return a.type==="keypress"?ku(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ku(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),IN=On(LN),BN=p({},ju,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wx=On(BN),zN=p({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Np}),FN=On(zN),UN=p({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),HN=On(UN),$N=p({},ju,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),qN=On($N),GN=p({},$a,{newState:0,oldState:0}),VN=On(GN),YN=[9,13,27,32],jp=ur&&"CompositionEvent"in window,vl=null;ur&&"documentMode"in document&&(vl=document.documentMode);var XN=ur&&"TextEvent"in window&&!vl,Ax=ur&&(!jp||vl&&8<vl&&11>=vl),Sx=" ",Ex=!1;function _x(a,l){switch(a){case"keyup":return YN.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cx(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Hs=!1;function WN(a,l){switch(a){case"compositionend":return Cx(l);case"keypress":return l.which!==32?null:(Ex=!0,Sx);case"textInput":return a=l.data,a===Sx&&Ex?null:a;default:return null}}function KN(a,l){if(Hs)return a==="compositionend"||!jp&&_x(a,l)?(a=vx(),Du=Pp=ia=null,Hs=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Ax&&l.locale!=="ko"?null:l.data;default:return null}}var ZN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tx(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!ZN[a.type]:l==="textarea"}function Ox(a,l,d,m){Fs?Us?Us.push(m):Us=[m]:Fs=m,l=Ed(l,"onChange"),0<l.length&&(d=new Nu("onChange","change",null,d,m),a.push({event:d,listeners:l}))}var yl=null,bl=null;function QN(a){uS(a,0)}function Lu(a){var l=hl(a);if(cx(l))return a}function Mx(a,l){if(a==="change")return l}var Px=!1;if(ur){var Lp;if(ur){var Ip="oninput"in document;if(!Ip){var Dx=document.createElement("div");Dx.setAttribute("oninput","return;"),Ip=typeof Dx.oninput=="function"}Lp=Ip}else Lp=!1;Px=Lp&&(!document.documentMode||9<document.documentMode)}function kx(){yl&&(yl.detachEvent("onpropertychange",Rx),bl=yl=null)}function Rx(a){if(a.propertyName==="value"&&Lu(bl)){var l=[];Ox(l,bl,a,Tp(a)),gx(QN,l)}}function JN(a,l,d){a==="focusin"?(kx(),yl=l,bl=d,yl.attachEvent("onpropertychange",Rx)):a==="focusout"&&kx()}function ej(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Lu(bl)}function tj(a,l){if(a==="click")return Lu(l)}function nj(a,l){if(a==="input"||a==="change")return Lu(l)}function ij(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Gn=typeof Object.is=="function"?Object.is:ij;function xl(a,l){if(Gn(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),m=Object.keys(l);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var y=d[m];if(!pp.call(l,y)||!Gn(a[y],l[y]))return!1}return!0}function Nx(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function jx(a,l){var d=Nx(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=l&&m>=l)return{node:d,offset:l-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=Nx(d)}}function Lx(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?Lx(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function Ix(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Mu(a.document);l instanceof a.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)a=l.contentWindow;else break;l=Mu(a.document)}return l}function Bp(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var rj=ur&&"documentMode"in document&&11>=document.documentMode,$s=null,zp=null,wl=null,Fp=!1;function Bx(a,l,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Fp||$s==null||$s!==Mu(m)||(m=$s,"selectionStart"in m&&Bp(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),wl&&xl(wl,m)||(wl=m,m=Ed(zp,"onSelect"),0<m.length&&(l=new Nu("onSelect","select",null,l,d),a.push({event:l,listeners:m}),l.target=$s)))}function qa(a,l){var d={};return d[a.toLowerCase()]=l.toLowerCase(),d["Webkit"+a]="webkit"+l,d["Moz"+a]="moz"+l,d}var qs={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionrun:qa("Transition","TransitionRun"),transitionstart:qa("Transition","TransitionStart"),transitioncancel:qa("Transition","TransitionCancel"),transitionend:qa("Transition","TransitionEnd")},Up={},zx={};ur&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete qs.animationend.animation,delete qs.animationiteration.animation,delete qs.animationstart.animation),"TransitionEvent"in window||delete qs.transitionend.transition);function Ga(a){if(Up[a])return Up[a];if(!qs[a])return a;var l=qs[a],d;for(d in l)if(l.hasOwnProperty(d)&&d in zx)return Up[a]=l[d];return a}var Fx=Ga("animationend"),Ux=Ga("animationiteration"),Hx=Ga("animationstart"),aj=Ga("transitionrun"),sj=Ga("transitionstart"),oj=Ga("transitioncancel"),$x=Ga("transitionend"),qx=new Map,Hp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hp.push("scrollEnd");function Pi(a,l){qx.set(a,l),Ha(l,[a])}var Iu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},li=[],Gs=0,$p=0;function Bu(){for(var a=Gs,l=$p=Gs=0;l<a;){var d=li[l];li[l++]=null;var m=li[l];li[l++]=null;var y=li[l];li[l++]=null;var x=li[l];if(li[l++]=null,m!==null&&y!==null){var O=m.pending;O===null?y.next=y:(y.next=O.next,O.next=y),m.pending=y}x!==0&&Gx(d,y,x)}}function zu(a,l,d,m){li[Gs++]=a,li[Gs++]=l,li[Gs++]=d,li[Gs++]=m,$p|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function qp(a,l,d,m){return zu(a,l,d,m),Fu(a)}function Va(a,l){return zu(a,null,null,l),Fu(a)}function Gx(a,l,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var y=!1,x=a.return;x!==null;)x.childLanes|=d,m=x.alternate,m!==null&&(m.childLanes|=d),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(y=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,y&&l!==null&&(y=31-qn(d),a=x.hiddenUpdates,m=a[y],m===null?a[y]=[l]:m.push(l),l.lane=d|536870912),x):null}function Fu(a){if(50<$l)throw $l=0,Jm=null,Error(i(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Vs={};function lj(a,l,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(a,l,d,m){return new lj(a,l,d,m)}function Gp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function dr(a,l){var d=a.alternate;return d===null?(d=Vn(a.tag,l,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function Vx(a,l){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,l=d.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Uu(a,l,d,m,y,x){var O=0;if(m=a,typeof a=="function")Gp(a)&&(O=1);else if(typeof a=="string")O=fL(a,d,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=Vn(31,d,l,y),a.elementType=I,a.lanes=x,a;case b:return Ya(d.children,y,x,l);case A:O=8,y|=24;break;case S:return a=Vn(12,d,l,y|2),a.elementType=S,a.lanes=x,a;case T:return a=Vn(13,d,l,y),a.elementType=T,a.lanes=x,a;case P:return a=Vn(19,d,l,y),a.elementType=P,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case _:O=10;break e;case M:O=9;break e;case D:O=11;break e;case R:O=14;break e;case N:O=16,m=null;break e}O=29,d=Error(i(130,a===null?"null":typeof a,"")),m=null}return l=Vn(O,d,l,y),l.elementType=a,l.type=m,l.lanes=x,l}function Ya(a,l,d,m){return a=Vn(7,a,m,l),a.lanes=d,a}function Vp(a,l,d){return a=Vn(6,a,null,l),a.lanes=d,a}function Yx(a){var l=Vn(18,null,null,0);return l.stateNode=a,l}function Yp(a,l,d){return l=Vn(4,a.children!==null?a.children:[],a.key,l),l.lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Xx=new WeakMap;function ci(a,l){if(typeof a=="object"&&a!==null){var d=Xx.get(a);return d!==void 0?d:(l={value:a,source:l,stack:ol(l)},Xx.set(a,l),l)}return{value:a,source:l,stack:ol(l)}}var Ys=[],Xs=0,Hu=null,Al=0,ui=[],di=0,ra=null,qi=1,Gi="";function hr(a,l){Ys[Xs++]=Al,Ys[Xs++]=Hu,Hu=a,Al=l}function Wx(a,l,d){ui[di++]=qi,ui[di++]=Gi,ui[di++]=ra,ra=a;var m=qi;a=Gi;var y=32-qn(m)-1;m&=~(1<<y),d+=1;var x=32-qn(l)+y;if(30<x){var O=y-y%5;x=(m&(1<<O)-1).toString(32),m>>=O,y-=O,qi=1<<32-qn(l)+y|d<<y|m,Gi=x+a}else qi=1<<x|d<<y|m,Gi=a}function Xp(a){a.return!==null&&(hr(a,1),Wx(a,1,0))}function Wp(a){for(;a===Hu;)Hu=Ys[--Xs],Ys[Xs]=null,Al=Ys[--Xs],Ys[Xs]=null;for(;a===ra;)ra=ui[--di],ui[di]=null,Gi=ui[--di],ui[di]=null,qi=ui[--di],ui[di]=null}function Kx(a,l){ui[di++]=qi,ui[di++]=Gi,ui[di++]=ra,qi=l.id,Gi=l.overflow,ra=a}var tn=null,st=null,Le=!1,aa=null,hi=!1,Kp=Error(i(519));function sa(a){var l=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sl(ci(l,a)),Kp}function Zx(a){var l=a.stateNode,d=a.type,m=a.memoizedProps;switch(l[en]=a,l[Tn]=m,d){case"dialog":ke("cancel",l),ke("close",l);break;case"iframe":case"object":case"embed":ke("load",l);break;case"video":case"audio":for(d=0;d<Gl.length;d++)ke(Gl[d],l);break;case"source":ke("error",l);break;case"img":case"image":case"link":ke("error",l),ke("load",l);break;case"details":ke("toggle",l);break;case"input":ke("invalid",l),ux(l,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":ke("invalid",l);break;case"textarea":ke("invalid",l),hx(l,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||l.textContent===""+d||m.suppressHydrationWarning===!0||pS(l.textContent,d)?(m.popover!=null&&(ke("beforetoggle",l),ke("toggle",l)),m.onScroll!=null&&ke("scroll",l),m.onScrollEnd!=null&&ke("scrollend",l),m.onClick!=null&&(l.onclick=cr),l=!0):l=!1,l||sa(a,!0)}function Qx(a){for(tn=a.return;tn;)switch(tn.tag){case 5:case 31:case 13:hi=!1;return;case 27:case 3:hi=!0;return;default:tn=tn.return}}function Ws(a){if(a!==tn)return!1;if(!Le)return Qx(a),Le=!0,!1;var l=a.tag,d;if((d=l!==3&&l!==27)&&((d=l===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||pg(a.type,a.memoizedProps)),d=!d),d&&st&&sa(a),Qx(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));st=SS(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(317));st=SS(a)}else l===27?(l=st,xa(a.type)?(a=bg,bg=null,st=a):st=l):st=tn?pi(a.stateNode.nextSibling):null;return!0}function Xa(){st=tn=null,Le=!1}function Zp(){var a=aa;return a!==null&&(kn===null?kn=a:kn.push.apply(kn,a),aa=null),a}function Sl(a){aa===null?aa=[a]:aa.push(a)}var Qp=L(null),Wa=null,fr=null;function oa(a,l,d){ne(Qp,l._currentValue),l._currentValue=d}function pr(a){a._currentValue=Qp.current,V(Qp)}function Jp(a,l,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,m!==null&&(m.childLanes|=l)):m!==null&&(m.childLanes&l)!==l&&(m.childLanes|=l),a===d)break;a=a.return}}function em(a,l,d,m){var y=a.child;for(y!==null&&(y.return=a);y!==null;){var x=y.dependencies;if(x!==null){var O=y.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=y;for(var j=0;j<l.length;j++)if(k.context===l[j]){x.lanes|=d,k=x.alternate,k!==null&&(k.lanes|=d),Jp(x.return,d,a),m||(O=null);break e}x=k.next}}else if(y.tag===18){if(O=y.return,O===null)throw Error(i(341));O.lanes|=d,x=O.alternate,x!==null&&(x.lanes|=d),Jp(O,d,a),O=null}else O=y.child;if(O!==null)O.return=y;else for(O=y;O!==null;){if(O===a){O=null;break}if(y=O.sibling,y!==null){y.return=O.return,O=y;break}O=O.return}y=O}}function Ks(a,l,d,m){a=null;for(var y=l,x=!1;y!==null;){if(!x){if((y.flags&524288)!==0)x=!0;else if((y.flags&262144)!==0)break}if(y.tag===10){var O=y.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var k=y.type;Gn(y.pendingProps.value,O.value)||(a!==null?a.push(k):a=[k])}}else if(y===ce.current){if(O=y.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==y.memoizedState.memoizedState&&(a!==null?a.push(Kl):a=[Kl])}y=y.return}a!==null&&em(l,a,d,m),l.flags|=262144}function $u(a){for(a=a.firstContext;a!==null;){if(!Gn(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ka(a){Wa=a,fr=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function nn(a){return Jx(Wa,a)}function qu(a,l){return Wa===null&&Ka(a),Jx(a,l)}function Jx(a,l){var d=l._currentValue;if(l={context:l,memoizedValue:d,next:null},fr===null){if(a===null)throw Error(i(308));fr=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else fr=fr.next=l;return d}var cj=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){l.aborted=!0,a.forEach(function(d){return d()})}},uj=n.unstable_scheduleCallback,dj=n.unstable_NormalPriority,Ot={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tm(){return{controller:new cj,data:new Map,refCount:0}}function El(a){a.refCount--,a.refCount===0&&uj(dj,function(){a.controller.abort()})}var _l=null,nm=0,Zs=0,Qs=null;function hj(a,l){if(_l===null){var d=_l=[];nm=0,Zs=ag(),Qs={status:"pending",value:void 0,then:function(m){d.push(m)}}}return nm++,l.then(ew,ew),l}function ew(){if(--nm===0&&_l!==null){Qs!==null&&(Qs.status="fulfilled");var a=_l;_l=null,Zs=0,Qs=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function fj(a,l){var d=[],m={status:"pending",value:null,reason:null,then:function(y){d.push(y)}};return a.then(function(){m.status="fulfilled",m.value=l;for(var y=0;y<d.length;y++)(0,d[y])(l)},function(y){for(m.status="rejected",m.reason=y,y=0;y<d.length;y++)(0,d[y])(void 0)}),m}var tw=B.S;B.S=function(a,l){BA=Hn(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&hj(a,l),tw!==null&&tw(a,l)};var Za=L(null);function im(){var a=Za.current;return a!==null?a:tt.pooledCache}function Gu(a,l){l===null?ne(Za,Za.current):ne(Za,l.pool)}function nw(){var a=im();return a===null?null:{parent:Ot._currentValue,pool:a}}var Js=Error(i(460)),rm=Error(i(474)),Vu=Error(i(542)),Yu={then:function(){}};function iw(a){return a=a.status,a==="fulfilled"||a==="rejected"}function rw(a,l,d){switch(d=a[d],d===void 0?a.push(l):d!==l&&(l.then(cr,cr),l=d),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,sw(a),a;default:if(typeof l.status=="string")l.then(cr,cr);else{if(a=tt,a!==null&&100<a.shellSuspendCounter)throw Error(i(482));a=l,a.status="pending",a.then(function(m){if(l.status==="pending"){var y=l;y.status="fulfilled",y.value=m}},function(m){if(l.status==="pending"){var y=l;y.status="rejected",y.reason=m}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,sw(a),a}throw Ja=l,Js}}function Qa(a){try{var l=a._init;return l(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(Ja=d,Js):d}}var Ja=null;function aw(){if(Ja===null)throw Error(i(459));var a=Ja;return Ja=null,a}function sw(a){if(a===Js||a===Vu)throw Error(i(483))}var eo=null,Cl=0;function Xu(a){var l=Cl;return Cl+=1,eo===null&&(eo=[]),rw(eo,a,l)}function Tl(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Wu(a,l){throw l.$$typeof===g?Error(i(525)):(a=Object.prototype.toString.call(l),Error(i(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function ow(a){function l(F,z){if(a){var $=F.deletions;$===null?(F.deletions=[z],F.flags|=16):$.push(z)}}function d(F,z){if(!a)return null;for(;z!==null;)l(F,z),z=z.sibling;return null}function m(F){for(var z=new Map;F!==null;)F.key!==null?z.set(F.key,F):z.set(F.index,F),F=F.sibling;return z}function y(F,z){return F=dr(F,z),F.index=0,F.sibling=null,F}function x(F,z,$){return F.index=$,a?($=F.alternate,$!==null?($=$.index,$<z?(F.flags|=67108866,z):$):(F.flags|=67108866,z)):(F.flags|=1048576,z)}function O(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function k(F,z,$,J){return z===null||z.tag!==6?(z=Vp($,F.mode,J),z.return=F,z):(z=y(z,$),z.return=F,z)}function j(F,z,$,J){var ve=$.type;return ve===b?Z(F,z,$.props.children,J,$.key):z!==null&&(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&Qa(ve)===z.type)?(z=y(z,$.props),Tl(z,$),z.return=F,z):(z=Uu($.type,$.key,$.props,null,F.mode,J),Tl(z,$),z.return=F,z)}function q(F,z,$,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==$.containerInfo||z.stateNode.implementation!==$.implementation?(z=Yp($,F.mode,J),z.return=F,z):(z=y(z,$.children||[]),z.return=F,z)}function Z(F,z,$,J,ve){return z===null||z.tag!==7?(z=Ya($,F.mode,J,ve),z.return=F,z):(z=y(z,$),z.return=F,z)}function ee(F,z,$){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=Vp(""+z,F.mode,$),z.return=F,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case v:return $=Uu(z.type,z.key,z.props,null,F.mode,$),Tl($,z),$.return=F,$;case w:return z=Yp(z,F.mode,$),z.return=F,z;case N:return z=Qa(z),ee(F,z,$)}if(le(z)||K(z))return z=Ya(z,F.mode,$,null),z.return=F,z;if(typeof z.then=="function")return ee(F,Xu(z),$);if(z.$$typeof===_)return ee(F,qu(F,z),$);Wu(F,z)}return null}function G(F,z,$,J){var ve=z!==null?z.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return ve!==null?null:k(F,z,""+$,J);if(typeof $=="object"&&$!==null){switch($.$$typeof){case v:return $.key===ve?j(F,z,$,J):null;case w:return $.key===ve?q(F,z,$,J):null;case N:return $=Qa($),G(F,z,$,J)}if(le($)||K($))return ve!==null?null:Z(F,z,$,J,null);if(typeof $.then=="function")return G(F,z,Xu($),J);if($.$$typeof===_)return G(F,z,qu(F,$),J);Wu(F,$)}return null}function Y(F,z,$,J,ve){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return F=F.get($)||null,k(z,F,""+J,ve);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case v:return F=F.get(J.key===null?$:J.key)||null,j(z,F,J,ve);case w:return F=F.get(J.key===null?$:J.key)||null,q(z,F,J,ve);case N:return J=Qa(J),Y(F,z,$,J,ve)}if(le(J)||K(J))return F=F.get($)||null,Z(z,F,J,ve,null);if(typeof J.then=="function")return Y(F,z,$,Xu(J),ve);if(J.$$typeof===_)return Y(F,z,$,qu(z,J),ve);Wu(z,J)}return null}function he(F,z,$,J){for(var ve=null,Fe=null,pe=z,Pe=z=0,je=null;pe!==null&&Pe<$.length;Pe++){pe.index>Pe?(je=pe,pe=null):je=pe.sibling;var Ue=G(F,pe,$[Pe],J);if(Ue===null){pe===null&&(pe=je);break}a&&pe&&Ue.alternate===null&&l(F,pe),z=x(Ue,z,Pe),Fe===null?ve=Ue:Fe.sibling=Ue,Fe=Ue,pe=je}if(Pe===$.length)return d(F,pe),Le&&hr(F,Pe),ve;if(pe===null){for(;Pe<$.length;Pe++)pe=ee(F,$[Pe],J),pe!==null&&(z=x(pe,z,Pe),Fe===null?ve=pe:Fe.sibling=pe,Fe=pe);return Le&&hr(F,Pe),ve}for(pe=m(pe);Pe<$.length;Pe++)je=Y(pe,F,Pe,$[Pe],J),je!==null&&(a&&je.alternate!==null&&pe.delete(je.key===null?Pe:je.key),z=x(je,z,Pe),Fe===null?ve=je:Fe.sibling=je,Fe=je);return a&&pe.forEach(function(_a){return l(F,_a)}),Le&&hr(F,Pe),ve}function Ae(F,z,$,J){if($==null)throw Error(i(151));for(var ve=null,Fe=null,pe=z,Pe=z=0,je=null,Ue=$.next();pe!==null&&!Ue.done;Pe++,Ue=$.next()){pe.index>Pe?(je=pe,pe=null):je=pe.sibling;var _a=G(F,pe,Ue.value,J);if(_a===null){pe===null&&(pe=je);break}a&&pe&&_a.alternate===null&&l(F,pe),z=x(_a,z,Pe),Fe===null?ve=_a:Fe.sibling=_a,Fe=_a,pe=je}if(Ue.done)return d(F,pe),Le&&hr(F,Pe),ve;if(pe===null){for(;!Ue.done;Pe++,Ue=$.next())Ue=ee(F,Ue.value,J),Ue!==null&&(z=x(Ue,z,Pe),Fe===null?ve=Ue:Fe.sibling=Ue,Fe=Ue);return Le&&hr(F,Pe),ve}for(pe=m(pe);!Ue.done;Pe++,Ue=$.next())Ue=Y(pe,F,Pe,Ue.value,J),Ue!==null&&(a&&Ue.alternate!==null&&pe.delete(Ue.key===null?Pe:Ue.key),z=x(Ue,z,Pe),Fe===null?ve=Ue:Fe.sibling=Ue,Fe=Ue);return a&&pe.forEach(function(EL){return l(F,EL)}),Le&&hr(F,Pe),ve}function Qe(F,z,$,J){if(typeof $=="object"&&$!==null&&$.type===b&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case v:e:{for(var ve=$.key;z!==null;){if(z.key===ve){if(ve=$.type,ve===b){if(z.tag===7){d(F,z.sibling),J=y(z,$.props.children),J.return=F,F=J;break e}}else if(z.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&Qa(ve)===z.type){d(F,z.sibling),J=y(z,$.props),Tl(J,$),J.return=F,F=J;break e}d(F,z);break}else l(F,z);z=z.sibling}$.type===b?(J=Ya($.props.children,F.mode,J,$.key),J.return=F,F=J):(J=Uu($.type,$.key,$.props,null,F.mode,J),Tl(J,$),J.return=F,F=J)}return O(F);case w:e:{for(ve=$.key;z!==null;){if(z.key===ve)if(z.tag===4&&z.stateNode.containerInfo===$.containerInfo&&z.stateNode.implementation===$.implementation){d(F,z.sibling),J=y(z,$.children||[]),J.return=F,F=J;break e}else{d(F,z);break}else l(F,z);z=z.sibling}J=Yp($,F.mode,J),J.return=F,F=J}return O(F);case N:return $=Qa($),Qe(F,z,$,J)}if(le($))return he(F,z,$,J);if(K($)){if(ve=K($),typeof ve!="function")throw Error(i(150));return $=ve.call($),Ae(F,z,$,J)}if(typeof $.then=="function")return Qe(F,z,Xu($),J);if($.$$typeof===_)return Qe(F,z,qu(F,$),J);Wu(F,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,z!==null&&z.tag===6?(d(F,z.sibling),J=y(z,$),J.return=F,F=J):(d(F,z),J=Vp($,F.mode,J),J.return=F,F=J),O(F)):d(F,z)}return function(F,z,$,J){try{Cl=0;var ve=Qe(F,z,$,J);return eo=null,ve}catch(pe){if(pe===Js||pe===Vu)throw pe;var Fe=Vn(29,pe,null,F.mode);return Fe.lanes=J,Fe.return=F,Fe}finally{}}}var es=ow(!0),lw=ow(!1),la=!1;function am(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sm(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ca(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ua(a,l,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,($e&2)!==0){var y=m.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),m.pending=l,l=Fu(a),Gx(a,null,d),l}return zu(a,m,l,d),Fu(a)}function Ol(a,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194048)!==0)){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,J1(a,d)}}function om(a,l){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var y=null,x=null;if(d=d.firstBaseUpdate,d!==null){do{var O={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};x===null?y=x=O:x=x.next=O,d=d.next}while(d!==null);x===null?y=x=l:x=x.next=l}else y=x=l;d={baseState:m.baseState,firstBaseUpdate:y,lastBaseUpdate:x,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}var lm=!1;function Ml(){if(lm){var a=Qs;if(a!==null)throw a}}function Pl(a,l,d,m){lm=!1;var y=a.updateQueue;la=!1;var x=y.firstBaseUpdate,O=y.lastBaseUpdate,k=y.shared.pending;if(k!==null){y.shared.pending=null;var j=k,q=j.next;j.next=null,O===null?x=q:O.next=q,O=j;var Z=a.alternate;Z!==null&&(Z=Z.updateQueue,k=Z.lastBaseUpdate,k!==O&&(k===null?Z.firstBaseUpdate=q:k.next=q,Z.lastBaseUpdate=j))}if(x!==null){var ee=y.baseState;O=0,Z=q=j=null,k=x;do{var G=k.lane&-536870913,Y=G!==k.lane;if(Y?(Ne&G)===G:(m&G)===G){G!==0&&G===Zs&&(lm=!0),Z!==null&&(Z=Z.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var he=a,Ae=k;G=l;var Qe=d;switch(Ae.tag){case 1:if(he=Ae.payload,typeof he=="function"){ee=he.call(Qe,ee,G);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ae.payload,G=typeof he=="function"?he.call(Qe,ee,G):he,G==null)break e;ee=p({},ee,G);break e;case 2:la=!0}}G=k.callback,G!==null&&(a.flags|=64,Y&&(a.flags|=8192),Y=y.callbacks,Y===null?y.callbacks=[G]:Y.push(G))}else Y={lane:G,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Z===null?(q=Z=Y,j=ee):Z=Z.next=Y,O|=G;if(k=k.next,k===null){if(k=y.shared.pending,k===null)break;Y=k,k=Y.next,Y.next=null,y.lastBaseUpdate=Y,y.shared.pending=null}}while(!0);Z===null&&(j=ee),y.baseState=j,y.firstBaseUpdate=q,y.lastBaseUpdate=Z,x===null&&(y.shared.lanes=0),ma|=O,a.lanes=O,a.memoizedState=ee}}function cw(a,l){if(typeof a!="function")throw Error(i(191,a));a.call(l)}function uw(a,l){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)cw(d[a],l)}var to=L(null),Ku=L(0);function dw(a,l){a=Sr,ne(Ku,a),ne(to,l),Sr=a|l.baseLanes}function cm(){ne(Ku,Sr),ne(to,to.current)}function um(){Sr=Ku.current,V(to),V(Ku)}var Yn=L(null),fi=null;function da(a){var l=a.alternate;ne(wt,wt.current&1),ne(Yn,a),fi===null&&(l===null||to.current!==null||l.memoizedState!==null)&&(fi=a)}function dm(a){ne(wt,wt.current),ne(Yn,a),fi===null&&(fi=a)}function hw(a){a.tag===22?(ne(wt,wt.current),ne(Yn,a),fi===null&&(fi=a)):ha()}function ha(){ne(wt,wt.current),ne(Yn,Yn.current)}function Xn(a){V(Yn),fi===a&&(fi=null),V(wt)}var wt=L(0);function Zu(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||vg(d)||yg(d)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var mr=0,Oe=null,Ke=null,Mt=null,Qu=!1,no=!1,ts=!1,Ju=0,Dl=0,io=null,pj=0;function yt(){throw Error(i(321))}function hm(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!Gn(a[d],l[d]))return!1;return!0}function fm(a,l,d,m,y,x){return mr=x,Oe=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,B.H=a===null||a.memoizedState===null?Ww:Om,ts=!1,x=d(m,y),ts=!1,no&&(x=pw(l,d,m,y)),fw(a),x}function fw(a){B.H=Nl;var l=Ke!==null&&Ke.next!==null;if(mr=0,Mt=Ke=Oe=null,Qu=!1,Dl=0,io=null,l)throw Error(i(300));a===null||Pt||(a=a.dependencies,a!==null&&$u(a)&&(Pt=!0))}function pw(a,l,d,m){Oe=a;var y=0;do{if(no&&(io=null),Dl=0,no=!1,25<=y)throw Error(i(301));if(y+=1,Mt=Ke=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=Kw,x=l(d,m)}while(no);return x}function mj(){var a=B.H,l=a.useState()[0];return l=typeof l.then=="function"?kl(l):l,a=a.useState()[0],(Ke!==null?Ke.memoizedState:null)!==a&&(Oe.flags|=1024),l}function pm(){var a=Ju!==0;return Ju=0,a}function mm(a,l,d){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~d}function gm(a){if(Qu){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}Qu=!1}mr=0,Mt=Ke=Oe=null,no=!1,Dl=Ju=0,io=null}function vn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Oe.memoizedState=Mt=a:Mt=Mt.next=a,Mt}function At(){if(Ke===null){var a=Oe.alternate;a=a!==null?a.memoizedState:null}else a=Ke.next;var l=Mt===null?Oe.memoizedState:Mt.next;if(l!==null)Mt=l,Ke=a;else{if(a===null)throw Oe.alternate===null?Error(i(467)):Error(i(310));Ke=a,a={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},Mt===null?Oe.memoizedState=Mt=a:Mt=Mt.next=a}return Mt}function ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function kl(a){var l=Dl;return Dl+=1,io===null&&(io=[]),a=rw(io,a,l),l=Oe,(Mt===null?l.memoizedState:Mt.next)===null&&(l=l.alternate,B.H=l===null||l.memoizedState===null?Ww:Om),a}function td(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return kl(a);if(a.$$typeof===_)return nn(a)}throw Error(i(438,String(a)))}function vm(a){var l=null,d=Oe.updateQueue;if(d!==null&&(l=d.memoCache),l==null){var m=Oe.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(l={data:m.data.map(function(y){return y.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),d===null&&(d=ed(),Oe.updateQueue=d),d.memoCache=l,d=l.data[l.index],d===void 0)for(d=l.data[l.index]=Array(a),m=0;m<a;m++)d[m]=W;return l.index++,d}function gr(a,l){return typeof l=="function"?l(a):l}function nd(a){var l=At();return ym(l,Ke,a)}function ym(a,l,d){var m=a.queue;if(m===null)throw Error(i(311));m.lastRenderedReducer=d;var y=a.baseQueue,x=m.pending;if(x!==null){if(y!==null){var O=y.next;y.next=x.next,x.next=O}l.baseQueue=y=x,m.pending=null}if(x=a.baseState,y===null)a.memoizedState=x;else{l=y.next;var k=O=null,j=null,q=l,Z=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?(Ne&ee)===ee:(mr&ee)===ee){var G=q.revertLane;if(G===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===Zs&&(Z=!0);else if((mr&G)===G){q=q.next,G===Zs&&(Z=!0);continue}else ee={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(k=j=ee,O=x):j=j.next=ee,Oe.lanes|=G,ma|=G;ee=q.action,ts&&d(x,ee),x=q.hasEagerState?q.eagerState:d(x,ee)}else G={lane:ee,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},j===null?(k=j=G,O=x):j=j.next=G,Oe.lanes|=ee,ma|=ee;q=q.next}while(q!==null&&q!==l);if(j===null?O=x:j.next=k,!Gn(x,a.memoizedState)&&(Pt=!0,Z&&(d=Qs,d!==null)))throw d;a.memoizedState=x,a.baseState=O,a.baseQueue=j,m.lastRenderedState=x}return y===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function bm(a){var l=At(),d=l.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=a;var m=d.dispatch,y=d.pending,x=l.memoizedState;if(y!==null){d.pending=null;var O=y=y.next;do x=a(x,O.action),O=O.next;while(O!==y);Gn(x,l.memoizedState)||(Pt=!0),l.memoizedState=x,l.baseQueue===null&&(l.baseState=x),d.lastRenderedState=x}return[x,m]}function mw(a,l,d){var m=Oe,y=At(),x=Le;if(x){if(d===void 0)throw Error(i(407));d=d()}else d=l();var O=!Gn((Ke||y).memoizedState,d);if(O&&(y.memoizedState=d,Pt=!0),y=y.queue,Am(yw.bind(null,m,y,a),[a]),y.getSnapshot!==l||O||Mt!==null&&Mt.memoizedState.tag&1){if(m.flags|=2048,ro(9,{destroy:void 0},vw.bind(null,m,y,d,l),null),tt===null)throw Error(i(349));x||(mr&127)!==0||gw(m,l,d)}return d}function gw(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},l=Oe.updateQueue,l===null?(l=ed(),Oe.updateQueue=l,l.stores=[a]):(d=l.stores,d===null?l.stores=[a]:d.push(a))}function vw(a,l,d,m){l.value=d,l.getSnapshot=m,bw(l)&&xw(a)}function yw(a,l,d){return d(function(){bw(l)&&xw(a)})}function bw(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!Gn(a,d)}catch{return!0}}function xw(a){var l=Va(a,2);l!==null&&Rn(l,a,2)}function xm(a){var l=vn();if(typeof a=="function"){var d=a;if(a=d(),ts){ta(!0);try{d()}finally{ta(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:a},l}function ww(a,l,d,m){return a.baseState=d,ym(a,Ke,typeof m=="function"?m:gr)}function gj(a,l,d,m,y){if(ad(a))throw Error(i(485));if(a=l.action,a!==null){var x={payload:y,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){x.listeners.push(O)}};B.T!==null?d(!0):x.isTransition=!1,m(x),d=l.pending,d===null?(x.next=l.pending=x,Aw(l,x)):(x.next=d.next,l.pending=d.next=x)}}function Aw(a,l){var d=l.action,m=l.payload,y=a.state;if(l.isTransition){var x=B.T,O={};B.T=O;try{var k=d(y,m),j=B.S;j!==null&&j(O,k),Sw(a,l,k)}catch(q){wm(a,l,q)}finally{x!==null&&O.types!==null&&(x.types=O.types),B.T=x}}else try{x=d(y,m),Sw(a,l,x)}catch(q){wm(a,l,q)}}function Sw(a,l,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){Ew(a,l,m)},function(m){return wm(a,l,m)}):Ew(a,l,d)}function Ew(a,l,d){l.status="fulfilled",l.value=d,_w(l),a.state=d,l=a.pending,l!==null&&(d=l.next,d===l?a.pending=null:(d=d.next,l.next=d,Aw(a,d)))}function wm(a,l,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do l.status="rejected",l.reason=d,_w(l),l=l.next;while(l!==m)}a.action=null}function _w(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Cw(a,l){return l}function Tw(a,l){if(Le){var d=tt.formState;if(d!==null){e:{var m=Oe;if(Le){if(st){t:{for(var y=st,x=hi;y.nodeType!==8;){if(!x){y=null;break t}if(y=pi(y.nextSibling),y===null){y=null;break t}}x=y.data,y=x==="F!"||x==="F"?y:null}if(y){st=pi(y.nextSibling),m=y.data==="F!";break e}}sa(m)}m=!1}m&&(l=d[0])}}return d=vn(),d.memoizedState=d.baseState=l,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cw,lastRenderedState:l},d.queue=m,d=Vw.bind(null,Oe,m),m.dispatch=d,m=xm(!1),x=Tm.bind(null,Oe,!1,m.queue),m=vn(),y={state:l,dispatch:null,action:a,pending:null},m.queue=y,d=gj.bind(null,Oe,y,x,d),y.dispatch=d,m.memoizedState=a,[l,d,!1]}function Ow(a){var l=At();return Mw(l,Ke,a)}function Mw(a,l,d){if(l=ym(a,l,Cw)[0],a=nd(gr)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var m=kl(l)}catch(O){throw O===Js?Vu:O}else m=l;l=At();var y=l.queue,x=y.dispatch;return d!==l.memoizedState&&(Oe.flags|=2048,ro(9,{destroy:void 0},vj.bind(null,y,d),null)),[m,x,a]}function vj(a,l){a.action=l}function Pw(a){var l=At(),d=Ke;if(d!==null)return Mw(l,d,a);At(),l=l.memoizedState,d=At();var m=d.queue.dispatch;return d.memoizedState=a,[l,m,!1]}function ro(a,l,d,m){return a={tag:a,create:d,deps:m,inst:l,next:null},l=Oe.updateQueue,l===null&&(l=ed(),Oe.updateQueue=l),d=l.lastEffect,d===null?l.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,l.lastEffect=a),a}function Dw(){return At().memoizedState}function id(a,l,d,m){var y=vn();Oe.flags|=a,y.memoizedState=ro(1|l,{destroy:void 0},d,m===void 0?null:m)}function rd(a,l,d,m){var y=At();m=m===void 0?null:m;var x=y.memoizedState.inst;Ke!==null&&m!==null&&hm(m,Ke.memoizedState.deps)?y.memoizedState=ro(l,x,d,m):(Oe.flags|=a,y.memoizedState=ro(1|l,x,d,m))}function kw(a,l){id(8390656,8,a,l)}function Am(a,l){rd(2048,8,a,l)}function yj(a){Oe.flags|=4;var l=Oe.updateQueue;if(l===null)l=ed(),Oe.updateQueue=l,l.events=[a];else{var d=l.events;d===null?l.events=[a]:d.push(a)}}function Rw(a){var l=At().memoizedState;return yj({ref:l,nextImpl:a}),function(){if(($e&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}function Nw(a,l){return rd(4,2,a,l)}function jw(a,l){return rd(4,4,a,l)}function Lw(a,l){if(typeof l=="function"){a=a();var d=l(a);return function(){typeof d=="function"?d():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Iw(a,l,d){d=d!=null?d.concat([a]):null,rd(4,4,Lw.bind(null,l,a),d)}function Sm(){}function Bw(a,l){var d=At();l=l===void 0?null:l;var m=d.memoizedState;return l!==null&&hm(l,m[1])?m[0]:(d.memoizedState=[a,l],a)}function zw(a,l){var d=At();l=l===void 0?null:l;var m=d.memoizedState;if(l!==null&&hm(l,m[1]))return m[0];if(m=a(),ts){ta(!0);try{a()}finally{ta(!1)}}return d.memoizedState=[m,l],m}function Em(a,l,d){return d===void 0||(mr&1073741824)!==0&&(Ne&261930)===0?a.memoizedState=l:(a.memoizedState=d,a=FA(),Oe.lanes|=a,ma|=a,d)}function Fw(a,l,d,m){return Gn(d,l)?d:to.current!==null?(a=Em(a,d,m),Gn(a,l)||(Pt=!0),a):(mr&42)===0||(mr&1073741824)!==0&&(Ne&261930)===0?(Pt=!0,a.memoizedState=d):(a=FA(),Oe.lanes|=a,ma|=a,l)}function Uw(a,l,d,m,y){var x=H.p;H.p=x!==0&&8>x?x:8;var O=B.T,k={};B.T=k,Tm(a,!1,l,d);try{var j=y(),q=B.S;if(q!==null&&q(k,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var Z=fj(j,m);Rl(a,l,Z,Zn(a))}else Rl(a,l,m,Zn(a))}catch(ee){Rl(a,l,{then:function(){},status:"rejected",reason:ee},Zn())}finally{H.p=x,O!==null&&k.types!==null&&(O.types=k.types),B.T=O}}function bj(){}function _m(a,l,d,m){if(a.tag!==5)throw Error(i(476));var y=Hw(a).queue;Uw(a,y,l,te,d===null?bj:function(){return $w(a),d(m)})}function Hw(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:te},next:null};var d={};return l.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gr,lastRenderedState:d},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function $w(a){var l=Hw(a);l.next===null&&(l=a.alternate.memoizedState),Rl(a,l.next.queue,{},Zn())}function Cm(){return nn(Kl)}function qw(){return At().memoizedState}function Gw(){return At().memoizedState}function xj(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var d=Zn();a=ca(d);var m=ua(l,a,d);m!==null&&(Rn(m,l,d),Ol(m,l,d)),l={cache:tm()},a.payload=l;return}l=l.return}}function wj(a,l,d){var m=Zn();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},ad(a)?Yw(l,d):(d=qp(a,l,d,m),d!==null&&(Rn(d,a,m),Xw(d,l,m)))}function Vw(a,l,d){var m=Zn();Rl(a,l,d,m)}function Rl(a,l,d,m){var y={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(ad(a))Yw(l,y);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=l.lastRenderedReducer,x!==null))try{var O=l.lastRenderedState,k=x(O,d);if(y.hasEagerState=!0,y.eagerState=k,Gn(k,O))return zu(a,l,y,0),tt===null&&Bu(),!1}catch{}finally{}if(d=qp(a,l,y,m),d!==null)return Rn(d,a,m),Xw(d,l,m),!0}return!1}function Tm(a,l,d,m){if(m={lane:2,revertLane:ag(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},ad(a)){if(l)throw Error(i(479))}else l=qp(a,d,m,2),l!==null&&Rn(l,a,2)}function ad(a){var l=a.alternate;return a===Oe||l!==null&&l===Oe}function Yw(a,l){no=Qu=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function Xw(a,l,d){if((d&4194048)!==0){var m=l.lanes;m&=a.pendingLanes,d|=m,l.lanes=d,J1(a,d)}}var Nl={readContext:nn,use:td,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Nl.useEffectEvent=yt;var Ww={readContext:nn,use:td,useCallback:function(a,l){return vn().memoizedState=[a,l===void 0?null:l],a},useContext:nn,useEffect:kw,useImperativeHandle:function(a,l,d){d=d!=null?d.concat([a]):null,id(4194308,4,Lw.bind(null,l,a),d)},useLayoutEffect:function(a,l){return id(4194308,4,a,l)},useInsertionEffect:function(a,l){id(4,2,a,l)},useMemo:function(a,l){var d=vn();l=l===void 0?null:l;var m=a();if(ts){ta(!0);try{a()}finally{ta(!1)}}return d.memoizedState=[m,l],m},useReducer:function(a,l,d){var m=vn();if(d!==void 0){var y=d(l);if(ts){ta(!0);try{d(l)}finally{ta(!1)}}}else y=l;return m.memoizedState=m.baseState=y,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:y},m.queue=a,a=a.dispatch=wj.bind(null,Oe,a),[m.memoizedState,a]},useRef:function(a){var l=vn();return a={current:a},l.memoizedState=a},useState:function(a){a=xm(a);var l=a.queue,d=Vw.bind(null,Oe,l);return l.dispatch=d,[a.memoizedState,d]},useDebugValue:Sm,useDeferredValue:function(a,l){var d=vn();return Em(d,a,l)},useTransition:function(){var a=xm(!1);return a=Uw.bind(null,Oe,a.queue,!0,!1),vn().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,d){var m=Oe,y=vn();if(Le){if(d===void 0)throw Error(i(407));d=d()}else{if(d=l(),tt===null)throw Error(i(349));(Ne&127)!==0||gw(m,l,d)}y.memoizedState=d;var x={value:d,getSnapshot:l};return y.queue=x,kw(yw.bind(null,m,x,a),[a]),m.flags|=2048,ro(9,{destroy:void 0},vw.bind(null,m,x,d,l),null),d},useId:function(){var a=vn(),l=tt.identifierPrefix;if(Le){var d=Gi,m=qi;d=(m&~(1<<32-qn(m)-1)).toString(32)+d,l="_"+l+"R_"+d,d=Ju++,0<d&&(l+="H"+d.toString(32)),l+="_"}else d=pj++,l="_"+l+"r_"+d.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:Cm,useFormState:Tw,useActionState:Tw,useOptimistic:function(a){var l=vn();l.memoizedState=l.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=d,l=Tm.bind(null,Oe,!0,d),d.dispatch=l,[a,l]},useMemoCache:vm,useCacheRefresh:function(){return vn().memoizedState=xj.bind(null,Oe)},useEffectEvent:function(a){var l=vn(),d={impl:a};return l.memoizedState=d,function(){if(($e&2)!==0)throw Error(i(440));return d.impl.apply(void 0,arguments)}}},Om={readContext:nn,use:td,useCallback:Bw,useContext:nn,useEffect:Am,useImperativeHandle:Iw,useInsertionEffect:Nw,useLayoutEffect:jw,useMemo:zw,useReducer:nd,useRef:Dw,useState:function(){return nd(gr)},useDebugValue:Sm,useDeferredValue:function(a,l){var d=At();return Fw(d,Ke.memoizedState,a,l)},useTransition:function(){var a=nd(gr)[0],l=At().memoizedState;return[typeof a=="boolean"?a:kl(a),l]},useSyncExternalStore:mw,useId:qw,useHostTransitionStatus:Cm,useFormState:Ow,useActionState:Ow,useOptimistic:function(a,l){var d=At();return ww(d,Ke,a,l)},useMemoCache:vm,useCacheRefresh:Gw};Om.useEffectEvent=Rw;var Kw={readContext:nn,use:td,useCallback:Bw,useContext:nn,useEffect:Am,useImperativeHandle:Iw,useInsertionEffect:Nw,useLayoutEffect:jw,useMemo:zw,useReducer:bm,useRef:Dw,useState:function(){return bm(gr)},useDebugValue:Sm,useDeferredValue:function(a,l){var d=At();return Ke===null?Em(d,a,l):Fw(d,Ke.memoizedState,a,l)},useTransition:function(){var a=bm(gr)[0],l=At().memoizedState;return[typeof a=="boolean"?a:kl(a),l]},useSyncExternalStore:mw,useId:qw,useHostTransitionStatus:Cm,useFormState:Pw,useActionState:Pw,useOptimistic:function(a,l){var d=At();return Ke!==null?ww(d,Ke,a,l):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:vm,useCacheRefresh:Gw};Kw.useEffectEvent=Rw;function Mm(a,l,d,m){l=a.memoizedState,d=d(m,l),d=d==null?l:p({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Pm={enqueueSetState:function(a,l,d){a=a._reactInternals;var m=Zn(),y=ca(m);y.payload=l,d!=null&&(y.callback=d),l=ua(a,y,m),l!==null&&(Rn(l,a,m),Ol(l,a,m))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var m=Zn(),y=ca(m);y.tag=1,y.payload=l,d!=null&&(y.callback=d),l=ua(a,y,m),l!==null&&(Rn(l,a,m),Ol(l,a,m))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Zn(),m=ca(d);m.tag=2,l!=null&&(m.callback=l),l=ua(a,m,d),l!==null&&(Rn(l,a,d),Ol(l,a,d))}};function Zw(a,l,d,m,y,x,O){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,x,O):l.prototype&&l.prototype.isPureReactComponent?!xl(d,m)||!xl(y,x):!0}function Qw(a,l,d,m){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,m),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,m),l.state!==a&&Pm.enqueueReplaceState(l,l.state,null)}function ns(a,l){var d=l;if("ref"in l){d={};for(var m in l)m!=="ref"&&(d[m]=l[m])}if(a=a.defaultProps){d===l&&(d=p({},d));for(var y in a)d[y]===void 0&&(d[y]=a[y])}return d}function Jw(a){Iu(a)}function eA(a){console.error(a)}function tA(a){Iu(a)}function sd(a,l){try{var d=a.onUncaughtError;d(l.value,{componentStack:l.stack})}catch(m){setTimeout(function(){throw m})}}function nA(a,l,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(y){setTimeout(function(){throw y})}}function Dm(a,l,d){return d=ca(d),d.tag=3,d.payload={element:null},d.callback=function(){sd(a,l)},d}function iA(a){return a=ca(a),a.tag=3,a}function rA(a,l,d,m){var y=d.type.getDerivedStateFromError;if(typeof y=="function"){var x=m.value;a.payload=function(){return y(x)},a.callback=function(){nA(l,d,m)}}var O=d.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(a.callback=function(){nA(l,d,m),typeof y!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var k=m.stack;this.componentDidCatch(m.value,{componentStack:k!==null?k:""})})}function Aj(a,l,d,m,y){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(l=d.alternate,l!==null&&Ks(l,d,y,!0),d=Yn.current,d!==null){switch(d.tag){case 31:case 13:return fi===null?yd():d.alternate===null&&bt===0&&(bt=3),d.flags&=-257,d.flags|=65536,d.lanes=y,m===Yu?d.flags|=16384:(l=d.updateQueue,l===null?d.updateQueue=new Set([m]):l.add(m),ng(a,m,y)),!1;case 22:return d.flags|=65536,m===Yu?d.flags|=16384:(l=d.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=l):(d=l.retryQueue,d===null?l.retryQueue=new Set([m]):d.add(m)),ng(a,m,y)),!1}throw Error(i(435,d.tag))}return ng(a,m,y),yd(),!1}if(Le)return l=Yn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=y,m!==Kp&&(a=Error(i(422),{cause:m}),Sl(ci(a,d)))):(m!==Kp&&(l=Error(i(423),{cause:m}),Sl(ci(l,d))),a=a.current.alternate,a.flags|=65536,y&=-y,a.lanes|=y,m=ci(m,d),y=Dm(a.stateNode,m,y),om(a,y),bt!==4&&(bt=2)),!1;var x=Error(i(520),{cause:m});if(x=ci(x,d),Hl===null?Hl=[x]:Hl.push(x),bt!==4&&(bt=2),l===null)return!0;m=ci(m,d),d=l;do{switch(d.tag){case 3:return d.flags|=65536,a=y&-y,d.lanes|=a,a=Dm(d.stateNode,m,a),om(d,a),!1;case 1:if(l=d.type,x=d.stateNode,(d.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ga===null||!ga.has(x))))return d.flags|=65536,y&=-y,d.lanes|=y,y=iA(y),rA(y,a,d,m),om(d,y),!1}d=d.return}while(d!==null);return!1}var km=Error(i(461)),Pt=!1;function rn(a,l,d,m){l.child=a===null?lw(l,null,d,m):es(l,a.child,d,m)}function aA(a,l,d,m,y){d=d.render;var x=l.ref;if("ref"in m){var O={};for(var k in m)k!=="ref"&&(O[k]=m[k])}else O=m;return Ka(l),m=fm(a,l,d,O,x,y),k=pm(),a!==null&&!Pt?(mm(a,l,y),vr(a,l,y)):(Le&&k&&Xp(l),l.flags|=1,rn(a,l,m,y),l.child)}function sA(a,l,d,m,y){if(a===null){var x=d.type;return typeof x=="function"&&!Gp(x)&&x.defaultProps===void 0&&d.compare===null?(l.tag=15,l.type=x,oA(a,l,x,m,y)):(a=Uu(d.type,null,m,l,l.mode,y),a.ref=l.ref,a.return=l,l.child=a)}if(x=a.child,!Fm(a,y)){var O=x.memoizedProps;if(d=d.compare,d=d!==null?d:xl,d(O,m)&&a.ref===l.ref)return vr(a,l,y)}return l.flags|=1,a=dr(x,m),a.ref=l.ref,a.return=l,l.child=a}function oA(a,l,d,m,y){if(a!==null){var x=a.memoizedProps;if(xl(x,m)&&a.ref===l.ref)if(Pt=!1,l.pendingProps=m=x,Fm(a,y))(a.flags&131072)!==0&&(Pt=!0);else return l.lanes=a.lanes,vr(a,l,y)}return Rm(a,l,d,m,y)}function lA(a,l,d,m){var y=m.children,x=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((l.flags&128)!==0){if(x=x!==null?x.baseLanes|d:d,a!==null){for(m=l.child=a.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;m=y&~x}else m=0,l.child=null;return cA(a,l,x,d,m)}if((d&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&Gu(l,x!==null?x.cachePool:null),x!==null?dw(l,x):cm(),hw(l);else return m=l.lanes=536870912,cA(a,l,x!==null?x.baseLanes|d:d,d,m)}else x!==null?(Gu(l,x.cachePool),dw(l,x),ha(),l.memoizedState=null):(a!==null&&Gu(l,null),cm(),ha());return rn(a,l,y,d),l.child}function jl(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function cA(a,l,d,m,y){var x=im();return x=x===null?null:{parent:Ot._currentValue,pool:x},l.memoizedState={baseLanes:d,cachePool:x},a!==null&&Gu(l,null),cm(),hw(l),a!==null&&Ks(a,l,m,!0),l.childLanes=y,null}function od(a,l){return l=cd({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function uA(a,l,d){return es(l,a.child,null,d),a=od(l,l.pendingProps),a.flags|=2,Xn(l),l.memoizedState=null,a}function Sj(a,l,d){var m=l.pendingProps,y=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(Le){if(m.mode==="hidden")return a=od(l,m),l.lanes=536870912,jl(null,a);if(dm(l),(a=st)?(a=AS(a,hi),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ra!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},d=Yx(a),d.return=l,l.child=d,tn=l,st=null)):a=null,a===null)throw sa(l);return l.lanes=536870912,null}return od(l,m)}var x=a.memoizedState;if(x!==null){var O=x.dehydrated;if(dm(l),y)if(l.flags&256)l.flags&=-257,l=uA(a,l,d);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(i(558));else if(Pt||Ks(a,l,d,!1),y=(d&a.childLanes)!==0,Pt||y){if(m=tt,m!==null&&(O=ex(m,d),O!==0&&O!==x.retryLane))throw x.retryLane=O,Va(a,O),Rn(m,a,O),km;yd(),l=uA(a,l,d)}else a=x.treeContext,st=pi(O.nextSibling),tn=l,Le=!0,aa=null,hi=!1,a!==null&&Kx(l,a),l=od(l,m),l.flags|=4096;return l}return a=dr(a.child,{mode:m.mode,children:m.children}),a.ref=l.ref,l.child=a,a.return=l,a}function ld(a,l){var d=l.ref;if(d===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(i(284));(a===null||a.ref!==d)&&(l.flags|=4194816)}}function Rm(a,l,d,m,y){return Ka(l),d=fm(a,l,d,m,void 0,y),m=pm(),a!==null&&!Pt?(mm(a,l,y),vr(a,l,y)):(Le&&m&&Xp(l),l.flags|=1,rn(a,l,d,y),l.child)}function dA(a,l,d,m,y,x){return Ka(l),l.updateQueue=null,d=pw(l,m,d,y),fw(a),m=pm(),a!==null&&!Pt?(mm(a,l,x),vr(a,l,x)):(Le&&m&&Xp(l),l.flags|=1,rn(a,l,d,x),l.child)}function hA(a,l,d,m,y){if(Ka(l),l.stateNode===null){var x=Vs,O=d.contextType;typeof O=="object"&&O!==null&&(x=nn(O)),x=new d(m,x),l.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=Pm,l.stateNode=x,x._reactInternals=l,x=l.stateNode,x.props=m,x.state=l.memoizedState,x.refs={},am(l),O=d.contextType,x.context=typeof O=="object"&&O!==null?nn(O):Vs,x.state=l.memoizedState,O=d.getDerivedStateFromProps,typeof O=="function"&&(Mm(l,d,O,m),x.state=l.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(O=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),O!==x.state&&Pm.enqueueReplaceState(x,x.state,null),Pl(l,m,x,y),Ml(),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308),m=!0}else if(a===null){x=l.stateNode;var k=l.memoizedProps,j=ns(d,k);x.props=j;var q=x.context,Z=d.contextType;O=Vs,typeof Z=="object"&&Z!==null&&(O=nn(Z));var ee=d.getDerivedStateFromProps;Z=typeof ee=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=l.pendingProps!==k,Z||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||q!==O)&&Qw(l,x,m,O),la=!1;var G=l.memoizedState;x.state=G,Pl(l,m,x,y),Ml(),q=l.memoizedState,k||G!==q||la?(typeof ee=="function"&&(Mm(l,d,ee,m),q=l.memoizedState),(j=la||Zw(l,d,j,m,G,q,O))?(Z||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(l.flags|=4194308)):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=m,l.memoizedState=q),x.props=m,x.state=q,x.context=O,m=j):(typeof x.componentDidMount=="function"&&(l.flags|=4194308),m=!1)}else{x=l.stateNode,sm(a,l),O=l.memoizedProps,Z=ns(d,O),x.props=Z,ee=l.pendingProps,G=x.context,q=d.contextType,j=Vs,typeof q=="object"&&q!==null&&(j=nn(q)),k=d.getDerivedStateFromProps,(q=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(O!==ee||G!==j)&&Qw(l,x,m,j),la=!1,G=l.memoizedState,x.state=G,Pl(l,m,x,y),Ml();var Y=l.memoizedState;O!==ee||G!==Y||la||a!==null&&a.dependencies!==null&&$u(a.dependencies)?(typeof k=="function"&&(Mm(l,d,k,m),Y=l.memoizedState),(Z=la||Zw(l,d,Z,m,G,Y,j)||a!==null&&a.dependencies!==null&&$u(a.dependencies))?(q||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(m,Y,j),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(m,Y,j)),typeof x.componentDidUpdate=="function"&&(l.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),l.memoizedProps=m,l.memoizedState=Y),x.props=m,x.state=Y,x.context=j,m=Z):(typeof x.componentDidUpdate!="function"||O===a.memoizedProps&&G===a.memoizedState||(l.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||O===a.memoizedProps&&G===a.memoizedState||(l.flags|=1024),m=!1)}return x=m,ld(a,l),m=(l.flags&128)!==0,x||m?(x=l.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:x.render(),l.flags|=1,a!==null&&m?(l.child=es(l,a.child,null,y),l.child=es(l,null,d,y)):rn(a,l,d,y),l.memoizedState=x.state,a=l.child):a=vr(a,l,y),a}function fA(a,l,d,m){return Xa(),l.flags|=256,rn(a,l,d,m),l.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(a){return{baseLanes:a,cachePool:nw()}}function Lm(a,l,d){return a=a!==null?a.childLanes&~d:0,l&&(a|=Kn),a}function pA(a,l,d){var m=l.pendingProps,y=!1,x=(l.flags&128)!==0,O;if((O=x)||(O=a!==null&&a.memoizedState===null?!1:(wt.current&2)!==0),O&&(y=!0,l.flags&=-129),O=(l.flags&32)!==0,l.flags&=-33,a===null){if(Le){if(y?da(l):ha(),(a=st)?(a=AS(a,hi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:ra!==null?{id:qi,overflow:Gi}:null,retryLane:536870912,hydrationErrors:null},d=Yx(a),d.return=l,l.child=d,tn=l,st=null)):a=null,a===null)throw sa(l);return yg(a)?l.lanes=32:l.lanes=536870912,null}var k=m.children;return m=m.fallback,y?(ha(),y=l.mode,k=cd({mode:"hidden",children:k},y),m=Ya(m,y,d,null),k.return=l,m.return=l,k.sibling=m,l.child=k,m=l.child,m.memoizedState=jm(d),m.childLanes=Lm(a,O,d),l.memoizedState=Nm,jl(null,m)):(da(l),Im(l,k))}var j=a.memoizedState;if(j!==null&&(k=j.dehydrated,k!==null)){if(x)l.flags&256?(da(l),l.flags&=-257,l=Bm(a,l,d)):l.memoizedState!==null?(ha(),l.child=a.child,l.flags|=128,l=null):(ha(),k=m.fallback,y=l.mode,m=cd({mode:"visible",children:m.children},y),k=Ya(k,y,d,null),k.flags|=2,m.return=l,k.return=l,m.sibling=k,l.child=m,es(l,a.child,null,d),m=l.child,m.memoizedState=jm(d),m.childLanes=Lm(a,O,d),l.memoizedState=Nm,l=jl(null,m));else if(da(l),yg(k)){if(O=k.nextSibling&&k.nextSibling.dataset,O)var q=O.dgst;O=q,m=Error(i(419)),m.stack="",m.digest=O,Sl({value:m,source:null,stack:null}),l=Bm(a,l,d)}else if(Pt||Ks(a,l,d,!1),O=(d&a.childLanes)!==0,Pt||O){if(O=tt,O!==null&&(m=ex(O,d),m!==0&&m!==j.retryLane))throw j.retryLane=m,Va(a,m),Rn(O,a,m),km;vg(k)||yd(),l=Bm(a,l,d)}else vg(k)?(l.flags|=192,l.child=a.child,l=null):(a=j.treeContext,st=pi(k.nextSibling),tn=l,Le=!0,aa=null,hi=!1,a!==null&&Kx(l,a),l=Im(l,m.children),l.flags|=4096);return l}return y?(ha(),k=m.fallback,y=l.mode,j=a.child,q=j.sibling,m=dr(j,{mode:"hidden",children:m.children}),m.subtreeFlags=j.subtreeFlags&65011712,q!==null?k=dr(q,k):(k=Ya(k,y,d,null),k.flags|=2),k.return=l,m.return=l,m.sibling=k,l.child=m,jl(null,m),m=l.child,k=a.child.memoizedState,k===null?k=jm(d):(y=k.cachePool,y!==null?(j=Ot._currentValue,y=y.parent!==j?{parent:j,pool:j}:y):y=nw(),k={baseLanes:k.baseLanes|d,cachePool:y}),m.memoizedState=k,m.childLanes=Lm(a,O,d),l.memoizedState=Nm,jl(a.child,m)):(da(l),d=a.child,a=d.sibling,d=dr(d,{mode:"visible",children:m.children}),d.return=l,d.sibling=null,a!==null&&(O=l.deletions,O===null?(l.deletions=[a],l.flags|=16):O.push(a)),l.child=d,l.memoizedState=null,d)}function Im(a,l){return l=cd({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function cd(a,l){return a=Vn(22,a,null,l),a.lanes=0,a}function Bm(a,l,d){return es(l,a.child,null,d),a=Im(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function mA(a,l,d){a.lanes|=l;var m=a.alternate;m!==null&&(m.lanes|=l),Jp(a.return,l,d)}function zm(a,l,d,m,y,x){var O=a.memoizedState;O===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:y,treeForkCount:x}:(O.isBackwards=l,O.rendering=null,O.renderingStartTime=0,O.last=m,O.tail=d,O.tailMode=y,O.treeForkCount=x)}function gA(a,l,d){var m=l.pendingProps,y=m.revealOrder,x=m.tail;m=m.children;var O=wt.current,k=(O&2)!==0;if(k?(O=O&1|2,l.flags|=128):O&=1,ne(wt,O),rn(a,l,m,d),m=Le?Al:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&mA(a,d,l);else if(a.tag===19)mA(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(y){case"forwards":for(d=l.child,y=null;d!==null;)a=d.alternate,a!==null&&Zu(a)===null&&(y=d),d=d.sibling;d=y,d===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),zm(l,!1,y,d,x,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,y=l.child,l.child=null;y!==null;){if(a=y.alternate,a!==null&&Zu(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}zm(l,!0,d,null,x,m);break;case"together":zm(l,!1,null,null,void 0,m);break;default:l.memoizedState=null}return l.child}function vr(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),ma|=l.lanes,(d&l.childLanes)===0)if(a!==null){if(Ks(a,l,d,!1),(d&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(i(153));if(l.child!==null){for(a=l.child,d=dr(a,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,d=d.sibling=dr(a,a.pendingProps),d.return=l;d.sibling=null}return l.child}function Fm(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&$u(a)))}function Ej(a,l,d){switch(l.tag){case 3:at(l,l.stateNode.containerInfo),oa(l,Ot,a.memoizedState.cache),Xa();break;case 27:case 5:Se(l);break;case 4:at(l,l.stateNode.containerInfo);break;case 10:oa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,dm(l),null;break;case 13:var m=l.memoizedState;if(m!==null)return m.dehydrated!==null?(da(l),l.flags|=128,null):(d&l.child.childLanes)!==0?pA(a,l,d):(da(l),a=vr(a,l,d),a!==null?a.sibling:null);da(l);break;case 19:var y=(a.flags&128)!==0;if(m=(d&l.childLanes)!==0,m||(Ks(a,l,d,!1),m=(d&l.childLanes)!==0),y){if(m)return gA(a,l,d);l.flags|=128}if(y=l.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),ne(wt,wt.current),m)break;return null;case 22:return l.lanes=0,lA(a,l,d,l.pendingProps);case 24:oa(l,Ot,a.memoizedState.cache)}return vr(a,l,d)}function vA(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps)Pt=!0;else{if(!Fm(a,d)&&(l.flags&128)===0)return Pt=!1,Ej(a,l,d);Pt=(a.flags&131072)!==0}else Pt=!1,Le&&(l.flags&1048576)!==0&&Wx(l,Al,l.index);switch(l.lanes=0,l.tag){case 16:e:{var m=l.pendingProps;if(a=Qa(l.elementType),l.type=a,typeof a=="function")Gp(a)?(m=ns(a,m),l.tag=1,l=hA(null,l,a,m,d)):(l.tag=0,l=Rm(null,l,a,m,d));else{if(a!=null){var y=a.$$typeof;if(y===D){l.tag=11,l=aA(null,l,a,m,d);break e}else if(y===R){l.tag=14,l=sA(null,l,a,m,d);break e}}throw l=oe(a)||a,Error(i(306,l,""))}}return l;case 0:return Rm(a,l,l.type,l.pendingProps,d);case 1:return m=l.type,y=ns(m,l.pendingProps),hA(a,l,m,y,d);case 3:e:{if(at(l,l.stateNode.containerInfo),a===null)throw Error(i(387));m=l.pendingProps;var x=l.memoizedState;y=x.element,sm(a,l),Pl(l,m,null,d);var O=l.memoizedState;if(m=O.cache,oa(l,Ot,m),m!==x.cache&&em(l,[Ot],d,!0),Ml(),m=O.element,x.isDehydrated)if(x={element:m,isDehydrated:!1,cache:O.cache},l.updateQueue.baseState=x,l.memoizedState=x,l.flags&256){l=fA(a,l,m,d);break e}else if(m!==y){y=ci(Error(i(424)),l),Sl(y),l=fA(a,l,m,d);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(st=pi(a.firstChild),tn=l,Le=!0,aa=null,hi=!0,d=lw(l,null,m,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Xa(),m===y){l=vr(a,l,d);break e}rn(a,l,m,d)}l=l.child}return l;case 26:return ld(a,l),a===null?(d=OS(l.type,null,l.pendingProps,null))?l.memoizedState=d:Le||(d=l.type,a=l.pendingProps,m=_d(we.current).createElement(d),m[en]=l,m[Tn]=a,an(m,d,a),Ht(m),l.stateNode=m):l.memoizedState=OS(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Se(l),a===null&&Le&&(m=l.stateNode=_S(l.type,l.pendingProps,we.current),tn=l,hi=!0,y=st,xa(l.type)?(bg=y,st=pi(m.firstChild)):st=y),rn(a,l,l.pendingProps.children,d),ld(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Le&&((y=m=st)&&(m=eL(m,l.type,l.pendingProps,hi),m!==null?(l.stateNode=m,tn=l,st=pi(m.firstChild),hi=!1,y=!0):y=!1),y||sa(l)),Se(l),y=l.type,x=l.pendingProps,O=a!==null?a.memoizedProps:null,m=x.children,pg(y,x)?m=null:O!==null&&pg(y,O)&&(l.flags|=32),l.memoizedState!==null&&(y=fm(a,l,mj,null,null,d),Kl._currentValue=y),ld(a,l),rn(a,l,m,d),l.child;case 6:return a===null&&Le&&((a=d=st)&&(d=tL(d,l.pendingProps,hi),d!==null?(l.stateNode=d,tn=l,st=null,a=!0):a=!1),a||sa(l)),null;case 13:return pA(a,l,d);case 4:return at(l,l.stateNode.containerInfo),m=l.pendingProps,a===null?l.child=es(l,null,m,d):rn(a,l,m,d),l.child;case 11:return aA(a,l,l.type,l.pendingProps,d);case 7:return rn(a,l,l.pendingProps,d),l.child;case 8:return rn(a,l,l.pendingProps.children,d),l.child;case 12:return rn(a,l,l.pendingProps.children,d),l.child;case 10:return m=l.pendingProps,oa(l,l.type,m.value),rn(a,l,m.children,d),l.child;case 9:return y=l.type._context,m=l.pendingProps.children,Ka(l),y=nn(y),m=m(y),l.flags|=1,rn(a,l,m,d),l.child;case 14:return sA(a,l,l.type,l.pendingProps,d);case 15:return oA(a,l,l.type,l.pendingProps,d);case 19:return gA(a,l,d);case 31:return Sj(a,l,d);case 22:return lA(a,l,d,l.pendingProps);case 24:return Ka(l),m=nn(Ot),a===null?(y=im(),y===null&&(y=tt,x=tm(),y.pooledCache=x,x.refCount++,x!==null&&(y.pooledCacheLanes|=d),y=x),l.memoizedState={parent:m,cache:y},am(l),oa(l,Ot,y)):((a.lanes&d)!==0&&(sm(a,l),Pl(l,null,null,d),Ml()),y=a.memoizedState,x=l.memoizedState,y.parent!==m?(y={parent:m,cache:m},l.memoizedState=y,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=y),oa(l,Ot,m)):(m=x.cache,oa(l,Ot,m),m!==y.cache&&em(l,[Ot],d,!0))),rn(a,l,l.pendingProps.children,d),l.child;case 29:throw l.pendingProps}throw Error(i(156,l.tag))}function yr(a){a.flags|=4}function Um(a,l,d,m,y){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(y&335544128)===y)if(a.stateNode.complete)a.flags|=8192;else if(qA())a.flags|=8192;else throw Ja=Yu,rm}else a.flags&=-16777217}function yA(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!RS(l))if(qA())a.flags|=8192;else throw Ja=Yu,rm}function ud(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?Z1():536870912,a.lanes|=l,lo|=l)}function Ll(a,l){if(!Le)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function ot(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags&65011712,m|=y.flags&65011712,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,m|=y.subtreeFlags,m|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=m,a.childLanes=d,l}function _j(a,l,d){var m=l.pendingProps;switch(Wp(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(l),null;case 1:return ot(l),null;case 3:return d=l.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),l.memoizedState.cache!==m&&(l.flags|=2048),pr(Ot),Q(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(Ws(l)?yr(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,Zp())),ot(l),null;case 26:var y=l.type,x=l.memoizedState;return a===null?(yr(l),x!==null?(ot(l),yA(l,x)):(ot(l),Um(l,y,null,m,d))):x?x!==a.memoizedState?(yr(l),ot(l),yA(l,x)):(ot(l),l.flags&=-16777217):(a=a.memoizedProps,a!==m&&yr(l),ot(l),Um(l,y,a,m,d)),null;case 27:if(Me(l),d=we.current,y=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&yr(l);else{if(!m){if(l.stateNode===null)throw Error(i(166));return ot(l),null}a=ae.current,Ws(l)?Zx(l):(a=_S(y,m,d),l.stateNode=a,yr(l))}return ot(l),null;case 5:if(Me(l),y=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==m&&yr(l);else{if(!m){if(l.stateNode===null)throw Error(i(166));return ot(l),null}if(x=ae.current,Ws(l))Zx(l);else{var O=_d(we.current);switch(x){case 1:x=O.createElementNS("http://www.w3.org/2000/svg",y);break;case 2:x=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;default:switch(y){case"svg":x=O.createElementNS("http://www.w3.org/2000/svg",y);break;case"math":x=O.createElementNS("http://www.w3.org/1998/Math/MathML",y);break;case"script":x=O.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof m.is=="string"?O.createElement("select",{is:m.is}):O.createElement("select"),m.multiple?x.multiple=!0:m.size&&(x.size=m.size);break;default:x=typeof m.is=="string"?O.createElement(y,{is:m.is}):O.createElement(y)}}x[en]=l,x[Tn]=m;e:for(O=l.child;O!==null;){if(O.tag===5||O.tag===6)x.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===l)break e;for(;O.sibling===null;){if(O.return===null||O.return===l)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}l.stateNode=x;e:switch(an(x,y,m),y){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&yr(l)}}return ot(l),Um(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,d),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==m&&yr(l);else{if(typeof m!="string"&&l.stateNode===null)throw Error(i(166));if(a=we.current,Ws(l)){if(a=l.stateNode,d=l.memoizedProps,m=null,y=tn,y!==null)switch(y.tag){case 27:case 5:m=y.memoizedProps}a[en]=l,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||pS(a.nodeValue,d)),a||sa(l,!0)}else a=_d(a).createTextNode(m),a[en]=l,l.stateNode=a}return ot(l),null;case 31:if(d=l.memoizedState,a===null||a.memoizedState!==null){if(m=Ws(l),d!==null){if(a===null){if(!m)throw Error(i(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(i(557));a[en]=l}else Xa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ot(l),a=!1}else d=Zp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return l.flags&256?(Xn(l),l):(Xn(l),null);if((l.flags&128)!==0)throw Error(i(558))}return ot(l),null;case 13:if(m=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(y=Ws(l),m!==null&&m.dehydrated!==null){if(a===null){if(!y)throw Error(i(318));if(y=l.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(i(317));y[en]=l}else Xa(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;ot(l),y=!1}else y=Zp(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=y),y=!0;if(!y)return l.flags&256?(Xn(l),l):(Xn(l),null)}return Xn(l),(l.flags&128)!==0?(l.lanes=d,l):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=l.child,y=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(y=m.alternate.memoizedState.cachePool.pool),x=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(x=m.memoizedState.cachePool.pool),x!==y&&(m.flags|=2048)),d!==a&&d&&(l.child.flags|=8192),ud(l,l.updateQueue),ot(l),null);case 4:return Q(),a===null&&cg(l.stateNode.containerInfo),ot(l),null;case 10:return pr(l.type),ot(l),null;case 19:if(V(wt),m=l.memoizedState,m===null)return ot(l),null;if(y=(l.flags&128)!==0,x=m.rendering,x===null)if(y)Ll(m,!1);else{if(bt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(x=Zu(a),x!==null){for(l.flags|=128,Ll(m,!1),a=x.updateQueue,l.updateQueue=a,ud(l,a),l.subtreeFlags=0,a=d,d=l.child;d!==null;)Vx(d,a),d=d.sibling;return ne(wt,wt.current&1|2),Le&&hr(l,m.treeForkCount),l.child}a=a.sibling}m.tail!==null&&Hn()>md&&(l.flags|=128,y=!0,Ll(m,!1),l.lanes=4194304)}else{if(!y)if(a=Zu(x),a!==null){if(l.flags|=128,y=!0,a=a.updateQueue,l.updateQueue=a,ud(l,a),Ll(m,!0),m.tail===null&&m.tailMode==="hidden"&&!x.alternate&&!Le)return ot(l),null}else 2*Hn()-m.renderingStartTime>md&&d!==536870912&&(l.flags|=128,y=!0,Ll(m,!1),l.lanes=4194304);m.isBackwards?(x.sibling=l.child,l.child=x):(a=m.last,a!==null?a.sibling=x:l.child=x,m.last=x)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=Hn(),a.sibling=null,d=wt.current,ne(wt,y?d&1|2:d&1),Le&&hr(l,m.treeForkCount),a):(ot(l),null);case 22:case 23:return Xn(l),um(),m=l.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(l.flags|=8192):m&&(l.flags|=8192),m?(d&536870912)!==0&&(l.flags&128)===0&&(ot(l),l.subtreeFlags&6&&(l.flags|=8192)):ot(l),d=l.updateQueue,d!==null&&ud(l,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048),a!==null&&V(Za),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),l.memoizedState.cache!==d&&(l.flags|=2048),pr(Ot),ot(l),null;case 25:return null;case 30:return null}throw Error(i(156,l.tag))}function Cj(a,l){switch(Wp(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return pr(Ot),Q(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Me(l),null;case 31:if(l.memoizedState!==null){if(Xn(l),l.alternate===null)throw Error(i(340));Xa()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Xn(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(i(340));Xa()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return V(wt),null;case 4:return Q(),null;case 10:return pr(l.type),null;case 22:case 23:return Xn(l),um(),a!==null&&V(Za),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return pr(Ot),null;case 25:return null;default:return null}}function bA(a,l){switch(Wp(l),l.tag){case 3:pr(Ot),Q();break;case 26:case 27:case 5:Me(l);break;case 4:Q();break;case 31:l.memoizedState!==null&&Xn(l);break;case 13:Xn(l);break;case 19:V(wt);break;case 10:pr(l.type);break;case 22:case 23:Xn(l),um(),a!==null&&V(Za);break;case 24:pr(Ot)}}function Il(a,l){try{var d=l.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var y=m.next;d=y;do{if((d.tag&a)===a){m=void 0;var x=d.create,O=d.inst;m=x(),O.destroy=m}d=d.next}while(d!==y)}}catch(k){Ye(l,l.return,k)}}function fa(a,l,d){try{var m=l.updateQueue,y=m!==null?m.lastEffect:null;if(y!==null){var x=y.next;m=x;do{if((m.tag&a)===a){var O=m.inst,k=O.destroy;if(k!==void 0){O.destroy=void 0,y=l;var j=d,q=k;try{q()}catch(Z){Ye(y,j,Z)}}}m=m.next}while(m!==x)}}catch(Z){Ye(l,l.return,Z)}}function xA(a){var l=a.updateQueue;if(l!==null){var d=a.stateNode;try{uw(l,d)}catch(m){Ye(a,a.return,m)}}}function wA(a,l,d){d.props=ns(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Ye(a,l,m)}}function Bl(a,l){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(y){Ye(a,l,y)}}function Vi(a,l){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(y){Ye(a,l,y)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(y){Ye(a,l,y)}else d.current=null}function AA(a){var l=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(y){Ye(a,a.return,y)}}function Hm(a,l,d){try{var m=a.stateNode;Xj(m,a.type,d,l),m[Tn]=l}catch(y){Ye(a,a.return,y)}}function SA(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xa(a.type)||a.tag===4}function $m(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||SA(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function qm(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,l):(l=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,l.appendChild(a),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=cr));else if(m!==4&&(m===27&&xa(a.type)&&(d=a.stateNode,l=null),a=a.child,a!==null))for(qm(a,l,d),a=a.sibling;a!==null;)qm(a,l,d),a=a.sibling}function dd(a,l,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,l?d.insertBefore(a,l):d.appendChild(a);else if(m!==4&&(m===27&&xa(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(dd(a,l,d),a=a.sibling;a!==null;)dd(a,l,d),a=a.sibling}function EA(a){var l=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,y=l.attributes;y.length;)l.removeAttributeNode(y[0]);an(l,m,d),l[en]=a,l[Tn]=d}catch(x){Ye(a,a.return,x)}}var br=!1,Dt=!1,Gm=!1,_A=typeof WeakSet=="function"?WeakSet:Set,$t=null;function Tj(a,l){if(a=a.containerInfo,hg=kd,a=Ix(a),Bp(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var y=m.anchorOffset,x=m.focusNode;m=m.focusOffset;try{d.nodeType,x.nodeType}catch{d=null;break e}var O=0,k=-1,j=-1,q=0,Z=0,ee=a,G=null;t:for(;;){for(var Y;ee!==d||y!==0&&ee.nodeType!==3||(k=O+y),ee!==x||m!==0&&ee.nodeType!==3||(j=O+m),ee.nodeType===3&&(O+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)G=ee,ee=Y;for(;;){if(ee===a)break t;if(G===d&&++q===y&&(k=O),G===x&&++Z===m&&(j=O),(Y=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=Y}d=k===-1||j===-1?null:{start:k,end:j}}else d=null}d=d||{start:0,end:0}}else d=null;for(fg={focusedElem:a,selectionRange:d},kd=!1,$t=l;$t!==null;)if(l=$t,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,$t=a;else for(;$t!==null;){switch(l=$t,x=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)y=a[d],y.ref.impl=y.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,d=l,y=x.memoizedProps,x=x.memoizedState,m=d.stateNode;try{var he=ns(d.type,y);a=m.getSnapshotBeforeUpdate(he,x),m.__reactInternalSnapshotBeforeUpdate=a}catch(Ae){Ye(d,d.return,Ae)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,d=a.nodeType,d===9)gg(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":gg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(i(163))}if(a=l.sibling,a!==null){a.return=l.return,$t=a;break}$t=l.return}}function CA(a,l,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:wr(a,d),m&4&&Il(5,d);break;case 1:if(wr(a,d),m&4)if(a=d.stateNode,l===null)try{a.componentDidMount()}catch(O){Ye(d,d.return,O)}else{var y=ns(d.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(y,l,a.__reactInternalSnapshotBeforeUpdate)}catch(O){Ye(d,d.return,O)}}m&64&&xA(d),m&512&&Bl(d,d.return);break;case 3:if(wr(a,d),m&64&&(a=d.updateQueue,a!==null)){if(l=null,d.child!==null)switch(d.child.tag){case 27:case 5:l=d.child.stateNode;break;case 1:l=d.child.stateNode}try{uw(a,l)}catch(O){Ye(d,d.return,O)}}break;case 27:l===null&&m&4&&EA(d);case 26:case 5:wr(a,d),l===null&&m&4&&AA(d),m&512&&Bl(d,d.return);break;case 12:wr(a,d);break;case 31:wr(a,d),m&4&&MA(a,d);break;case 13:wr(a,d),m&4&&PA(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=Lj.bind(null,d),nL(a,d))));break;case 22:if(m=d.memoizedState!==null||br,!m){l=l!==null&&l.memoizedState!==null||Dt,y=br;var x=Dt;br=m,(Dt=l)&&!x?Ar(a,d,(d.subtreeFlags&8772)!==0):wr(a,d),br=y,Dt=x}break;case 30:break;default:wr(a,d)}}function TA(a){var l=a.alternate;l!==null&&(a.alternate=null,TA(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&wp(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ut=null,Mn=!1;function xr(a,l,d){for(d=d.child;d!==null;)OA(a,l,d),d=d.sibling}function OA(a,l,d){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(ll,d)}catch{}switch(d.tag){case 26:Dt||Vi(d,l),xr(a,l,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Dt||Vi(d,l);var m=ut,y=Mn;xa(d.type)&&(ut=d.stateNode,Mn=!1),xr(a,l,d),Yl(d.stateNode),ut=m,Mn=y;break;case 5:Dt||Vi(d,l);case 6:if(m=ut,y=Mn,ut=null,xr(a,l,d),ut=m,Mn=y,ut!==null)if(Mn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(d.stateNode)}catch(x){Ye(d,l,x)}else try{ut.removeChild(d.stateNode)}catch(x){Ye(d,l,x)}break;case 18:ut!==null&&(Mn?(a=ut,xS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),vo(a)):xS(ut,d.stateNode));break;case 4:m=ut,y=Mn,ut=d.stateNode.containerInfo,Mn=!0,xr(a,l,d),ut=m,Mn=y;break;case 0:case 11:case 14:case 15:fa(2,d,l),Dt||fa(4,d,l),xr(a,l,d);break;case 1:Dt||(Vi(d,l),m=d.stateNode,typeof m.componentWillUnmount=="function"&&wA(d,l,m)),xr(a,l,d);break;case 21:xr(a,l,d);break;case 22:Dt=(m=Dt)||d.memoizedState!==null,xr(a,l,d),Dt=m;break;default:xr(a,l,d)}}function MA(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{vo(a)}catch(d){Ye(l,l.return,d)}}}function PA(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{vo(a)}catch(d){Ye(l,l.return,d)}}function Oj(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new _A),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new _A),l;default:throw Error(i(435,a.tag))}}function hd(a,l){var d=Oj(a);l.forEach(function(m){if(!d.has(m)){d.add(m);var y=Ij.bind(null,a,m);m.then(y,y)}})}function Pn(a,l){var d=l.deletions;if(d!==null)for(var m=0;m<d.length;m++){var y=d[m],x=a,O=l,k=O;e:for(;k!==null;){switch(k.tag){case 27:if(xa(k.type)){ut=k.stateNode,Mn=!1;break e}break;case 5:ut=k.stateNode,Mn=!1;break e;case 3:case 4:ut=k.stateNode.containerInfo,Mn=!0;break e}k=k.return}if(ut===null)throw Error(i(160));OA(x,O,y),ut=null,Mn=!1,x=y.alternate,x!==null&&(x.return=null),y.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)DA(l,a),l=l.sibling}var Di=null;function DA(a,l){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Pn(l,a),Dn(a),m&4&&(fa(3,a,a.return),Il(3,a),fa(5,a,a.return));break;case 1:Pn(l,a),Dn(a),m&512&&(Dt||d===null||Vi(d,d.return)),m&64&&br&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var y=Di;if(Pn(l,a),Dn(a),m&512&&(Dt||d===null||Vi(d,d.return)),m&4){var x=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,y=y.ownerDocument||y;t:switch(m){case"title":x=y.getElementsByTagName("title")[0],(!x||x[dl]||x[en]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=y.createElement(m),y.head.insertBefore(x,y.querySelector("head > title"))),an(x,m,d),x[en]=a,Ht(x),m=x;break e;case"link":var O=DS("link","href",y).get(m+(d.href||""));if(O){for(var k=0;k<O.length;k++)if(x=O[k],x.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&x.getAttribute("rel")===(d.rel==null?null:d.rel)&&x.getAttribute("title")===(d.title==null?null:d.title)&&x.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){O.splice(k,1);break t}}x=y.createElement(m),an(x,m,d),y.head.appendChild(x);break;case"meta":if(O=DS("meta","content",y).get(m+(d.content||""))){for(k=0;k<O.length;k++)if(x=O[k],x.getAttribute("content")===(d.content==null?null:""+d.content)&&x.getAttribute("name")===(d.name==null?null:d.name)&&x.getAttribute("property")===(d.property==null?null:d.property)&&x.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&x.getAttribute("charset")===(d.charSet==null?null:d.charSet)){O.splice(k,1);break t}}x=y.createElement(m),an(x,m,d),y.head.appendChild(x);break;default:throw Error(i(468,m))}x[en]=a,Ht(x),m=x}a.stateNode=m}else kS(y,a.type,a.stateNode);else a.stateNode=PS(y,m,a.memoizedProps);else x!==m?(x===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):x.count--,m===null?kS(y,a.type,a.stateNode):PS(y,m,a.memoizedProps)):m===null&&a.stateNode!==null&&Hm(a,a.memoizedProps,d.memoizedProps)}break;case 27:Pn(l,a),Dn(a),m&512&&(Dt||d===null||Vi(d,d.return)),d!==null&&m&4&&Hm(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Pn(l,a),Dn(a),m&512&&(Dt||d===null||Vi(d,d.return)),a.flags&32){y=a.stateNode;try{zs(y,"")}catch(he){Ye(a,a.return,he)}}m&4&&a.stateNode!=null&&(y=a.memoizedProps,Hm(a,y,d!==null?d.memoizedProps:y)),m&1024&&(Gm=!0);break;case 6:if(Pn(l,a),Dn(a),m&4){if(a.stateNode===null)throw Error(i(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(he){Ye(a,a.return,he)}}break;case 3:if(Od=null,y=Di,Di=Cd(l.containerInfo),Pn(l,a),Di=y,Dn(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{vo(l.containerInfo)}catch(he){Ye(a,a.return,he)}Gm&&(Gm=!1,kA(a));break;case 4:m=Di,Di=Cd(a.stateNode.containerInfo),Pn(l,a),Dn(a),Di=m;break;case 12:Pn(l,a),Dn(a);break;case 31:Pn(l,a),Dn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,hd(a,m)));break;case 13:Pn(l,a),Dn(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(pd=Hn()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,hd(a,m)));break;case 22:y=a.memoizedState!==null;var j=d!==null&&d.memoizedState!==null,q=br,Z=Dt;if(br=q||y,Dt=Z||j,Pn(l,a),Dt=Z,br=q,Dn(a),m&8192)e:for(l=a.stateNode,l._visibility=y?l._visibility&-2:l._visibility|1,y&&(d===null||j||br||Dt||is(a)),d=null,l=a;;){if(l.tag===5||l.tag===26){if(d===null){j=d=l;try{if(x=j.stateNode,y)O=x.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{k=j.stateNode;var ee=j.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;k.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(he){Ye(j,j.return,he)}}}else if(l.tag===6){if(d===null){j=l;try{j.stateNode.nodeValue=y?"":j.memoizedProps}catch(he){Ye(j,j.return,he)}}}else if(l.tag===18){if(d===null){j=l;try{var Y=j.stateNode;y?wS(Y,!0):wS(j.stateNode,!1)}catch(he){Ye(j,j.return,he)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,hd(a,d))));break;case 19:Pn(l,a),Dn(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,hd(a,m)));break;case 30:break;case 21:break;default:Pn(l,a),Dn(a)}}function Dn(a){var l=a.flags;if(l&2){try{for(var d,m=a.return;m!==null;){if(SA(m)){d=m;break}m=m.return}if(d==null)throw Error(i(160));switch(d.tag){case 27:var y=d.stateNode,x=$m(a);dd(a,x,y);break;case 5:var O=d.stateNode;d.flags&32&&(zs(O,""),d.flags&=-33);var k=$m(a);dd(a,k,O);break;case 3:case 4:var j=d.stateNode.containerInfo,q=$m(a);qm(a,q,j);break;default:throw Error(i(161))}}catch(Z){Ye(a,a.return,Z)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function kA(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;kA(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function wr(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)CA(a,l.alternate,l),l=l.sibling}function is(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:fa(4,l,l.return),is(l);break;case 1:Vi(l,l.return);var d=l.stateNode;typeof d.componentWillUnmount=="function"&&wA(l,l.return,d),is(l);break;case 27:Yl(l.stateNode);case 26:case 5:Vi(l,l.return),is(l);break;case 22:l.memoizedState===null&&is(l);break;case 30:is(l);break;default:is(l)}a=a.sibling}}function Ar(a,l,d){for(d=d&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var m=l.alternate,y=a,x=l,O=x.flags;switch(x.tag){case 0:case 11:case 15:Ar(y,x,d),Il(4,x);break;case 1:if(Ar(y,x,d),m=x,y=m.stateNode,typeof y.componentDidMount=="function")try{y.componentDidMount()}catch(q){Ye(m,m.return,q)}if(m=x,y=m.updateQueue,y!==null){var k=m.stateNode;try{var j=y.shared.hiddenCallbacks;if(j!==null)for(y.shared.hiddenCallbacks=null,y=0;y<j.length;y++)cw(j[y],k)}catch(q){Ye(m,m.return,q)}}d&&O&64&&xA(x),Bl(x,x.return);break;case 27:EA(x);case 26:case 5:Ar(y,x,d),d&&m===null&&O&4&&AA(x),Bl(x,x.return);break;case 12:Ar(y,x,d);break;case 31:Ar(y,x,d),d&&O&4&&MA(y,x);break;case 13:Ar(y,x,d),d&&O&4&&PA(y,x);break;case 22:x.memoizedState===null&&Ar(y,x,d),Bl(x,x.return);break;case 30:break;default:Ar(y,x,d)}l=l.sibling}}function Vm(a,l){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&El(d))}function Ym(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&El(a))}function ki(a,l,d,m){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)RA(a,l,d,m),l=l.sibling}function RA(a,l,d,m){var y=l.flags;switch(l.tag){case 0:case 11:case 15:ki(a,l,d,m),y&2048&&Il(9,l);break;case 1:ki(a,l,d,m);break;case 3:ki(a,l,d,m),y&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&El(a)));break;case 12:if(y&2048){ki(a,l,d,m),a=l.stateNode;try{var x=l.memoizedProps,O=x.id,k=x.onPostCommit;typeof k=="function"&&k(O,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(j){Ye(l,l.return,j)}}else ki(a,l,d,m);break;case 31:ki(a,l,d,m);break;case 13:ki(a,l,d,m);break;case 23:break;case 22:x=l.stateNode,O=l.alternate,l.memoizedState!==null?x._visibility&2?ki(a,l,d,m):zl(a,l):x._visibility&2?ki(a,l,d,m):(x._visibility|=2,ao(a,l,d,m,(l.subtreeFlags&10256)!==0||!1)),y&2048&&Vm(O,l);break;case 24:ki(a,l,d,m),y&2048&&Ym(l.alternate,l);break;default:ki(a,l,d,m)}}function ao(a,l,d,m,y){for(y=y&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var x=a,O=l,k=d,j=m,q=O.flags;switch(O.tag){case 0:case 11:case 15:ao(x,O,k,j,y),Il(8,O);break;case 23:break;case 22:var Z=O.stateNode;O.memoizedState!==null?Z._visibility&2?ao(x,O,k,j,y):zl(x,O):(Z._visibility|=2,ao(x,O,k,j,y)),y&&q&2048&&Vm(O.alternate,O);break;case 24:ao(x,O,k,j,y),y&&q&2048&&Ym(O.alternate,O);break;default:ao(x,O,k,j,y)}l=l.sibling}}function zl(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var d=a,m=l,y=m.flags;switch(m.tag){case 22:zl(d,m),y&2048&&Vm(m.alternate,m);break;case 24:zl(d,m),y&2048&&Ym(m.alternate,m);break;default:zl(d,m)}l=l.sibling}}var Fl=8192;function so(a,l,d){if(a.subtreeFlags&Fl)for(a=a.child;a!==null;)NA(a,l,d),a=a.sibling}function NA(a,l,d){switch(a.tag){case 26:so(a,l,d),a.flags&Fl&&a.memoizedState!==null&&pL(d,Di,a.memoizedState,a.memoizedProps);break;case 5:so(a,l,d);break;case 3:case 4:var m=Di;Di=Cd(a.stateNode.containerInfo),so(a,l,d),Di=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Fl,Fl=16777216,so(a,l,d),Fl=m):so(a,l,d));break;default:so(a,l,d)}}function jA(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Ul(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];$t=m,IA(m,a)}jA(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)LA(a),a=a.sibling}function LA(a){switch(a.tag){case 0:case 11:case 15:Ul(a),a.flags&2048&&fa(9,a,a.return);break;case 3:Ul(a);break;case 12:Ul(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,fd(a)):Ul(a);break;default:Ul(a)}}function fd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];$t=m,IA(m,a)}jA(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:fa(8,l,l.return),fd(l);break;case 22:d=l.stateNode,d._visibility&2&&(d._visibility&=-3,fd(l));break;default:fd(l)}a=a.sibling}}function IA(a,l){for(;$t!==null;){var d=$t;switch(d.tag){case 0:case 11:case 15:fa(8,d,l);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:El(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,$t=m;else e:for(d=a;$t!==null;){m=$t;var y=m.sibling,x=m.return;if(TA(m),m===d){$t=null;break e}if(y!==null){y.return=x,$t=y;break e}$t=x}}}var Mj={getCacheForType:function(a){var l=nn(Ot),d=l.data.get(a);return d===void 0&&(d=a(),l.data.set(a,d)),d},cacheSignal:function(){return nn(Ot).controller.signal}},Pj=typeof WeakMap=="function"?WeakMap:Map,$e=0,tt=null,De=null,Ne=0,Ve=0,Wn=null,pa=!1,oo=!1,Xm=!1,Sr=0,bt=0,ma=0,rs=0,Wm=0,Kn=0,lo=0,Hl=null,kn=null,Km=!1,pd=0,BA=0,md=1/0,gd=null,ga=null,Lt=0,va=null,co=null,Er=0,Zm=0,Qm=null,zA=null,$l=0,Jm=null;function Zn(){return($e&2)!==0&&Ne!==0?Ne&-Ne:B.T!==null?ag():tx()}function FA(){if(Kn===0)if((Ne&536870912)===0||Le){var a=Eu;Eu<<=1,(Eu&3932160)===0&&(Eu=262144),Kn=a}else Kn=536870912;return a=Yn.current,a!==null&&(a.flags|=32),Kn}function Rn(a,l,d){(a===tt&&(Ve===2||Ve===9)||a.cancelPendingCommit!==null)&&(uo(a,0),ya(a,Ne,Kn,!1)),ul(a,d),(($e&2)===0||a!==tt)&&(a===tt&&(($e&2)===0&&(rs|=d),bt===4&&ya(a,Ne,Kn,!1)),Yi(a))}function UA(a,l,d){if(($e&6)!==0)throw Error(i(327));var m=!d&&(l&127)===0&&(l&a.expiredLanes)===0||cl(a,l),y=m?Rj(a,l):tg(a,l,!0),x=m;do{if(y===0){oo&&!m&&ya(a,l,0,!1);break}else{if(d=a.current.alternate,x&&!Dj(d)){y=tg(a,l,!1),x=!1;continue}if(y===2){if(x=l,a.errorRecoveryDisabledLanes&x)var O=0;else O=a.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){l=O;e:{var k=a;y=Hl;var j=k.current.memoizedState.isDehydrated;if(j&&(uo(k,O).flags|=256),O=tg(k,O,!1),O!==2){if(Xm&&!j){k.errorRecoveryDisabledLanes|=x,rs|=x,y=4;break e}x=kn,kn=y,x!==null&&(kn===null?kn=x:kn.push.apply(kn,x))}y=O}if(x=!1,y!==2)continue}}if(y===1){uo(a,0),ya(a,l,0,!0);break}e:{switch(m=a,x=y,x){case 0:case 1:throw Error(i(345));case 4:if((l&4194048)!==l)break;case 6:ya(m,l,Kn,!pa);break e;case 2:kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((l&62914560)===l&&(y=pd+300-Hn(),10<y)){if(ya(m,l,Kn,!pa),Cu(m,0,!0)!==0)break e;Er=l,m.timeoutHandle=yS(HA.bind(null,m,d,kn,gd,Km,l,Kn,rs,lo,pa,x,"Throttled",-0,0),y);break e}HA(m,d,kn,gd,Km,l,Kn,rs,lo,pa,x,null,-0,0)}}break}while(!0);Yi(a)}function HA(a,l,d,m,y,x,O,k,j,q,Z,ee,G,Y){if(a.timeoutHandle=-1,ee=l.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cr},NA(l,x,ee);var he=(x&62914560)===x?pd-Hn():(x&4194048)===x?BA-Hn():0;if(he=mL(ee,he),he!==null){Er=x,a.cancelPendingCommit=he(KA.bind(null,a,l,x,d,m,y,O,k,j,Z,ee,null,G,Y)),ya(a,x,O,!q);return}}KA(a,l,x,d,m,y,O,k,j)}function Dj(a){for(var l=a;;){var d=l.tag;if((d===0||d===11||d===15)&&l.flags&16384&&(d=l.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var y=d[m],x=y.getSnapshot;y=y.value;try{if(!Gn(x(),y))return!1}catch{return!1}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function ya(a,l,d,m){l&=~Wm,l&=~rs,a.suspendedLanes|=l,a.pingedLanes&=~l,m&&(a.warmLanes|=l),m=a.expirationTimes;for(var y=l;0<y;){var x=31-qn(y),O=1<<x;m[x]=-1,y&=~O}d!==0&&Q1(a,d,l)}function vd(){return($e&6)===0?(ql(0),!1):!0}function eg(){if(De!==null){if(Ve===0)var a=De.return;else a=De,fr=Wa=null,gm(a),eo=null,Cl=0,a=De;for(;a!==null;)bA(a.alternate,a),a=a.return;De=null}}function uo(a,l){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,Zj(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),Er=0,eg(),tt=a,De=d=dr(a.current,null),Ne=l,Ve=0,Wn=null,pa=!1,oo=cl(a,l),Xm=!1,lo=Kn=Wm=rs=ma=bt=0,kn=Hl=null,Km=!1,(l&8)!==0&&(l|=l&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=l;0<m;){var y=31-qn(m),x=1<<y;l|=a[y],m&=~x}return Sr=l,Bu(),d}function $A(a,l){Oe=null,B.H=Nl,l===Js||l===Vu?(l=aw(),Ve=3):l===rm?(l=aw(),Ve=4):Ve=l===km?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Wn=l,De===null&&(bt=1,sd(a,ci(l,a.current)))}function qA(){var a=Yn.current;return a===null?!0:(Ne&4194048)===Ne?fi===null:(Ne&62914560)===Ne||(Ne&536870912)!==0?a===fi:!1}function GA(){var a=B.H;return B.H=Nl,a===null?Nl:a}function VA(){var a=B.A;return B.A=Mj,a}function yd(){bt=4,pa||(Ne&4194048)!==Ne&&Yn.current!==null||(oo=!0),(ma&134217727)===0&&(rs&134217727)===0||tt===null||ya(tt,Ne,Kn,!1)}function tg(a,l,d){var m=$e;$e|=2;var y=GA(),x=VA();(tt!==a||Ne!==l)&&(gd=null,uo(a,l)),l=!1;var O=bt;e:do try{if(Ve!==0&&De!==null){var k=De,j=Wn;switch(Ve){case 8:eg(),O=6;break e;case 3:case 2:case 9:case 6:Yn.current===null&&(l=!0);var q=Ve;if(Ve=0,Wn=null,ho(a,k,j,q),d&&oo){O=0;break e}break;default:q=Ve,Ve=0,Wn=null,ho(a,k,j,q)}}kj(),O=bt;break}catch(Z){$A(a,Z)}while(!0);return l&&a.shellSuspendCounter++,fr=Wa=null,$e=m,B.H=y,B.A=x,De===null&&(tt=null,Ne=0,Bu()),O}function kj(){for(;De!==null;)YA(De)}function Rj(a,l){var d=$e;$e|=2;var m=GA(),y=VA();tt!==a||Ne!==l?(gd=null,md=Hn()+500,uo(a,l)):oo=cl(a,l);e:do try{if(Ve!==0&&De!==null){l=De;var x=Wn;t:switch(Ve){case 1:Ve=0,Wn=null,ho(a,l,x,1);break;case 2:case 9:if(iw(x)){Ve=0,Wn=null,XA(l);break}l=function(){Ve!==2&&Ve!==9||tt!==a||(Ve=7),Yi(a)},x.then(l,l);break e;case 3:Ve=7;break e;case 4:Ve=5;break e;case 7:iw(x)?(Ve=0,Wn=null,XA(l)):(Ve=0,Wn=null,ho(a,l,x,7));break;case 5:var O=null;switch(De.tag){case 26:O=De.memoizedState;case 5:case 27:var k=De;if(O?RS(O):k.stateNode.complete){Ve=0,Wn=null;var j=k.sibling;if(j!==null)De=j;else{var q=k.return;q!==null?(De=q,bd(q)):De=null}break t}}Ve=0,Wn=null,ho(a,l,x,5);break;case 6:Ve=0,Wn=null,ho(a,l,x,6);break;case 8:eg(),bt=6;break e;default:throw Error(i(462))}}Nj();break}catch(Z){$A(a,Z)}while(!0);return fr=Wa=null,B.H=m,B.A=y,$e=d,De!==null?0:(tt=null,Ne=0,Bu(),bt)}function Nj(){for(;De!==null&&!iN();)YA(De)}function YA(a){var l=vA(a.alternate,a,Sr);a.memoizedProps=a.pendingProps,l===null?bd(a):De=l}function XA(a){var l=a,d=l.alternate;switch(l.tag){case 15:case 0:l=dA(d,l,l.pendingProps,l.type,void 0,Ne);break;case 11:l=dA(d,l,l.pendingProps,l.type.render,l.ref,Ne);break;case 5:gm(l);default:bA(d,l),l=De=Vx(l,Sr),l=vA(d,l,Sr)}a.memoizedProps=a.pendingProps,l===null?bd(a):De=l}function ho(a,l,d,m){fr=Wa=null,gm(l),eo=null,Cl=0;var y=l.return;try{if(Aj(a,y,l,d,Ne)){bt=1,sd(a,ci(d,a.current)),De=null;return}}catch(x){if(y!==null)throw De=y,x;bt=1,sd(a,ci(d,a.current)),De=null;return}l.flags&32768?(Le||m===1?a=!0:oo||(Ne&536870912)!==0?a=!1:(pa=a=!0,(m===2||m===9||m===3||m===6)&&(m=Yn.current,m!==null&&m.tag===13&&(m.flags|=16384))),WA(l,a)):bd(l)}function bd(a){var l=a;do{if((l.flags&32768)!==0){WA(l,pa);return}a=l.return;var d=_j(l.alternate,l,Sr);if(d!==null){De=d;return}if(l=l.sibling,l!==null){De=l;return}De=l=a}while(l!==null);bt===0&&(bt=5)}function WA(a,l){do{var d=Cj(a.alternate,a);if(d!==null){d.flags&=32767,De=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!l&&(a=a.sibling,a!==null)){De=a;return}De=a=d}while(a!==null);bt=6,De=null}function KA(a,l,d,m,y,x,O,k,j){a.cancelPendingCommit=null;do xd();while(Lt!==0);if(($e&6)!==0)throw Error(i(327));if(l!==null){if(l===a.current)throw Error(i(177));if(x=l.lanes|l.childLanes,x|=$p,fN(a,d,x,O,k,j),a===tt&&(De=tt=null,Ne=0),co=l,va=a,Er=d,Zm=x,Qm=y,zA=m,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Bj(Au,function(){return tS(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||m){m=B.T,B.T=null,y=H.p,H.p=2,O=$e,$e|=4;try{Tj(a,l,d)}finally{$e=O,H.p=y,B.T=m}}Lt=1,ZA(),QA(),JA()}}function ZA(){if(Lt===1){Lt=0;var a=va,l=co,d=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||d){d=B.T,B.T=null;var m=H.p;H.p=2;var y=$e;$e|=4;try{DA(l,a);var x=fg,O=Ix(a.containerInfo),k=x.focusedElem,j=x.selectionRange;if(O!==k&&k&&k.ownerDocument&&Lx(k.ownerDocument.documentElement,k)){if(j!==null&&Bp(k)){var q=j.start,Z=j.end;if(Z===void 0&&(Z=q),"selectionStart"in k)k.selectionStart=q,k.selectionEnd=Math.min(Z,k.value.length);else{var ee=k.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var Y=G.getSelection(),he=k.textContent.length,Ae=Math.min(j.start,he),Qe=j.end===void 0?Ae:Math.min(j.end,he);!Y.extend&&Ae>Qe&&(O=Qe,Qe=Ae,Ae=O);var F=jx(k,Ae),z=jx(k,Qe);if(F&&z&&(Y.rangeCount!==1||Y.anchorNode!==F.node||Y.anchorOffset!==F.offset||Y.focusNode!==z.node||Y.focusOffset!==z.offset)){var $=ee.createRange();$.setStart(F.node,F.offset),Y.removeAllRanges(),Ae>Qe?(Y.addRange($),Y.extend(z.node,z.offset)):($.setEnd(z.node,z.offset),Y.addRange($))}}}}for(ee=[],Y=k;Y=Y.parentNode;)Y.nodeType===1&&ee.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<ee.length;k++){var J=ee[k];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}kd=!!hg,fg=hg=null}finally{$e=y,H.p=m,B.T=d}}a.current=l,Lt=2}}function QA(){if(Lt===2){Lt=0;var a=va,l=co,d=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||d){d=B.T,B.T=null;var m=H.p;H.p=2;var y=$e;$e|=4;try{CA(a,l.alternate,l)}finally{$e=y,H.p=m,B.T=d}}Lt=3}}function JA(){if(Lt===4||Lt===3){Lt=0,rN();var a=va,l=co,d=Er,m=zA;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?Lt=5:(Lt=0,co=va=null,eS(a,a.pendingLanes));var y=a.pendingLanes;if(y===0&&(ga=null),bp(d),l=l.stateNode,$n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(ll,l,void 0,(l.current.flags&128)===128)}catch{}if(m!==null){l=B.T,y=H.p,H.p=2,B.T=null;try{for(var x=a.onRecoverableError,O=0;O<m.length;O++){var k=m[O];x(k.value,{componentStack:k.stack})}}finally{B.T=l,H.p=y}}(Er&3)!==0&&xd(),Yi(a),y=a.pendingLanes,(d&261930)!==0&&(y&42)!==0?a===Jm?$l++:($l=0,Jm=a):$l=0,ql(0)}}function eS(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,El(l)))}function xd(){return ZA(),QA(),JA(),tS()}function tS(){if(Lt!==5)return!1;var a=va,l=Zm;Zm=0;var d=bp(Er),m=B.T,y=H.p;try{H.p=32>d?32:d,B.T=null,d=Qm,Qm=null;var x=va,O=Er;if(Lt=0,co=va=null,Er=0,($e&6)!==0)throw Error(i(331));var k=$e;if($e|=4,LA(x.current),RA(x,x.current,O,d),$e=k,ql(0,!1),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(ll,x)}catch{}return!0}finally{H.p=y,B.T=m,eS(a,l)}}function nS(a,l,d){l=ci(d,l),l=Dm(a.stateNode,l,2),a=ua(a,l,2),a!==null&&(ul(a,2),Yi(a))}function Ye(a,l,d){if(a.tag===3)nS(a,a,d);else for(;l!==null;){if(l.tag===3){nS(l,a,d);break}else if(l.tag===1){var m=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ga===null||!ga.has(m))){a=ci(d,a),d=iA(2),m=ua(l,d,2),m!==null&&(rA(d,m,l,a),ul(m,2),Yi(m));break}}l=l.return}}function ng(a,l,d){var m=a.pingCache;if(m===null){m=a.pingCache=new Pj;var y=new Set;m.set(l,y)}else y=m.get(l),y===void 0&&(y=new Set,m.set(l,y));y.has(d)||(Xm=!0,y.add(d),a=jj.bind(null,a,l,d),l.then(a,a))}function jj(a,l,d){var m=a.pingCache;m!==null&&m.delete(l),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,tt===a&&(Ne&d)===d&&(bt===4||bt===3&&(Ne&62914560)===Ne&&300>Hn()-pd?($e&2)===0&&uo(a,0):Wm|=d,lo===Ne&&(lo=0)),Yi(a)}function iS(a,l){l===0&&(l=Z1()),a=Va(a,l),a!==null&&(ul(a,l),Yi(a))}function Lj(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),iS(a,d)}function Ij(a,l){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(i(314))}m!==null&&m.delete(l),iS(a,d)}function Bj(a,l){return mp(a,l)}var wd=null,fo=null,ig=!1,Ad=!1,rg=!1,ba=0;function Yi(a){a!==fo&&a.next===null&&(fo===null?wd=fo=a:fo=fo.next=a),Ad=!0,ig||(ig=!0,Fj())}function ql(a,l){if(!rg&&Ad){rg=!0;do for(var d=!1,m=wd;m!==null;){if(a!==0){var y=m.pendingLanes;if(y===0)var x=0;else{var O=m.suspendedLanes,k=m.pingedLanes;x=(1<<31-qn(42|a)+1)-1,x&=y&~(O&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(d=!0,oS(m,x))}else x=Ne,x=Cu(m,m===tt?x:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(x&3)===0||cl(m,x)||(d=!0,oS(m,x));m=m.next}while(d);rg=!1}}function zj(){rS()}function rS(){Ad=ig=!1;var a=0;ba!==0&&Kj()&&(a=ba);for(var l=Hn(),d=null,m=wd;m!==null;){var y=m.next,x=aS(m,l);x===0?(m.next=null,d===null?wd=y:d.next=y,y===null&&(fo=d)):(d=m,(a!==0||(x&3)!==0)&&(Ad=!0)),m=y}Lt!==0&&Lt!==5||ql(a),ba!==0&&(ba=0)}function aS(a,l){for(var d=a.suspendedLanes,m=a.pingedLanes,y=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var O=31-qn(x),k=1<<O,j=y[O];j===-1?((k&d)===0||(k&m)!==0)&&(y[O]=hN(k,l)):j<=l&&(a.expiredLanes|=k),x&=~k}if(l=tt,d=Ne,d=Cu(a,a===l?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===l&&(Ve===2||Ve===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&gp(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||cl(a,d)){if(l=d&-d,l===a.callbackPriority)return l;switch(m!==null&&gp(m),bp(d)){case 2:case 8:d=W1;break;case 32:d=Au;break;case 268435456:d=K1;break;default:d=Au}return m=sS.bind(null,a),d=mp(d,m),a.callbackPriority=l,a.callbackNode=d,l}return m!==null&&m!==null&&gp(m),a.callbackPriority=2,a.callbackNode=null,2}function sS(a,l){if(Lt!==0&&Lt!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(xd()&&a.callbackNode!==d)return null;var m=Ne;return m=Cu(a,a===tt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(UA(a,m,l),aS(a,Hn()),a.callbackNode!=null&&a.callbackNode===d?sS.bind(null,a):null)}function oS(a,l){if(xd())return null;UA(a,l,!0)}function Fj(){Qj(function(){($e&6)!==0?mp(X1,zj):rS()})}function ag(){if(ba===0){var a=Zs;a===0&&(a=Su,Su<<=1,(Su&261888)===0&&(Su=256)),ba=a}return ba}function lS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Pu(""+a)}function cS(a,l){var d=l.ownerDocument.createElement("input");return d.name=l.name,d.value=l.value,a.id&&d.setAttribute("form",a.id),l.parentNode.insertBefore(d,l),a=new FormData(a),d.parentNode.removeChild(d),a}function Uj(a,l,d,m,y){if(l==="submit"&&d&&d.stateNode===y){var x=lS((y[Tn]||null).action),O=m.submitter;O&&(l=(l=O[Tn]||null)?lS(l.formAction):O.getAttribute("formAction"),l!==null&&(x=l,O=null));var k=new Nu("action","action",null,m,y);a.push({event:k,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ba!==0){var j=O?cS(y,O):new FormData(y);_m(d,{pending:!0,data:j,method:y.method,action:x},null,j)}}else typeof x=="function"&&(k.preventDefault(),j=O?cS(y,O):new FormData(y),_m(d,{pending:!0,data:j,method:y.method,action:x},x,j))},currentTarget:y}]})}}for(var sg=0;sg<Hp.length;sg++){var og=Hp[sg],Hj=og.toLowerCase(),$j=og[0].toUpperCase()+og.slice(1);Pi(Hj,"on"+$j)}Pi(Fx,"onAnimationEnd"),Pi(Ux,"onAnimationIteration"),Pi(Hx,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(aj,"onTransitionRun"),Pi(sj,"onTransitionStart"),Pi(oj,"onTransitionCancel"),Pi($x,"onTransitionEnd"),Is("onMouseEnter",["mouseout","mouseover"]),Is("onMouseLeave",["mouseout","mouseover"]),Is("onPointerEnter",["pointerout","pointerover"]),Is("onPointerLeave",["pointerout","pointerover"]),Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Gl));function uS(a,l){l=(l&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],y=m.event;m=m.listeners;e:{var x=void 0;if(l)for(var O=m.length-1;0<=O;O--){var k=m[O],j=k.instance,q=k.currentTarget;if(k=k.listener,j!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=q;try{x(y)}catch(Z){Iu(Z)}y.currentTarget=null,x=j}else for(O=0;O<m.length;O++){if(k=m[O],j=k.instance,q=k.currentTarget,k=k.listener,j!==x&&y.isPropagationStopped())break e;x=k,y.currentTarget=q;try{x(y)}catch(Z){Iu(Z)}y.currentTarget=null,x=j}}}}function ke(a,l){var d=l[xp];d===void 0&&(d=l[xp]=new Set);var m=a+"__bubble";d.has(m)||(dS(l,a,2,!1),d.add(m))}function lg(a,l,d){var m=0;l&&(m|=4),dS(d,a,m,l)}var Sd="_reactListening"+Math.random().toString(36).slice(2);function cg(a){if(!a[Sd]){a[Sd]=!0,rx.forEach(function(d){d!=="selectionchange"&&(qj.has(d)||lg(d,!1,a),lg(d,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Sd]||(l[Sd]=!0,lg("selectionchange",!1,l))}}function dS(a,l,d,m){switch(FS(l)){case 2:var y=yL;break;case 8:y=bL;break;default:y=Eg}d=y.bind(null,l,d,a),y=void 0,!Mp||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(y=!0),m?y!==void 0?a.addEventListener(l,d,{capture:!0,passive:y}):a.addEventListener(l,d,!0):y!==void 0?a.addEventListener(l,d,{passive:y}):a.addEventListener(l,d,!1)}function ug(a,l,d,m,y){var x=m;if((l&1)===0&&(l&2)===0&&m!==null)e:for(;;){if(m===null)return;var O=m.tag;if(O===3||O===4){var k=m.stateNode.containerInfo;if(k===y)break;if(O===4)for(O=m.return;O!==null;){var j=O.tag;if((j===3||j===4)&&O.stateNode.containerInfo===y)return;O=O.return}for(;k!==null;){if(O=Ns(k),O===null)return;if(j=O.tag,j===5||j===6||j===26||j===27){m=x=O;continue e}k=k.parentNode}}m=m.return}gx(function(){var q=x,Z=Tp(d),ee=[];e:{var G=qx.get(a);if(G!==void 0){var Y=Nu,he=a;switch(a){case"keypress":if(ku(d)===0)break e;case"keydown":case"keyup":Y=IN;break;case"focusin":he="focus",Y=Rp;break;case"focusout":he="blur",Y=Rp;break;case"beforeblur":case"afterblur":Y=Rp;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=bx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=_N;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=FN;break;case Fx:case Ux:case Hx:Y=ON;break;case $x:Y=HN;break;case"scroll":case"scrollend":Y=SN;break;case"wheel":Y=qN;break;case"copy":case"cut":case"paste":Y=PN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=wx;break;case"toggle":case"beforetoggle":Y=VN}var Ae=(l&4)!==0,Qe=!Ae&&(a==="scroll"||a==="scrollend"),F=Ae?G!==null?G+"Capture":null:G;Ae=[];for(var z=q,$;z!==null;){var J=z;if($=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||$===null||F===null||(J=fl(z,F),J!=null&&Ae.push(Vl(z,J,$))),Qe)break;z=z.return}0<Ae.length&&(G=new Y(G,he,null,d,Z),ee.push({event:G,listeners:Ae}))}}if((l&7)===0){e:{if(G=a==="mouseover"||a==="pointerover",Y=a==="mouseout"||a==="pointerout",G&&d!==Cp&&(he=d.relatedTarget||d.fromElement)&&(Ns(he)||he[Rs]))break e;if((Y||G)&&(G=Z.window===Z?Z:(G=Z.ownerDocument)?G.defaultView||G.parentWindow:window,Y?(he=d.relatedTarget||d.toElement,Y=q,he=he?Ns(he):null,he!==null&&(Qe=s(he),Ae=he.tag,he!==Qe||Ae!==5&&Ae!==27&&Ae!==6)&&(he=null)):(Y=null,he=q),Y!==he)){if(Ae=bx,J="onMouseLeave",F="onMouseEnter",z="mouse",(a==="pointerout"||a==="pointerover")&&(Ae=wx,J="onPointerLeave",F="onPointerEnter",z="pointer"),Qe=Y==null?G:hl(Y),$=he==null?G:hl(he),G=new Ae(J,z+"leave",Y,d,Z),G.target=Qe,G.relatedTarget=$,J=null,Ns(Z)===q&&(Ae=new Ae(F,z+"enter",he,d,Z),Ae.target=$,Ae.relatedTarget=Qe,J=Ae),Qe=J,Y&&he)t:{for(Ae=Gj,F=Y,z=he,$=0,J=F;J;J=Ae(J))$++;J=0;for(var ve=z;ve;ve=Ae(ve))J++;for(;0<$-J;)F=Ae(F),$--;for(;0<J-$;)z=Ae(z),J--;for(;$--;){if(F===z||z!==null&&F===z.alternate){Ae=F;break t}F=Ae(F),z=Ae(z)}Ae=null}else Ae=null;Y!==null&&hS(ee,G,Y,Ae,!1),he!==null&&Qe!==null&&hS(ee,Qe,he,Ae,!0)}}e:{if(G=q?hl(q):window,Y=G.nodeName&&G.nodeName.toLowerCase(),Y==="select"||Y==="input"&&G.type==="file")var Fe=Mx;else if(Tx(G))if(Px)Fe=nj;else{Fe=ej;var pe=JN}else Y=G.nodeName,!Y||Y.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&_p(q.elementType)&&(Fe=Mx):Fe=tj;if(Fe&&(Fe=Fe(a,q))){Ox(ee,Fe,d,Z);break e}pe&&pe(a,G,q),a==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&Ep(G,"number",G.value)}switch(pe=q?hl(q):window,a){case"focusin":(Tx(pe)||pe.contentEditable==="true")&&($s=pe,zp=q,wl=null);break;case"focusout":wl=zp=$s=null;break;case"mousedown":Fp=!0;break;case"contextmenu":case"mouseup":case"dragend":Fp=!1,Bx(ee,d,Z);break;case"selectionchange":if(rj)break;case"keydown":case"keyup":Bx(ee,d,Z)}var Pe;if(jp)e:{switch(a){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else Hs?_x(a,d)&&(je="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(je="onCompositionStart");je&&(Ax&&d.locale!=="ko"&&(Hs||je!=="onCompositionStart"?je==="onCompositionEnd"&&Hs&&(Pe=vx()):(ia=Z,Pp="value"in ia?ia.value:ia.textContent,Hs=!0)),pe=Ed(q,je),0<pe.length&&(je=new xx(je,a,null,d,Z),ee.push({event:je,listeners:pe}),Pe?je.data=Pe:(Pe=Cx(d),Pe!==null&&(je.data=Pe)))),(Pe=XN?WN(a,d):KN(a,d))&&(je=Ed(q,"onBeforeInput"),0<je.length&&(pe=new xx("onBeforeInput","beforeinput",null,d,Z),ee.push({event:pe,listeners:je}),pe.data=Pe)),Uj(ee,a,q,d,Z)}uS(ee,l)})}function Vl(a,l,d){return{instance:a,listener:l,currentTarget:d}}function Ed(a,l){for(var d=l+"Capture",m=[];a!==null;){var y=a,x=y.stateNode;if(y=y.tag,y!==5&&y!==26&&y!==27||x===null||(y=fl(a,d),y!=null&&m.unshift(Vl(a,y,x)),y=fl(a,l),y!=null&&m.push(Vl(a,y,x))),a.tag===3)return m;a=a.return}return[]}function Gj(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function hS(a,l,d,m,y){for(var x=l._reactName,O=[];d!==null&&d!==m;){var k=d,j=k.alternate,q=k.stateNode;if(k=k.tag,j!==null&&j===m)break;k!==5&&k!==26&&k!==27||q===null||(j=q,y?(q=fl(d,x),q!=null&&O.unshift(Vl(d,q,j))):y||(q=fl(d,x),q!=null&&O.push(Vl(d,q,j)))),d=d.return}O.length!==0&&a.push({event:l,listeners:O})}var Vj=/\r\n?/g,Yj=/\u0000|\uFFFD/g;function fS(a){return(typeof a=="string"?a:""+a).replace(Vj,`
`).replace(Yj,"")}function pS(a,l){return l=fS(l),fS(a)===l}function Ze(a,l,d,m,y,x){switch(d){case"children":typeof m=="string"?l==="body"||l==="textarea"&&m===""||zs(a,m):(typeof m=="number"||typeof m=="bigint")&&l!=="body"&&zs(a,""+m);break;case"className":Ou(a,"class",m);break;case"tabIndex":Ou(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":Ou(a,d,m);break;case"style":px(a,m,x);break;case"data":if(l!=="object"){Ou(a,"data",m);break}case"src":case"href":if(m===""&&(l!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Pu(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(d==="formAction"?(l!=="input"&&Ze(a,l,"name",y.name,y,null),Ze(a,l,"formEncType",y.formEncType,y,null),Ze(a,l,"formMethod",y.formMethod,y,null),Ze(a,l,"formTarget",y.formTarget,y,null)):(Ze(a,l,"encType",y.encType,y,null),Ze(a,l,"method",y.method,y,null),Ze(a,l,"target",y.target,y,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=Pu(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=cr);break;case"onScroll":m!=null&&ke("scroll",a);break;case"onScrollEnd":m!=null&&ke("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=Pu(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":ke("beforetoggle",a),ke("toggle",a),Tu(a,"popover",m);break;case"xlinkActuate":lr(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":lr(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":lr(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":lr(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":lr(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":lr(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":lr(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":lr(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":lr(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":Tu(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=wN.get(d)||d,Tu(a,d,m))}}function dg(a,l,d,m,y,x){switch(d){case"style":px(a,m,x);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(i(61));if(d=m.__html,d!=null){if(y.children!=null)throw Error(i(60));a.innerHTML=d}}break;case"children":typeof m=="string"?zs(a,m):(typeof m=="number"||typeof m=="bigint")&&zs(a,""+m);break;case"onScroll":m!=null&&ke("scroll",a);break;case"onScrollEnd":m!=null&&ke("scrollend",a);break;case"onClick":m!=null&&(a.onclick=cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ax.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(y=d.endsWith("Capture"),l=d.slice(2,y?d.length-7:void 0),x=a[Tn]||null,x=x!=null?x[d]:null,typeof x=="function"&&a.removeEventListener(l,x,y),typeof m=="function")){typeof x!="function"&&x!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(l,m,y);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):Tu(a,d,m)}}}function an(a,l,d){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",a),ke("load",a);var m=!1,y=!1,x;for(x in d)if(d.hasOwnProperty(x)){var O=d[x];if(O!=null)switch(x){case"src":m=!0;break;case"srcSet":y=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ze(a,l,x,O,d,null)}}y&&Ze(a,l,"srcSet",d.srcSet,d,null),m&&Ze(a,l,"src",d.src,d,null);return;case"input":ke("invalid",a);var k=x=O=y=null,j=null,q=null;for(m in d)if(d.hasOwnProperty(m)){var Z=d[m];if(Z!=null)switch(m){case"name":y=Z;break;case"type":O=Z;break;case"checked":j=Z;break;case"defaultChecked":q=Z;break;case"value":x=Z;break;case"defaultValue":k=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,l));break;default:Ze(a,l,m,Z,d,null)}}ux(a,x,k,j,q,O,y,!1);return;case"select":ke("invalid",a),m=O=x=null;for(y in d)if(d.hasOwnProperty(y)&&(k=d[y],k!=null))switch(y){case"value":x=k;break;case"defaultValue":O=k;break;case"multiple":m=k;default:Ze(a,l,y,k,d,null)}l=x,d=O,a.multiple=!!m,l!=null?Bs(a,!!m,l,!1):d!=null&&Bs(a,!!m,d,!0);return;case"textarea":ke("invalid",a),x=y=m=null;for(O in d)if(d.hasOwnProperty(O)&&(k=d[O],k!=null))switch(O){case"value":m=k;break;case"defaultValue":y=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Ze(a,l,O,k,d,null)}hx(a,m,y,x);return;case"option":for(j in d)if(d.hasOwnProperty(j)&&(m=d[j],m!=null))switch(j){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Ze(a,l,j,m,d,null)}return;case"dialog":ke("beforetoggle",a),ke("toggle",a),ke("cancel",a),ke("close",a);break;case"iframe":case"object":ke("load",a);break;case"video":case"audio":for(m=0;m<Gl.length;m++)ke(Gl[m],a);break;case"image":ke("error",a),ke("load",a);break;case"details":ke("toggle",a);break;case"embed":case"source":case"link":ke("error",a),ke("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in d)if(d.hasOwnProperty(q)&&(m=d[q],m!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,l));default:Ze(a,l,q,m,d,null)}return;default:if(_p(l)){for(Z in d)d.hasOwnProperty(Z)&&(m=d[Z],m!==void 0&&dg(a,l,Z,m,d,void 0));return}}for(k in d)d.hasOwnProperty(k)&&(m=d[k],m!=null&&Ze(a,l,k,m,d,null))}function Xj(a,l,d,m){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var y=null,x=null,O=null,k=null,j=null,q=null,Z=null;for(Y in d){var ee=d[Y];if(d.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":j=ee;default:m.hasOwnProperty(Y)||Ze(a,l,Y,null,m,ee)}}for(var G in m){var Y=m[G];if(ee=d[G],m.hasOwnProperty(G)&&(Y!=null||ee!=null))switch(G){case"type":x=Y;break;case"name":y=Y;break;case"checked":q=Y;break;case"defaultChecked":Z=Y;break;case"value":O=Y;break;case"defaultValue":k=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,l));break;default:Y!==ee&&Ze(a,l,G,Y,m,ee)}}Sp(a,O,k,j,q,Z,x,y);return;case"select":Y=O=k=G=null;for(x in d)if(j=d[x],d.hasOwnProperty(x)&&j!=null)switch(x){case"value":break;case"multiple":Y=j;default:m.hasOwnProperty(x)||Ze(a,l,x,null,m,j)}for(y in m)if(x=m[y],j=d[y],m.hasOwnProperty(y)&&(x!=null||j!=null))switch(y){case"value":G=x;break;case"defaultValue":k=x;break;case"multiple":O=x;default:x!==j&&Ze(a,l,y,x,m,j)}l=k,d=O,m=Y,G!=null?Bs(a,!!d,G,!1):!!m!=!!d&&(l!=null?Bs(a,!!d,l,!0):Bs(a,!!d,d?[]:"",!1));return;case"textarea":Y=G=null;for(k in d)if(y=d[k],d.hasOwnProperty(k)&&y!=null&&!m.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Ze(a,l,k,null,m,y)}for(O in m)if(y=m[O],x=d[O],m.hasOwnProperty(O)&&(y!=null||x!=null))switch(O){case"value":G=y;break;case"defaultValue":Y=y;break;case"children":break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(i(91));break;default:y!==x&&Ze(a,l,O,y,m,x)}dx(a,G,Y);return;case"option":for(var he in d)if(G=d[he],d.hasOwnProperty(he)&&G!=null&&!m.hasOwnProperty(he))switch(he){case"selected":a.selected=!1;break;default:Ze(a,l,he,null,m,G)}for(j in m)if(G=m[j],Y=d[j],m.hasOwnProperty(j)&&G!==Y&&(G!=null||Y!=null))switch(j){case"selected":a.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ze(a,l,j,G,m,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in d)G=d[Ae],d.hasOwnProperty(Ae)&&G!=null&&!m.hasOwnProperty(Ae)&&Ze(a,l,Ae,null,m,G);for(q in m)if(G=m[q],Y=d[q],m.hasOwnProperty(q)&&G!==Y&&(G!=null||Y!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,l));break;default:Ze(a,l,q,G,m,Y)}return;default:if(_p(l)){for(var Qe in d)G=d[Qe],d.hasOwnProperty(Qe)&&G!==void 0&&!m.hasOwnProperty(Qe)&&dg(a,l,Qe,void 0,m,G);for(Z in m)G=m[Z],Y=d[Z],!m.hasOwnProperty(Z)||G===Y||G===void 0&&Y===void 0||dg(a,l,Z,G,m,Y);return}}for(var F in d)G=d[F],d.hasOwnProperty(F)&&G!=null&&!m.hasOwnProperty(F)&&Ze(a,l,F,null,m,G);for(ee in m)G=m[ee],Y=d[ee],!m.hasOwnProperty(ee)||G===Y||G==null&&Y==null||Ze(a,l,ee,G,m,Y)}function mS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Wj(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var y=d[m],x=y.transferSize,O=y.initiatorType,k=y.duration;if(x&&k&&mS(O)){for(O=0,k=y.responseEnd,m+=1;m<d.length;m++){var j=d[m],q=j.startTime;if(q>k)break;var Z=j.transferSize,ee=j.initiatorType;Z&&mS(ee)&&(j=j.responseEnd,O+=Z*(j<k?1:(k-q)/(j-q)))}if(--m,l+=8*(x+O)/(y.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var hg=null,fg=null;function _d(a){return a.nodeType===9?a:a.ownerDocument}function gS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vS(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function pg(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var mg=null;function Kj(){var a=window.event;return a&&a.type==="popstate"?a===mg?!1:(mg=a,!0):(mg=null,!1)}var yS=typeof setTimeout=="function"?setTimeout:void 0,Zj=typeof clearTimeout=="function"?clearTimeout:void 0,bS=typeof Promise=="function"?Promise:void 0,Qj=typeof queueMicrotask=="function"?queueMicrotask:typeof bS<"u"?function(a){return bS.resolve(null).then(a).catch(Jj)}:yS;function Jj(a){setTimeout(function(){throw a})}function xa(a){return a==="head"}function xS(a,l){var d=l,m=0;do{var y=d.nextSibling;if(a.removeChild(d),y&&y.nodeType===8)if(d=y.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(y),vo(l);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Yl(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Yl(d);for(var x=d.firstChild;x;){var O=x.nextSibling,k=x.nodeName;x[dl]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||d.removeChild(x),x=O}}else d==="body"&&Yl(a.ownerDocument.body);d=y}while(d);vo(l)}function wS(a,l){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?l?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(l?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function gg(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var d=l;switch(l=l.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":gg(d),wp(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function eL(a,l,d,m){for(;a.nodeType===1;){var y=d;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[dl])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==y.rel||a.getAttribute("href")!==(y.href==null||y.href===""?null:y.href)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin)||a.getAttribute("title")!==(y.title==null?null:y.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(y.src==null?null:y.src)||a.getAttribute("type")!==(y.type==null?null:y.type)||a.getAttribute("crossorigin")!==(y.crossOrigin==null?null:y.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var x=y.name==null?null:""+y.name;if(y.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=pi(a.nextSibling),a===null)break}return null}function tL(a,l,d){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=pi(a.nextSibling),a===null))return null;return a}function AS(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=pi(a.nextSibling),a===null))return null;return a}function vg(a){return a.data==="$?"||a.data==="$~"}function yg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function nL(a,l){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||d.readyState!=="loading")l();else{var m=function(){l(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function pi(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var bg=null;function SS(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(l===0)return pi(a.nextSibling);l--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||l++}a=a.nextSibling}return null}function ES(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(l===0)return a;l--}else d!=="/$"&&d!=="/&"||l++}a=a.previousSibling}return null}function _S(a,l,d){switch(l=_d(d),a){case"html":if(a=l.documentElement,!a)throw Error(i(452));return a;case"head":if(a=l.head,!a)throw Error(i(453));return a;case"body":if(a=l.body,!a)throw Error(i(454));return a;default:throw Error(i(451))}}function Yl(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);wp(a)}var mi=new Map,CS=new Set;function Cd(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var _r=H.d;H.d={f:iL,r:rL,D:aL,C:sL,L:oL,m:lL,X:uL,S:cL,M:dL};function iL(){var a=_r.f(),l=vd();return a||l}function rL(a){var l=js(a);l!==null&&l.tag===5&&l.type==="form"?$w(l):_r.r(a)}var po=typeof document>"u"?null:document;function TS(a,l,d){var m=po;if(m&&typeof l=="string"&&l){var y=oi(l);y='link[rel="'+a+'"][href="'+y+'"]',typeof d=="string"&&(y+='[crossorigin="'+d+'"]'),CS.has(y)||(CS.add(y),a={rel:a,crossOrigin:d,href:l},m.querySelector(y)===null&&(l=m.createElement("link"),an(l,"link",a),Ht(l),m.head.appendChild(l)))}}function aL(a){_r.D(a),TS("dns-prefetch",a,null)}function sL(a,l){_r.C(a,l),TS("preconnect",a,l)}function oL(a,l,d){_r.L(a,l,d);var m=po;if(m&&a&&l){var y='link[rel="preload"][as="'+oi(l)+'"]';l==="image"&&d&&d.imageSrcSet?(y+='[imagesrcset="'+oi(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(y+='[imagesizes="'+oi(d.imageSizes)+'"]')):y+='[href="'+oi(a)+'"]';var x=y;switch(l){case"style":x=mo(a);break;case"script":x=go(a)}mi.has(x)||(a=p({rel:"preload",href:l==="image"&&d&&d.imageSrcSet?void 0:a,as:l},d),mi.set(x,a),m.querySelector(y)!==null||l==="style"&&m.querySelector(Xl(x))||l==="script"&&m.querySelector(Wl(x))||(l=m.createElement("link"),an(l,"link",a),Ht(l),m.head.appendChild(l)))}}function lL(a,l){_r.m(a,l);var d=po;if(d&&a){var m=l&&typeof l.as=="string"?l.as:"script",y='link[rel="modulepreload"][as="'+oi(m)+'"][href="'+oi(a)+'"]',x=y;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=go(a)}if(!mi.has(x)&&(a=p({rel:"modulepreload",href:a},l),mi.set(x,a),d.querySelector(y)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Wl(x)))return}m=d.createElement("link"),an(m,"link",a),Ht(m),d.head.appendChild(m)}}}function cL(a,l,d){_r.S(a,l,d);var m=po;if(m&&a){var y=Ls(m).hoistableStyles,x=mo(a);l=l||"default";var O=y.get(x);if(!O){var k={loading:0,preload:null};if(O=m.querySelector(Xl(x)))k.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":l},d),(d=mi.get(x))&&xg(a,d);var j=O=m.createElement("link");Ht(j),an(j,"link",a),j._p=new Promise(function(q,Z){j.onload=q,j.onerror=Z}),j.addEventListener("load",function(){k.loading|=1}),j.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Td(O,l,m)}O={type:"stylesheet",instance:O,count:1,state:k},y.set(x,O)}}}function uL(a,l){_r.X(a,l);var d=po;if(d&&a){var m=Ls(d).hoistableScripts,y=go(a),x=m.get(y);x||(x=d.querySelector(Wl(y)),x||(a=p({src:a,async:!0},l),(l=mi.get(y))&&wg(a,l),x=d.createElement("script"),Ht(x),an(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function dL(a,l){_r.M(a,l);var d=po;if(d&&a){var m=Ls(d).hoistableScripts,y=go(a),x=m.get(y);x||(x=d.querySelector(Wl(y)),x||(a=p({src:a,async:!0,type:"module"},l),(l=mi.get(y))&&wg(a,l),x=d.createElement("script"),Ht(x),an(x,"link",a),d.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},m.set(y,x))}}function OS(a,l,d,m){var y=(y=we.current)?Cd(y):null;if(!y)throw Error(i(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(l=mo(d.href),d=Ls(y).hoistableStyles,m=d.get(l),m||(m={type:"style",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=mo(d.href);var x=Ls(y).hoistableStyles,O=x.get(a);if(O||(y=y.ownerDocument||y,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,O),(x=y.querySelector(Xl(a)))&&!x._p&&(O.instance=x,O.state.loading=5),mi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},mi.set(a,d),x||hL(y,a,d,O.state))),l&&m===null)throw Error(i(528,""));return O}if(l&&m!==null)throw Error(i(529,""));return null;case"script":return l=d.async,d=d.src,typeof d=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=go(d),d=Ls(y).hoistableScripts,m=d.get(l),m||(m={type:"script",instance:null,count:0,state:null},d.set(l,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,a))}}function mo(a){return'href="'+oi(a)+'"'}function Xl(a){return'link[rel="stylesheet"]['+a+"]"}function MS(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function hL(a,l,d,m){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?m.loading=1:(l=a.createElement("link"),m.preload=l,l.addEventListener("load",function(){return m.loading|=1}),l.addEventListener("error",function(){return m.loading|=2}),an(l,"link",d),Ht(l),a.head.appendChild(l))}function go(a){return'[src="'+oi(a)+'"]'}function Wl(a){return"script[async]"+a}function PS(a,l,d){if(l.count++,l.instance===null)switch(l.type){case"style":var m=a.querySelector('style[data-href~="'+oi(d.href)+'"]');if(m)return l.instance=m,Ht(m),m;var y=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),Ht(m),an(m,"style",y),Td(m,d.precedence,a),l.instance=m;case"stylesheet":y=mo(d.href);var x=a.querySelector(Xl(y));if(x)return l.state.loading|=4,l.instance=x,Ht(x),x;m=MS(d),(y=mi.get(y))&&xg(m,y),x=(a.ownerDocument||a).createElement("link"),Ht(x);var O=x;return O._p=new Promise(function(k,j){O.onload=k,O.onerror=j}),an(x,"link",m),l.state.loading|=4,Td(x,d.precedence,a),l.instance=x;case"script":return x=go(d.src),(y=a.querySelector(Wl(x)))?(l.instance=y,Ht(y),y):(m=d,(y=mi.get(x))&&(m=p({},d),wg(m,y)),a=a.ownerDocument||a,y=a.createElement("script"),Ht(y),an(y,"link",m),a.head.appendChild(y),l.instance=y);case"void":return null;default:throw Error(i(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(m=l.instance,l.state.loading|=4,Td(m,d.precedence,a));return l.instance}function Td(a,l,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),y=m.length?m[m.length-1]:null,x=y,O=0;O<m.length;O++){var k=m[O];if(k.dataset.precedence===l)x=k;else if(x!==y)break}x?x.parentNode.insertBefore(a,x.nextSibling):(l=d.nodeType===9?d.head:d,l.insertBefore(a,l.firstChild))}function xg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function wg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Od=null;function DS(a,l,d){if(Od===null){var m=new Map,y=Od=new Map;y.set(d,m)}else y=Od,m=y.get(d),m||(m=new Map,y.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),y=0;y<d.length;y++){var x=d[y];if(!(x[dl]||x[en]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var O=x.getAttribute(l)||"";O=a+O;var k=m.get(O);k?k.push(x):m.set(O,[x])}}return m}function kS(a,l,d){a=a.ownerDocument||a,a.head.insertBefore(d,l==="title"?a.querySelector("head > title"):null)}function fL(a,l,d){if(d===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function RS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function pL(a,l,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var y=mo(m.href),x=l.querySelector(Xl(y));if(x){l=x._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=Md.bind(a),l.then(a,a)),d.state.loading|=4,d.instance=x,Ht(x);return}x=l.ownerDocument||l,m=MS(m),(y=mi.get(y))&&xg(m,y),x=x.createElement("link"),Ht(x);var O=x;O._p=new Promise(function(k,j){O.onload=k,O.onerror=j}),an(x,"link",m),d.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,l),(l=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=Md.bind(a),l.addEventListener("load",d),l.addEventListener("error",d))}}var Ag=0;function mL(a,l){return a.stylesheets&&a.count===0&&Dd(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&Dd(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+l);0<a.imgBytes&&Ag===0&&(Ag=62500*Wj());var y=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Dd(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Ag?50:800)+l);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(y)}}:null}function Md(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Dd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Pd=null;function Dd(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Pd=new Map,l.forEach(gL,a),Pd=null,Md.call(a))}function gL(a,l){if(!(l.state.loading&4)){var d=Pd.get(a);if(d)var m=d.get(null);else{d=new Map,Pd.set(a,d);for(var y=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<y.length;x++){var O=y[x];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(d.set(O.dataset.precedence,O),m=O)}m&&d.set(null,m)}y=l.instance,O=y.getAttribute("data-precedence"),x=d.get(O)||m,x===m&&d.set(null,y),d.set(O,y),this.count++,m=Md.bind(this),y.addEventListener("load",m),y.addEventListener("error",m),x?x.parentNode.insertBefore(y,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(y,a.firstChild)),l.state.loading|=4}}var Kl={$$typeof:_,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function vL(a,l,d,m,y,x,O,k,j){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.hiddenUpdates=vp(null),this.identifierPrefix=m,this.onUncaughtError=y,this.onCaughtError=x,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function NS(a,l,d,m,y,x,O,k,j,q,Z,ee){return a=new vL(a,l,d,O,j,q,Z,ee,k),l=1,x===!0&&(l|=24),x=Vn(3,null,null,l),a.current=x,x.stateNode=a,l=tm(),l.refCount++,a.pooledCache=l,l.refCount++,x.memoizedState={element:m,isDehydrated:d,cache:l},am(x),a}function jS(a){return a?(a=Vs,a):Vs}function LS(a,l,d,m,y,x){y=jS(y),m.context===null?m.context=y:m.pendingContext=y,m=ca(l),m.payload={element:d},x=x===void 0?null:x,x!==null&&(m.callback=x),d=ua(a,m,l),d!==null&&(Rn(d,a,l),Ol(d,a,l))}function IS(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function Sg(a,l){IS(a,l),(a=a.alternate)&&IS(a,l)}function BS(a){if(a.tag===13||a.tag===31){var l=Va(a,67108864);l!==null&&Rn(l,a,67108864),Sg(a,67108864)}}function zS(a){if(a.tag===13||a.tag===31){var l=Zn();l=yp(l);var d=Va(a,l);d!==null&&Rn(d,a,l),Sg(a,l)}}var kd=!0;function yL(a,l,d,m){var y=B.T;B.T=null;var x=H.p;try{H.p=2,Eg(a,l,d,m)}finally{H.p=x,B.T=y}}function bL(a,l,d,m){var y=B.T;B.T=null;var x=H.p;try{H.p=8,Eg(a,l,d,m)}finally{H.p=x,B.T=y}}function Eg(a,l,d,m){if(kd){var y=_g(m);if(y===null)ug(a,l,m,Rd,d),US(a,m);else if(wL(y,a,l,d,m))m.stopPropagation();else if(US(a,m),l&4&&-1<xL.indexOf(a)){for(;y!==null;){var x=js(y);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var O=Ua(x.pendingLanes);if(O!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;O;){var j=1<<31-qn(O);k.entanglements[1]|=j,O&=~j}Yi(x),($e&6)===0&&(md=Hn()+500,ql(0))}}break;case 31:case 13:k=Va(x,2),k!==null&&Rn(k,x,2),vd(),Sg(x,2)}if(x=_g(m),x===null&&ug(a,l,m,Rd,d),x===y)break;y=x}y!==null&&m.stopPropagation()}else ug(a,l,m,null,d)}}function _g(a){return a=Tp(a),Cg(a)}var Rd=null;function Cg(a){if(Rd=null,a=Ns(a),a!==null){var l=s(a);if(l===null)a=null;else{var d=l.tag;if(d===13){if(a=o(l),a!==null)return a;a=null}else if(d===31){if(a=c(l),a!==null)return a;a=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Rd=a,null}function FS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aN()){case X1:return 2;case W1:return 8;case Au:case sN:return 32;case K1:return 268435456;default:return 32}default:return 32}}var Tg=!1,wa=null,Aa=null,Sa=null,Zl=new Map,Ql=new Map,Ea=[],xL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function US(a,l){switch(a){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Sa=null;break;case"pointerover":case"pointerout":Zl.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(l.pointerId)}}function Jl(a,l,d,m,y,x){return a===null||a.nativeEvent!==x?(a={blockedOn:l,domEventName:d,eventSystemFlags:m,nativeEvent:x,targetContainers:[y]},l!==null&&(l=js(l),l!==null&&BS(l)),a):(a.eventSystemFlags|=m,l=a.targetContainers,y!==null&&l.indexOf(y)===-1&&l.push(y),a)}function wL(a,l,d,m,y){switch(l){case"focusin":return wa=Jl(wa,a,l,d,m,y),!0;case"dragenter":return Aa=Jl(Aa,a,l,d,m,y),!0;case"mouseover":return Sa=Jl(Sa,a,l,d,m,y),!0;case"pointerover":var x=y.pointerId;return Zl.set(x,Jl(Zl.get(x)||null,a,l,d,m,y)),!0;case"gotpointercapture":return x=y.pointerId,Ql.set(x,Jl(Ql.get(x)||null,a,l,d,m,y)),!0}return!1}function HS(a){var l=Ns(a.target);if(l!==null){var d=s(l);if(d!==null){if(l=d.tag,l===13){if(l=o(d),l!==null){a.blockedOn=l,nx(a.priority,function(){zS(d)});return}}else if(l===31){if(l=c(d),l!==null){a.blockedOn=l,nx(a.priority,function(){zS(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Nd(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var d=_g(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);Cp=m,d.target.dispatchEvent(m),Cp=null}else return l=js(d),l!==null&&BS(l),a.blockedOn=d,!1;l.shift()}return!0}function $S(a,l,d){Nd(a)&&d.delete(l)}function AL(){Tg=!1,wa!==null&&Nd(wa)&&(wa=null),Aa!==null&&Nd(Aa)&&(Aa=null),Sa!==null&&Nd(Sa)&&(Sa=null),Zl.forEach($S),Ql.forEach($S)}function jd(a,l){a.blockedOn===l&&(a.blockedOn=null,Tg||(Tg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,AL)))}var Ld=null;function qS(a){Ld!==a&&(Ld=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ld===a&&(Ld=null);for(var l=0;l<a.length;l+=3){var d=a[l],m=a[l+1],y=a[l+2];if(typeof m!="function"){if(Cg(m||d)===null)continue;break}var x=js(d);x!==null&&(a.splice(l,3),l-=3,_m(x,{pending:!0,data:y,method:d.method,action:m},m,y))}}))}function vo(a){function l(j){return jd(j,a)}wa!==null&&jd(wa,a),Aa!==null&&jd(Aa,a),Sa!==null&&jd(Sa,a),Zl.forEach(l),Ql.forEach(l);for(var d=0;d<Ea.length;d++){var m=Ea[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ea.length&&(d=Ea[0],d.blockedOn===null);)HS(d),d.blockedOn===null&&Ea.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var y=d[m],x=d[m+1],O=y[Tn]||null;if(typeof x=="function")O||qS(d);else if(O){var k=null;if(x&&x.hasAttribute("formAction")){if(y=x,O=x[Tn]||null)k=O.formAction;else if(Cg(y)!==null)continue}else k=O.action;typeof k=="function"?d[m+1]=k:(d.splice(m,3),m-=3),qS(d)}}}function GS(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(O){return y=O})},focusReset:"manual",scroll:"manual"})}function l(){y!==null&&(y(),y=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,y=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),y!==null&&(y(),y=null)}}}function Og(a){this._internalRoot=a}Id.prototype.render=Og.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(i(409));var d=l.current,m=Zn();LS(d,m,a,l,null,null)},Id.prototype.unmount=Og.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;LS(a.current,2,null,a,null,null),vd(),l[Rs]=null}};function Id(a){this._internalRoot=a}Id.prototype.unstable_scheduleHydration=function(a){if(a){var l=tx();a={blockedOn:null,target:a,priority:l};for(var d=0;d<Ea.length&&l!==0&&l<Ea[d].priority;d++);Ea.splice(d,0,a),d===0&&HS(a)}};var VS=e.version;if(VS!=="19.2.1")throw Error(i(527,VS,"19.2.1"));H.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(i(188)):(a=Object.keys(a).join(","),Error(i(268,a)));return a=h(l),a=a!==null?f(a):null,a=a===null?null:a.stateNode,a};var SL={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bd.isDisabled&&Bd.supportsFiber)try{ll=Bd.inject(SL),$n=Bd}catch{}}return tc.createRoot=function(a,l){if(!r(a))throw Error(i(299));var d=!1,m="",y=Jw,x=eA,O=tA;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(y=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(O=l.onRecoverableError)),l=NS(a,1,!1,null,null,d,m,null,y,x,O,GS),a[Rs]=l.current,cg(a),new Og(l)},tc.hydrateRoot=function(a,l,d){if(!r(a))throw Error(i(299));var m=!1,y="",x=Jw,O=eA,k=tA,j=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(x=d.onUncaughtError),d.onCaughtError!==void 0&&(O=d.onCaughtError),d.onRecoverableError!==void 0&&(k=d.onRecoverableError),d.formState!==void 0&&(j=d.formState)),l=NS(a,1,!0,l,d??null,m,y,j,x,O,k,GS),l.context=jS(null),d=l.current,m=Zn(),m=yp(m),y=ca(m),y.callback=null,ua(d,y,m),d=m,l.current.lanes=d,ul(l,d),Yi(l),a[Rs]=l.current,cg(a),new Id(l)},tc.version="19.2.1",tc}var rE;function NL(){if(rE)return kg.exports;rE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kg.exports=RL(),kg.exports}var jL=NL();var aE="popstate";function LL(n={}){function e(r,s){let{pathname:o="/",search:c="",hash:u=""}=Cs(r.location.hash.substring(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Ty("",{pathname:o,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let o=r.document.querySelector("base"),c="";if(o&&o.getAttribute("href")){let u=r.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof s=="string"?s:Ec(s))}function i(r,s){Ei(r.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return BL(e,t,i,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ei(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IL(){return Math.random().toString(36).substring(2,10)}function sE(n,e){return{usr:n.state,key:n.key,idx:e}}function Ty(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Cs(e):e,state:t,key:e&&e.key||i||IL()}}function Ec({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Cs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function BL(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,c="POP",u=null,h=f();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function f(){return(o.state||{idx:null}).idx}function p(){c="POP";let A=f(),S=A==null?null:A-h;h=A,u&&u({action:c,location:b.location,delta:S})}function g(A,S){c="PUSH";let M=Ty(b.location,A,S);t&&t(M,A),h=f()+1;let _=sE(M,h),D=b.createHref(M);try{o.pushState(_,"",D)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(D)}s&&u&&u({action:c,location:b.location,delta:1})}function v(A,S){c="REPLACE";let M=Ty(b.location,A,S);t&&t(M,A),h=f();let _=sE(M,h),D=b.createHref(M);o.replaceState(_,"",D),s&&u&&u({action:c,location:b.location,delta:0})}function w(A){return zL(A)}let b={get action(){return c},get location(){return n(r,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(aE,p),u=A,()=>{r.removeEventListener(aE,p),u=null}},createHref(A){return e(r,A)},createURL:w,encodeLocation(A){let S=w(A);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(A){return o.go(A)}};return b}function zL(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Ec(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function r2(n,e,t="/"){return FL(n,e,t,!1)}function FL(n,e,t,i){let r=typeof e=="string"?Cs(e):e,s=Ir(r.pathname||"/",t);if(s==null)return null;let o=a2(n);UL(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=QL(s);c=KL(o[u],h,i)}return c}function a2(n,e=[],t=[],i="",r=!1){let s=(o,c,u=r,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(i)&&u)return;gt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length)}let p=Nr([i,f.relativePath]),g=t.concat(f);o.children&&o.children.length>0&&(gt(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),a2(o.children,e,g,p,u)),!(o.path==null&&!o.index)&&e.push({path:p,score:XL(p,o.index),routesMeta:g})};return n.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))s(o,c);else for(let u of s2(o.path))s(o,c,!0,u)}),e}function s2(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=s2(i.join("/")),c=[];return c.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&c.push(...o),c.map(u=>n.startsWith("/")&&u===""?"/":u)}function UL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WL(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var HL=/^:[\w-]+$/,$L=3,qL=2,GL=1,VL=10,YL=-2,oE=n=>n==="*";function XL(n,e){let t=n.split("/"),i=t.length;return t.some(oE)&&(i+=YL),e&&(i+=qL),t.filter(r=>!oE(r)).reduce((r,s)=>r+(HL.test(s)?$L:s===""?GL:VL),i)}function WL(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function KL(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let c=0;c<i.length;++c){let u=i[c],h=c===i.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=Eh({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!p&&h&&t&&!i[i.length-1].route.index&&(p=Eh({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(r,p.params),o.push({params:r,pathname:Nr([s,p.pathname]),pathnameBase:iI(Nr([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Nr([s,p.pathnameBase]))}return o}function Eh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=ZL(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),c=r.slice(1);return{params:i.reduce((h,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=c[g]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const v=c[g];return p&&!v?h[f]=void 0:h[f]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:o,pattern:n}}function ZL(n,e=!1,t=!0){Ei(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(i.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function QL(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ei(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ir(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var JL=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eI=n=>JL.test(n);function tI(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?Cs(n):n,s;if(t)if(eI(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Ei(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=lE(t.substring(1),"/"):s=lE(t,e)}else s=e;return{pathname:s,search:rI(i),hash:aI(r)}}function lE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Lg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nI(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function o2(n){let e=nI(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function l2(n,e,t,i=!1){let r;typeof n=="string"?r=Cs(n):(r={...n},gt(!r.pathname||!r.pathname.includes("?"),Lg("?","pathname","search",r)),gt(!r.pathname||!r.pathname.includes("#"),Lg("#","pathname","hash",r)),gt(!r.search||!r.search.includes("#"),Lg("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,c;if(o==null)c=t;else{let p=e.length-1;if(!i&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;r.pathname=g.join("/")}c=p>=0?e[p]:"/"}let u=tI(r,c),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var Nr=n=>n.join("/").replace(/\/\/+/g,"/"),iI=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rI=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,aI=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sI(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function oI(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var c2=["POST","PUT","PATCH","DELETE"];new Set(c2);var lI=["GET",...c2];new Set(lI);var Qo=C.createContext(null);Qo.displayName="DataRouter";var wf=C.createContext(null);wf.displayName="DataRouterState";C.createContext(!1);var u2=C.createContext({isTransitioning:!1});u2.displayName="ViewTransition";var cI=C.createContext(new Map);cI.displayName="Fetchers";var uI=C.createContext(null);uI.displayName="Await";var Hi=C.createContext(null);Hi.displayName="Navigation";var qc=C.createContext(null);qc.displayName="Location";var sr=C.createContext({outlet:null,matches:[],isDataRoute:!1});sr.displayName="Route";var $b=C.createContext(null);$b.displayName="RouteError";function dI(n,{relative:e}={}){gt(Gc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=C.useContext(Hi),{hash:r,pathname:s,search:o}=Vc(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:Nr([t,s])),i.createHref({pathname:c,search:o,hash:r})}function Gc(){return C.useContext(qc)!=null}function La(){return gt(Gc(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(qc).location}var d2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function h2(n){C.useContext(Hi).static||C.useLayoutEffect(n)}function qb(){let{isDataRoute:n}=C.useContext(sr);return n?_I():hI()}function hI(){gt(Gc(),"useNavigate() may be used only in the context of a <Router> component.");let n=C.useContext(Qo),{basename:e,navigator:t}=C.useContext(Hi),{matches:i}=C.useContext(sr),{pathname:r}=La(),s=JSON.stringify(o2(i)),o=C.useRef(!1);return h2(()=>{o.current=!0}),C.useCallback((u,h={})=>{if(Ei(o.current,d2),!o.current)return;if(typeof u=="number"){t.go(u);return}let f=l2(u,JSON.parse(s),r,h.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Nr([e,f.pathname])),(h.replace?t.replace:t.push)(f,h.state,h)},[e,t,s,r,n])}C.createContext(null);function fI(){let{matches:n}=C.useContext(sr),e=n[n.length-1];return e?e.params:{}}function Vc(n,{relative:e}={}){let{matches:t}=C.useContext(sr),{pathname:i}=La(),r=JSON.stringify(o2(t));return C.useMemo(()=>l2(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function pI(n,e){return f2(n,e)}function f2(n,e,t,i,r){gt(Gc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(Hi),{matches:o}=C.useContext(sr),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",p=c&&c.route;{let M=p&&p.path||"";p2(h,!p||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let g=La(),v;if(e){let M=typeof e=="string"?Cs(e):e;gt(f==="/"||M.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=g;let w=v.pathname||"/",b=w;if(f!=="/"){let M=f.replace(/^\//,"").split("/");b="/"+w.replace(/^\//,"").split("/").slice(M.length).join("/")}let A=r2(n,{pathname:b});Ei(p||A!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ei(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=bI(A&&A.map(M=>Object.assign({},M,{params:Object.assign({},u,M.params),pathname:Nr([f,s.encodeLocation?s.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?f:Nr([f,s.encodeLocation?s.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),o,t,i,r);return e&&S?C.createElement(qc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function mI(){let n=EI(),e=sI(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),t?C.createElement("pre",{style:r},t):null,o)}var gI=C.createElement(mI,null),vI=class extends C.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?C.createElement(sr.Provider,{value:this.props.routeContext},C.createElement($b.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function yI({routeContext:n,match:e,children:t}){let i=C.useContext(Qo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),C.createElement(sr.Provider,{value:n},t)}function bI(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t?.errors;if(o!=null){let f=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);gt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(t)for(let f=0;f<s.length;f++){let p=s[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:v}=t,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||w){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let h=t&&i?(f,p)=>{i(f,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:oI(t.matches),errorInfo:p})}:void 0;return s.reduceRight((f,p,g)=>{let v,w=!1,b=null,A=null;t&&(v=o&&p.route.id?o[p.route.id]:void 0,b=p.route.errorElement||gI,c&&(u<0&&g===0?(p2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):u===g&&(w=!0,A=p.route.hydrateFallbackElement||null)));let S=e.concat(s.slice(0,g+1)),M=()=>{let _;return v?_=b:w?_=A:p.route.Component?_=C.createElement(p.route.Component,null):p.route.element?_=p.route.element:_=f,C.createElement(yI,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:_})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?C.createElement(vI,{location:t.location,revalidation:t.revalidation,component:b,error:v,children:M(),routeContext:{outlet:null,matches:S,isDataRoute:!0},onError:h}):M()},null)}function Gb(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xI(n){let e=C.useContext(Qo);return gt(e,Gb(n)),e}function wI(n){let e=C.useContext(wf);return gt(e,Gb(n)),e}function AI(n){let e=C.useContext(sr);return gt(e,Gb(n)),e}function Vb(n){let e=AI(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function SI(){return Vb("useRouteId")}function EI(){let n=C.useContext($b),e=wI("useRouteError"),t=Vb("useRouteError");return n!==void 0?n:e.errors?.[t]}function _I(){let{router:n}=xI("useNavigate"),e=Vb("useNavigate"),t=C.useRef(!1);return h2(()=>{t.current=!0}),C.useCallback(async(r,s={})=>{Ei(t.current,d2),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var cE={};function p2(n,e,t){!e&&!cE[n]&&(cE[n]=!0,Ei(!1,t))}C.memo(CI);function CI({routes:n,future:e,state:t,unstable_onError:i}){return f2(n,void 0,t,i,e)}function Ca(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:o}){gt(!Gc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:c,navigator:r,static:s,unstable_useTransitions:o,future:{}}),[c,r,s,o]);typeof t=="string"&&(t=Cs(t));let{pathname:h="/",search:f="",hash:p="",state:g=null,key:v="default"}=t,w=C.useMemo(()=>{let b=Ir(h,c);return b==null?null:{location:{pathname:b,search:f,hash:p,state:g,key:v},navigationType:i}},[c,h,f,p,g,v,i]);return Ei(w!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:C.createElement(Hi.Provider,{value:u},C.createElement(qc.Provider,{children:e,value:w}))}function OI({children:n,location:e}){return pI(Oy(n),e)}function Oy(n,e=[]){let t=[];return C.Children.forEach(n,(i,r)=>{if(!C.isValidElement(i))return;let s=[...e,r];if(i.type===C.Fragment){t.push.apply(t,Oy(i.props.children,s));return}gt(i.type===Ca,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Oy(i.props.children,s)),t.push(o)}),t}var hh="get",fh="application/x-www-form-urlencoded";function Af(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function MI(n){return Af(n)&&n.tagName.toLowerCase()==="button"}function PI(n){return Af(n)&&n.tagName.toLowerCase()==="form"}function DI(n){return Af(n)&&n.tagName.toLowerCase()==="input"}function kI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function RI(n,e){return n.button===0&&(!e||e==="_self")&&!kI(n)}var zd=null;function NI(){if(zd===null)try{new FormData(document.createElement("form"),0),zd=!1}catch{zd=!0}return zd}var jI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ig(n){return n!=null&&!jI.has(n)?(Ei(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):n}function LI(n,e){let t,i,r,s,o;if(PI(n)){let c=n.getAttribute("action");i=c?Ir(c,e):null,t=n.getAttribute("method")||hh,r=Ig(n.getAttribute("enctype"))||fh,s=new FormData(n)}else if(MI(n)||DI(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||c.getAttribute("action");if(i=u?Ir(u,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||hh,r=Ig(n.getAttribute("formenctype"))||Ig(c.getAttribute("enctype"))||fh,s=new FormData(c,n),!NI()){let{name:h,type:f,value:p}=n;if(f==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,p)}}else{if(Af(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hh,i=null,r=fh,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Yb(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function II(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Ir(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function BI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function FI(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await BI(s,t);return o.links?o.links():[]}return[]}));return qI(i.flat(1).filter(zI).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function uE(n,e,t,i,r,s){let o=(u,h)=>t[h]?u.route.id!==t[h].route.id:!0,c=(u,h)=>t[h].pathname!==u.pathname||t[h].route.path?.endsWith("*")&&t[h].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,h)=>o(u,h)||c(u,h)):s==="data"?e.filter((u,h)=>{let f=i.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let p=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function UI(n,e,{includeHydrateFallback:t}={}){return HI(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function HI(n){return[...new Set(n)]}function $I(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function qI(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify($I(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function m2(){let n=C.useContext(Qo);return Yb(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function GI(){let n=C.useContext(wf);return Yb(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xb=C.createContext(void 0);Xb.displayName="FrameworkContext";function g2(){let n=C.useContext(Xb);return Yb(n,"You must render this element inside a <HydratedRouter> element"),n}function VI(n,e){let t=C.useContext(Xb),[i,r]=C.useState(!1),[s,o]=C.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:p}=e,g=C.useRef(null);C.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let b=S=>{S.forEach(M=>{o(M.isIntersecting)})},A=new IntersectionObserver(b,{threshold:.5});return g.current&&A.observe(g.current),()=>{A.disconnect()}}},[n]),C.useEffect(()=>{if(i){let b=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(b)}}},[i]);let v=()=>{r(!0)},w=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,g,{}]:[s,g,{onFocus:nc(c,v),onBlur:nc(u,w),onMouseEnter:nc(h,v),onMouseLeave:nc(f,w),onTouchStart:nc(p,v)}]:[!1,g,{}]}function nc(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function YI({page:n,...e}){let{router:t}=m2(),i=C.useMemo(()=>r2(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?C.createElement(WI,{page:n,matches:i,...e}):null}function XI(n){let{manifest:e,routeModules:t}=g2(),[i,r]=C.useState([]);return C.useEffect(()=>{let s=!1;return FI(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function WI({page:n,matches:e,...t}){let i=La(),{manifest:r,routeModules:s}=g2(),{basename:o}=m2(),{loaderData:c,matches:u}=GI(),h=C.useMemo(()=>uE(n,e,u,r,i,"data"),[n,e,u,r,i]),f=C.useMemo(()=>uE(n,e,u,r,i,"assets"),[n,e,u,r,i]),p=C.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let w=new Set,b=!1;if(e.forEach(S=>{let M=r.routes[S.route.id];!M||!M.hasLoader||(!h.some(_=>_.route.id===S.route.id)&&S.route.id in c&&s[S.route.id]?.shouldRevalidate||M.hasClientLoader?b=!0:w.add(S.route.id))}),w.size===0)return[];let A=II(n,o,"data");return b&&w.size>0&&A.searchParams.set("_routes",e.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[A.pathname+A.search]},[o,c,i,r,h,e,n,s]),g=C.useMemo(()=>UI(f,r),[f,r]),v=XI(f);return C.createElement(C.Fragment,null,p.map(w=>C.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),g.map(w=>C.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),v.map(({key:w,link:b})=>C.createElement("link",{key:w,nonce:t.nonce,...b})))}function KI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var v2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{v2&&(window.__reactRouterVersion="7.10.1")}catch{}function ZI({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=C.useRef();r.current==null&&(r.current=LL({window:i,v5Compat:!0}));let s=r.current,[o,c]=C.useState({action:s.action,location:s.location}),u=C.useCallback(h=>{t===!1?c(h):C.startTransition(()=>c(h))},[t]);return C.useLayoutEffect(()=>s.listen(u),[s,u]),C.createElement(TI,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:t===!0})}var y2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ai=C.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:c,target:u,to:h,preventScrollReset:f,viewTransition:p,...g},v){let{basename:w,unstable_useTransitions:b}=C.useContext(Hi),A=typeof h=="string"&&y2.test(h),S,M=!1;if(typeof h=="string"&&A&&(S=h,v2))try{let W=new URL(window.location.href),U=h.startsWith("//")?new URL(W.protocol+h):new URL(h),K=Ir(U.pathname,w);U.origin===W.origin&&K!=null?h=K+U.search+U.hash:M=!0}catch{Ei(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=dI(h,{relative:r}),[D,T,P]=VI(i,g),R=eB(h,{replace:o,state:c,target:u,preventScrollReset:f,relative:r,viewTransition:p,unstable_useTransitions:b});function N(W){e&&e(W),W.defaultPrevented||R(W)}let I=C.createElement("a",{...g,...P,href:S||_,onClick:M||s?e:N,ref:KI(v,T),target:u,"data-discover":!A&&t==="render"?"true":void 0});return D&&!A?C.createElement(C.Fragment,null,I,C.createElement(YI,{page:_})):I});Ai.displayName="Link";var as=C.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:c,children:u,...h},f){let p=Vc(o,{relative:h.relative}),g=La(),v=C.useContext(wf),{navigator:w,basename:b}=C.useContext(Hi),A=v!=null&&aB(p)&&c===!0,S=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,M=g.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(M=M.toLowerCase(),_=_?_.toLowerCase():null,S=S.toLowerCase()),_&&b&&(_=Ir(_,b)||_);const D=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let T=M===S||!r&&M.startsWith(S)&&M.charAt(D)==="/",P=_!=null&&(_===S||!r&&_.startsWith(S)&&_.charAt(S.length)==="/"),R={isActive:T,isPending:P,isTransitioning:A},N=T?e:void 0,I;typeof i=="function"?I=i(R):I=[i,T?"active":null,P?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let W=typeof s=="function"?s(R):s;return C.createElement(Ai,{...h,"aria-current":N,className:I,ref:f,style:W,to:o,viewTransition:c},typeof u=="function"?u(R):u)});as.displayName="NavLink";var QI=C.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=hh,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:p,...g},v)=>{let{unstable_useTransitions:w}=C.useContext(Hi),b=iB(),A=rB(c,{relative:h}),S=o.toLowerCase()==="get"?"get":"post",M=typeof c=="string"&&y2.test(c),_=D=>{if(u&&u(D),D.defaultPrevented)return;D.preventDefault();let T=D.nativeEvent.submitter,P=T?.getAttribute("formmethod")||o,R=()=>b(T||D.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:r,state:s,relative:h,preventScrollReset:f,viewTransition:p});w&&t!==!1?C.startTransition(()=>R()):R()};return C.createElement("form",{ref:v,method:S,action:A,onSubmit:i?u:_,...g,"data-discover":!M&&n==="render"?"true":void 0})});QI.displayName="Form";function JI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function b2(n){let e=C.useContext(Qo);return gt(e,JI(n)),e}function eB(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o,unstable_useTransitions:c}={}){let u=qb(),h=La(),f=Vc(n,{relative:s});return C.useCallback(p=>{if(RI(p,e)){p.preventDefault();let g=t!==void 0?t:Ec(h)===Ec(f),v=()=>u(n,{replace:g,state:i,preventScrollReset:r,relative:s,viewTransition:o});c?C.startTransition(()=>v()):v()}},[h,u,f,t,i,e,n,r,s,o,c])}var tB=0,nB=()=>`__${String(++tB)}__`;function iB(){let{router:n}=b2("useSubmit"),{basename:e}=C.useContext(Hi),t=SI(),i=n.fetch,r=n.navigate;return C.useCallback(async(s,o={})=>{let{action:c,method:u,encType:h,formData:f,body:p}=LI(s,e);if(o.navigate===!1){let g=o.fetcherKey||nB();await i(g,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await r(o.action||c,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,r,e,t])}function rB(n,{relative:e}={}){let{basename:t}=C.useContext(Hi),i=C.useContext(sr);gt(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={...Vc(n||".",{relative:e})},o=La();if(n==null){s.search=o.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(p=>p).forEach(p=>c.append("index",p));let f=c.toString();s.search=f?`?${f}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:Nr([t,s.pathname])),Ec(s)}function aB(n,{relative:e}={}){let t=C.useContext(u2);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=b2("useViewTransitionState"),r=Vc(n,{relative:e});if(!t.isTransitioning)return!1;let s=Ir(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=Ir(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Eh(r.pathname,o)!=null||Eh(r.pathname,s)!=null}var x2=i2();const sB=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oB=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),dE=n=>{const e=oB(n);return e.charAt(0).toUpperCase()+e.slice(1)},w2=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),lB=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var cB={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const uB=C.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:o,...c},u)=>C.createElement("svg",{ref:u,...cB,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:w2("lucide",r),...!s&&!lB(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,f])=>C.createElement(h,f)),...Array.isArray(s)?s:[s]]));const ze=(n,e)=>{const t=C.forwardRef(({className:i,...r},s)=>C.createElement(uB,{ref:s,iconNode:e,className:w2(`lucide-${sB(dE(n))}`,`lucide-${n}`,i),...r}));return t.displayName=dE(n),t};const dB=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hB=ze("activity",dB);const fB=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pB=ze("arrow-left",fB);const mB=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],gB=ze("award",mB);const vB=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Wb=ze("calendar",vB);const yB=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bB=ze("check",yB);const xB=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Kb=ze("chevron-down",xB);const wB=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],My=ze("chevron-right",wB);const AB=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],A2=ze("chevron-up",AB);const SB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ph=ze("circle-alert",SB);const EB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],mh=ze("circle-check-big",EB);const _B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],yo=ze("circle-x",_B);const CB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],TB=ze("file-search",CB);const OB=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],MB=ze("file-text",OB);const PB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],DB=ze("globe",PB);const kB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],RB=ze("info",kB);const NB=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],jB=ze("layers",NB);const LB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],IB=ze("layout-dashboard",LB);const BB=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],zB=ze("loader",BB);const FB=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],UB=ze("medal",FB);const HB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],$B=ze("menu",HB);const qB=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],GB=ze("moon",qB);const VB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],YB=ze("plus",VB);const XB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],WB=ze("rotate-ccw",XB);const KB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ZB=ze("save",KB);const QB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],S2=ze("search",QB);const JB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],e3=ze("settings",JB);const t3=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],n3=ze("sun",t3);const i3=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],r3=ze("timer",i3);const a3=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],s3=ze("trash-2",a3);const o3=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],l3=ze("trending-up",o3);const c3=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Zb=ze("trophy",c3);const u3=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],E2=ze("upload",u3);const d3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Qb=ze("users",d3);const h3=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],hE=ze("waves",h3);const f3=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],p3=ze("x",f3),fE=n=>{let e;const t=new Set,i=(h,f)=>{const p=typeof h=="function"?h(e):h;if(!Object.is(p,e)){const g=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(v=>v(e,g))}},r=()=>e,c={setState:i,getState:r,getInitialState:()=>u,subscribe:h=>(t.add(h),()=>t.delete(h))},u=e=n(i,r,c);return c},m3=(n=>n?fE(n):fE),g3=n=>n;function v3(n,e=g3){const t=gc.useSyncExternalStore(n.subscribe,gc.useCallback(()=>e(n.getState()),[n,e]),gc.useCallback(()=>e(n.getInitialState()),[n,e]));return gc.useDebugValue(t),t}const y3=n=>{const e=m3(n),t=i=>v3(e,i);return Object.assign(t,e),t},b3=(n=>y3);function x3(n,e){let t;try{t=n()}catch{return}return{getItem:r=>{var s;const o=u=>u===null?null:JSON.parse(u,void 0),c=(s=t.getItem(r))!=null?s:null;return c instanceof Promise?c.then(o):o(c)},setItem:(r,s)=>t.setItem(r,JSON.stringify(s,void 0)),removeItem:r=>t.removeItem(r)}}const Py=n=>e=>{try{const t=n(e);return t instanceof Promise?t:{then(i){return Py(i)(t)},catch(i){return this}}}catch(t){return{then(i){return this},catch(i){return Py(i)(t)}}}},w3=(n,e)=>(t,i,r)=>{let s={storage:x3(()=>localStorage),partialize:b=>b,version:0,merge:(b,A)=>({...A,...b}),...e},o=!1;const c=new Set,u=new Set;let h=s.storage;if(!h)return n((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),t(...b)},i,r);const f=()=>{const b=s.partialize({...i()});return h.setItem(s.name,{state:b,version:s.version})},p=r.setState;r.setState=(b,A)=>(p(b,A),f());const g=n((...b)=>(t(...b),f()),i,r);r.getInitialState=()=>g;let v;const w=()=>{var b,A;if(!h)return;o=!1,c.forEach(M=>{var _;return M((_=i())!=null?_:g)});const S=((A=s.onRehydrateStorage)==null?void 0:A.call(s,(b=i())!=null?b:g))||void 0;return Py(h.getItem.bind(h))(s.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==s.version){if(s.migrate){const _=s.migrate(M.state,M.version);return _ instanceof Promise?_.then(D=>[!0,D]):[!0,_]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var _;const[D,T]=M;if(v=s.merge(T,(_=i())!=null?_:g),t(v,!0),D)return f()}).then(()=>{S?.(v,void 0),v=i(),o=!0,u.forEach(M=>M(v))}).catch(M=>{S?.(void 0,M)})};return r.persist={setOptions:b=>{s={...s,...b},b.storage&&(h=b.storage)},clearStorage:()=>{h?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:b=>(c.add(b),()=>{c.delete(b)}),onFinishHydration:b=>(u.add(b),()=>{u.delete(b)})},s.skipHydration||w(),v||g},A3=w3,pE=[{id:"u14",name:"u14",displayName:"U14 (Infantil)",minAge:13,maxAge:14,birthYearStart:2012,birthYearEnd:2011},{id:"junior",name:"junior",displayName:"Junior (15-17)",minAge:15,maxAge:17,birthYearStart:2010,birthYearEnd:2008},{id:"open",name:"open",displayName:"Open (Absoluto)",minAge:null,maxAge:null,birthYearStart:null,birthYearEnd:null}],mE=[{categoryId:"u14",canScoreIn:["u14","open"]},{categoryId:"junior",canScoreIn:["junior","open"]},{categoryId:"open",canScoreIn:["open"]}],Bg=[19,16,14,13,12,11,10,9,8,7,6,5,4,3,2,1],zg=[38,32,28,26,24,22,20,18,16,14,12,10,8,6,4,2],_2={"clm-regional-2026":{id:"clm-regional-2026",name:"CLM Regional 2026",description:"Castilla-La Mancha Regional Championship 2025/26 rules. Three categories (U14, Junior, Open) with 19,16,14... scoring.",individualPoints:Bg,relayPoints:zg,specialRelayPoints:{"4x200":[7,6,5,4,3,2,1]},maxSwimmersPerClubPerEvent:2,redistributeExcessPoints:!0,categories:pE,categoryScoring:mE,bonusPoints:{enabled:!0,regionalBest:5,championshipRecord:10,absoluteRegional:15,nationalBest:25}},"open-scoring":{id:"open-scoring",name:"Open Scoring",description:"No categories, no age restrictions, just positions",individualPoints:Bg,relayPoints:zg,maxSwimmersPerClubPerEvent:2,redistributeExcessPoints:!0,categories:[{id:"open",name:"open",displayName:"Open",minAge:null,maxAge:null,birthYearStart:null,birthYearEnd:null}],categoryScoring:[{categoryId:"open",canScoreIn:["open"]}],bonusPoints:{enabled:!1,regionalBest:0,championshipRecord:0,absoluteRegional:0,nationalBest:0}},"no-club-limits":{id:"no-club-limits",name:"No Club Limits",description:"All swimmers score regardless of club count",individualPoints:Bg,relayPoints:zg,maxSwimmersPerClubPerEvent:null,redistributeExcessPoints:!1,categories:pE,categoryScoring:mE,bonusPoints:{enabled:!0,regionalBest:5,championshipRecord:10,absoluteRegional:15,nationalBest:25}}},gE=_2["clm-regional-2026"];function S3(n,e,t){const i=e-n;for(const s of t)if(s.birthYearStart!==null&&s.birthYearEnd!==null&&n<=s.birthYearStart&&n>=s.birthYearEnd)return s;for(const s of t){const o=s.minAge===null||i>=s.minAge,c=s.maxAge===null||i<=s.maxAge;if(o&&c)return s}return t.find(s=>s.id==="open")||null}const C2="swimming-scorer-config";function E3(n){localStorage.setItem(C2,JSON.stringify(n))}function _3(){const n=localStorage.getItem(C2);if(n)try{return JSON.parse(n)}catch{return gE}return gE}const T2=/(\d{1,2}:\d{2}\.\d{2}|\d{2}\.\d{2})/,C3=/(\d{1,2}:\d{2}\.\d{2}|\d{2}\.\d{2})/g;function T3(n){const e=[],i=n.replace(/\r\n/g,`
`).replace(/\s+/g," ").trim().split(/(?=Prueba\s+\d+)/i);for(const r of i){if(!r.trim())continue;const s=r.match(/^Prueba\s+(\d+)\s+(Masc\.|Fem\.|Mixto)?,?\s*(.+?)(?=Listado|Clasificacin|$)/i);if(!s)continue;const o=parseInt(s[1]),c=s[2]||"",u=s[3].trim(),h=O3(u,c),f=M3(r),p=r.match(/Clasificacin\s*(AN)?\s*([\s\S]+?)(?=Prueba\s+\d+|$)/i);if(!p)continue;const g=p[2],v=h.isRelay?P3(g):D3(g);v.length>0&&e.push({eventNumber:o,eventName:`Prueba ${o} - ${h.distance}m ${h.stroke}`,...h,qualifyingTimes:f,entries:v})}return e}function O3(n,e){let t=0,i="freestyle",r="mixed",s="open",o=!1;e.toLowerCase().includes("masc")?r="male":e.toLowerCase().includes("fem")&&(r="female");const c=n.match(/(\d+)\s*x\s*(\d+)\s*m?/i);if(c)o=!0,t=parseInt(c[1])*parseInt(c[2]);else{const h=n.match(/(\d+)\s*m/i);h&&(t=parseInt(h[1]))}const u=n.toLowerCase();return u.includes("estilos")||u.includes("medley")?i="medley":u.includes("espalda")||u.includes("backstroke")?i="backstroke":u.includes("braza")||u.includes("breaststroke")?i="breaststroke":u.includes("mariposa")||u.includes("butterfly")?i="butterfly":(u.includes("libre")||u.includes("freestyle"))&&(i="freestyle"),u.includes("absoluto")||u.includes("senior")?s="senior":u.includes("junior")?s="junior":(u.includes("infantil")||u.includes("14"))&&(s="infantil"),r==="mixed"&&(u.includes("masculino")||u.includes("male")?r="male":(u.includes("femenino")||u.includes("female"))&&(r="female")),{distance:t,stroke:i,gender:r,category:s,isRelay:o}}function M3(n){const e={},t=n.match(/Absoluto Open:\s*([\d:.]+)/i);t&&(e.open=vE(t[1]));const i=[...n.matchAll(/(\d+)\s*(?:AOS|AO)(?:\s+\d+)?:\s*([\d:.]+)/gi)];if(i.length>0){e.byAge={};for(const r of i){const s=parseInt(r[1]),o=r[2],c=vE(o);c>0&&(e.byAge[s]=c)}}return e}function vE(n){const e=n.trim().split(":");if(e.length===2){const t=parseInt(e[0]),i=parseFloat(e[1]);return t*60+i}else if(e.length===1)return parseFloat(e[0]);return 0}function P3(n){const e=[];let t=n.replace(/Introducir conversin[^0-9]*/gi,"").replace(/ESP:Conversion Spanish Rules/gi,"").replace(/Comprometidos con la natacin[^0-9]*/gi,"").replace(/Splash Meet Manager[^0-9]*/gi,"").replace(/Registered to[^0-9]*/gi,"").replace(/\d{2}\/\d{2}\/\d{4}\s*-\s*\d{2}:\d{2}/g,"").replace(/Pgina\s*\d+/gi,"").trim();const i=/(\d{1,3})\s+(.+?)\s+(\d)\s+(.+?)\s+(\d{1,2}:\d{2}\.\d{2}|\d{2}\.\d{2})/g;let r;for(;(r=i.exec(t))!==null;){const s=parseInt(r[1]),o=r[4].trim(),c=parseInt(r[3]),u=r[5];o.match(T2)||o.length>50||e.push({position:s,clubName:o,teamNumber:c,time:u})}return e.sort((s,o)=>s.position-o.position)}function D3(n){const e=[];let t=n.replace(/Introducir conversin[^0-9]*/gi,"").replace(/ESP:Conversion Spanish Rules/gi,"").replace(/Comprometidos con la natacin[^0-9]*/gi,"").replace(/Splash Meet Manager[^0-9]*/gi,"").replace(/Registered to[^0-9]*/gi,"").replace(/Pgina\s*\d+/gi,"").replace(/\d+\s+AOS\s+\d+:\s*[\d:\.]+\s*\/?\s*/g,"").replace(/Absoluto Open:\s*[\d:\.]+/gi,"").trim();t=t.replace(/\b(r|rcto|mmi\s*\d*|mmj\s*\d*)\s+[\d:\.]+\s+[A-Z\s]+,\s*[A-Za-z]+[^0-9]+\d{2}\/\d{2}\/\d{4}/gi,"");const i="C\\.N\\.|C\\.D\\.|C\\.P\\.N\\.|E\\.C\\.|Club|C\\.N\\.S\\.",r=new RegExp(`(\\d{1,3})\\s+([A-Z][A-Z\\s\\-\\.]+,\\s*[A-Za-z\\s\\-\\.]+)\\s+(\\d{2})\\s+((?:${i})[^0-9]+?)\\s+(\\d{1,2}:\\d{2}\\.\\d{2}|\\d{2}\\.\\d{2})\\s*([SL])?\\s*(\\d{2}\\/\\d{2}\\/\\d{4})?`,"gi");let s;for(;(s=r.exec(t))!==null;){const u=parseInt(s[1]),h=s[2].trim();let f=parseInt(s[3]);f=f>50?1900+f:2e3+f;let p=s[4].trim();const g=s[5],v=s[6]||"S";p=p.replace(/\s+$/,"").trim(),!(p.length>40||p.match(T2))&&e.push({position:u,name:h,birthYear:f,clubName:p,time:g,courseType:v})}if(e.length===0){const u=[...t.matchAll(C3)];for(const h of u){const f=h[1],p=h.index,g=Math.max(0,p-200),v=t.substring(g,p).trim(),w=[...v.matchAll(/(?:^|\s)(\d{1,3})\s+([A-Z])/g)];if(w.length===0)continue;const b=w[w.length-1],A=v.lastIndexOf(b[0]),S=v.substring(A).trim(),M=/^(\d{1,3})\s+([A-Z][^,]+,\s*[A-Za-z]+)\s+(\d{2})\s+(.+)$/i,_=S.match(M);if(_){let D=parseInt(_[3]);D=D>50?1900+D:2e3+D,e.push({position:parseInt(_[1]),name:_[2].trim(),birthYear:D,clubName:_[4].trim(),time:f,courseType:"S"})}}}const o=new Set;return e.filter(u=>o.has(u.position)?!1:(o.add(u.position),!0)).sort((u,h)=>u.position-h.position)}function k3(n){const e=n.split(":");if(e.length===2){const t=parseInt(e[0]),i=parseFloat(e[1]);return t*60+i}else return parseFloat(n)}function yE(n){const e=Math.floor(n/60),t=(n%60).toFixed(2);return e>0?`${e}:${t.padStart(5,"0")}`:t}function bE(n,e,t=new Date().getFullYear()){const i=n.events.map(r=>R3(r,e,t));return{...n,events:i}}function R3(n,e,t){const i=[...n.results];let r;if(n.isRelay){const p=`${n.relaySize||4}x${n.distance/(n.relaySize||4)}`;r=e.specialRelayPoints?.[p]||e.relayPoints}else r=e.individualPoints;let s=1;const o=i.map((p,g)=>{g>0&&Math.abs(p.timeInSeconds-i[g-1].timeInSeconds)>.005&&(s=g+1);let v;return p.swimmer&&!n.isRelay&&(v=S3(p.swimmer.birthYear,t,e.categories)?.id),{...p,position:s,swimmerCategory:v}}),c=new Map,u=new Set(e.categories.map(p=>p.id)),h=[];let f=0;for(const p of o){if(p.disqualified){h.push({...p,points:0,openPoints:0,categoryPoints:0,bonusPoints:0,scoringEligible:!1,openEligible:!1,categoryEligible:!1});continue}let g=!0,v="ok";if(n.qualifyingTimes?.open&&p.timeInSeconds>n.qualifyingTimes.open){let b=!1;if(p.swimmer&&p.swimmer.birthYear){const A=t-p.swimmer.birthYear;(A===19||A===20)&&n.qualifyingTimes.byAge?.[A]&&p.timeInSeconds<=n.qualifyingTimes.byAge[A]&&(b=!0)}b||(g=!1,v="time_limit")}if(g){const b=`${p.club.id}-${n.gender}`;if(e.maxSwimmersPerClubPerEvent!==null){const A=c.get(b)||0;A>=e.maxSwimmersPerClubPerEvent?(g=!1,v="club_limit"):c.set(b,A+1)}}let w=0;g&&f<r.length&&(w=r[f],f++),h.push({...p,points:w,openPoints:w,categoryPoints:0,bonusPoints:0,scoringEligible:g,openEligible:g,openStatusReason:v,categoryEligible:!1})}for(const p of u){if(p==="open")continue;const g=h.filter(b=>b.swimmerCategory===p),v=new Map;let w=0;for(const b of g){if(b.disqualified)continue;let A=!0,S="ok";if(b.swimmer&&b.swimmer.birthYear&&n.qualifyingTimes?.byAge){const M=t-b.swimmer.birthYear,_=n.qualifyingTimes.byAge[M];_&&b.timeInSeconds>_&&(A=!1,S="time_limit")}if(A){const M=`${b.club.id}-${n.gender}`;if(e.maxSwimmersPerClubPerEvent!==null){const _=v.get(M)||0;_>=e.maxSwimmersPerClubPerEvent?(A=!1,S="club_limit"):v.set(M,_+1)}}b.categoryStatusReason=S,A&&w<r.length&&(b.categoryPoints=r[w],b.categoryEligible=!0,w++)}}return{...n,results:h}}function xE(n){const e=new Map;for(const i of n.events)for(const r of i.results){const s=r.club.id;e.has(s)||e.set(s,{club:r.club,totalPoints:0,individualPoints:0,relayPoints:0,bonusPoints:0,goldMedals:0,silverMedals:0,bronzeMedals:0,swimmerCount:0,eventCount:0});const o=e.get(s);let c=0,u=!1;if(r.openEligible&&r.openPoints>0){c+=r.openPoints,u=!0;const h=i.results.filter(f=>f.openEligible).findIndex(f=>f===r)+1;h===1?o.goldMedals++:h===2?o.silverMedals++:h===3&&o.bronzeMedals++}r.categoryEligible&&r.categoryPoints>0&&(c+=r.categoryPoints,u=!0),(r.openEligible||r.categoryEligible)&&r.bonusPoints>0&&(c+=r.bonusPoints,o.bonusPoints+=r.bonusPoints),(c>0||u)&&(o.totalPoints+=c,i.isRelay?o.relayPoints+=c:o.individualPoints+=c,o.eventCount++)}const t=new Map;for(const i of n.events)if(!i.isRelay)for(const r of i.results)r.swimmer&&(t.has(r.club.id)||t.set(r.club.id,new Set),t.get(r.club.id).add(r.swimmer.id));for(const[i,r]of t)e.has(i)&&(e.get(i).swimmerCount=r.size);return Array.from(e.values()).sort((i,r)=>r.totalPoints-i.totalPoints)}function wE(n){const e=new Map;for(const t of n.events)if(!t.isRelay)for(const i of t.results){if(!i.swimmer)continue;const r=i.swimmer.id;e.has(r)||e.set(r,{swimmer:i.swimmer,club:i.club,category:i.swimmerCategory,totalPoints:0,openPoints:0,categoryPoints:0,bonusPoints:0,goldMedals:0,silverMedals:0,bronzeMedals:0,eventCount:0,averagePosition:0,events:[]});const s=e.get(r);!s.category&&i.swimmerCategory&&(s.category=i.swimmerCategory),s.totalPoints+=i.openPoints+i.categoryPoints+i.bonusPoints,s.openPoints+=i.openPoints,s.categoryPoints+=i.categoryPoints,s.bonusPoints+=i.bonusPoints,s.eventCount++,s.events.push({eventId:t.id,eventName:`${t.distance}m ${t.stroke}`,position:i.position,points:i.openPoints+i.categoryPoints,time:i.time}),(i.openEligible||i.categoryEligible)&&(i.position===1?s.goldMedals++:i.position===2?s.silverMedals++:i.position===3&&s.bronzeMedals++)}for(const t of e.values())if(t.eventCount>0){const i=t.events.reduce((r,s)=>r+s.position,0);t.averagePosition=i/t.eventCount}return Array.from(e.values()).sort((t,i)=>i.totalPoints-t.totalPoints)}function N3(n,e){const t=new Map,i=new Map,r=[];for(const s of n){const o=[];for(const c of s.entries){const u=c.clubName.toLowerCase().replace(/\s+/g,"-");t.has(u)||t.set(u,{id:u,name:c.clubName,shortName:c.clubName.split(" ").slice(0,4).join(" ")});let h;if(c.name&&!s.isRelay){const f=`${c.name.toLowerCase().replace(/\s+/g,"-")}-${c.birthYear||0}`;if(!i.has(f)){const p=c.name.split(",");i.set(f,{id:f,name:c.name,lastName:p[0]?.trim()||"",firstName:p[1]?.trim()||"",birthYear:c.birthYear||e-20,gender:s.gender==="male"?"male":"female",clubId:u})}h=i.get(f)}o.push({position:c.position,originalPosition:c.position,swimmer:h,relayTeamNumber:c.teamNumber,club:t.get(u),time:c.time,timeInSeconds:k3(c.time),points:0,openPoints:0,categoryPoints:0,bonusPoints:0,scoringEligible:!0,openEligible:!0,categoryEligible:!0,disqualified:!1,courseType:c.courseType||"S"})}for(let c=o.length-2;c>=0;c--){const u=o[c],h=o[c+1];u.timeInSeconds>h.timeInSeconds&&(u.timeInSeconds=h.timeInSeconds-.01)}r.push({id:`event-${s.eventNumber}`,number:s.eventNumber,distance:s.distance,stroke:s.stroke,gender:s.gender,category:s.category,isRelay:s.isRelay,relaySize:s.isRelay?4:void 0,qualifyingTimes:s.qualifyingTimes,results:o})}return{events:r,clubs:t,swimmers:i}}const bn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Dy=[.001,0,0,.001,0,0],Fg=1.35,Qn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},Ma={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},_c="pdfjs_internal_editor_",Te={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Ie={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},j3={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ky={TRIANGLES:1,LATTICE:2},sn={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},gh={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Rt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},So={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Sf={ERRORS:0,WARNINGS:1,INFOS:5},Cc={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},ic={moveTo:0,lineTo:1,curveTo:2,quadraticCurveTo:3,closePath:4},L3={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let Ef=Sf.WARNINGS;function I3(n){Number.isInteger(n)&&(Ef=n)}function B3(){return Ef}function _f(n){Ef>=Sf.INFOS&&console.info(`Info: ${n}`)}function _e(n){Ef>=Sf.WARNINGS&&console.warn(`Warning: ${n}`)}function nt(n){throw new Error(n)}function Be(n,e){n||nt(e)}function z3(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function O2(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=q3(n)}catch{}const i=e?URL.parse(n,e):URL.parse(n);return z3(i)?i:null}function M2(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&O2(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Ce(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Ts=(function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e})();class AE extends Ts{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Ug extends Ts{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ry extends Ts{constructor(e){super(e,"InvalidPDFException")}}class _h extends Ts{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class F3 extends Ts{constructor(e){super(e,"FormatError")}}class Ra extends Ts{constructor(e){super(e,"AbortException")}}function P2(n){(typeof n!="object"||n?.length===void 0)&&nt("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Yc(n){typeof n!="string"&&nt("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function U3(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function H3(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function $3(){try{return new Function(""),!0}catch{return!1}}class hn{static get isLittleEndian(){return Ce(this,"isLittleEndian",H3())}static get isEvalSupported(){return Ce(this,"isEvalSupported",$3())}static get isOffscreenCanvasSupported(){return Ce(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ce(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get isFloat16ArraySupported(){return Ce(this,"isFloat16ArraySupported",typeof Float16Array<"u")}static get isSanitizerSupported(){return Ce(this,"isSanitizerSupported",typeof Sanitizer<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Ce(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Ce(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const Hg=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));class fe{static makeHexColor(e,t,i){return`#${Hg[e]}${Hg[t]}${Hg[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],o=t[2],c=t[3],u=t[4],h=t[5];for(let f=0;f<6;f+=2){const p=e[i+f],g=e[i+f+1];e[i+f]=p*r+g*o+u,e[i+f+1]=p*s+g*c+h}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],o=t[2],c=t[3],u=t[4],h=t[5],f=e[0],p=e[1],g=e[2],v=e[3];let w=r*f+u,b=w,A=r*g+u,S=A,M=c*p+h,_=M,D=c*v+h,T=D;if(s!==0||o!==0){const P=s*f,R=s*g,N=o*p,I=o*v;w+=N,S+=N,A+=I,b+=I,M+=P,T+=P,D+=R,_+=R}i[0]=Math.min(i[0],w,A,b,S),i[1]=Math.min(i[1],M,D,_,T),i[2]=Math.max(i[2],w,A,b,S),i[3]=Math.max(i[3],M,D,_,T)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],o=e[3],c=i**2+r**2,u=i*s+r*o,h=s**2+o**2,f=(c+h)/2,p=Math.sqrt(f**2-(c*h-u**2));t[0]=Math.sqrt(f+p||1),t[1]=Math.sqrt(f-p||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static#e(e,t,i,r,s,o,c,u,h,f){if(h<=0||h>=1)return;const p=1-h,g=h*h,v=g*h,w=p*(p*(p*e+3*h*t)+3*g*i)+v*r,b=p*(p*(p*s+3*h*o)+3*g*c)+v*u;f[0]=Math.min(f[0],w),f[1]=Math.min(f[1],b),f[2]=Math.max(f[2],w),f[3]=Math.max(f[3],b)}static#t(e,t,i,r,s,o,c,u,h,f,p,g){if(Math.abs(h)<1e-12){Math.abs(f)>=1e-12&&this.#e(e,t,i,r,s,o,c,u,-p/f,g);return}const v=f**2-4*p*h;if(v<0)return;const w=Math.sqrt(v),b=2*h;this.#e(e,t,i,r,s,o,c,u,(-f+w)/b,g),this.#e(e,t,i,r,s,o,c,u,(-f-w)/b,g)}static bezierBoundingBox(e,t,i,r,s,o,c,u,h){h[0]=Math.min(h[0],e,c),h[1]=Math.min(h[1],t,u),h[2]=Math.max(h[2],e,c),h[3]=Math.max(h[3],t,u),this.#t(e,i,s,c,t,r,o,u,3*(-e+3*(i-s)+c),6*(e-2*i+s),3*(i-e),h),this.#t(e,i,s,c,t,r,o,u,3*(-t+3*(r-o)+u),6*(t-2*r+o),3*(r-t),h)}}function q3(n){return decodeURIComponent(escape(n))}let $g=null,SE=null;function G3(n){return $g||($g=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,SE=new Map([["","t"]])),n.replaceAll($g,(e,t,i)=>t?t.normalize("NFKC"):SE.get(i))}function D2(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),P2(n)}const To="pdfjs_internal_id_";function V3(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const o=s.length;let c=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;c=!1;break;default:return!1}for(const u of s)if(!(typeof u=="number"||c&&u===null))return!1;return!0}function xn(n,e,t){return Math.min(Math.max(n,e),t)}function k2(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(P2(n))}function Y3(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Yc(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Tc{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){if(!s)return;let o=null;const c=s.name;if(c==="#text")o=s.value;else if(Tc.shouldBuildText(c))s?.attributes?.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const u of s.children)r(u)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class R2{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",c=>{r.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",c=>{r.setValue(t,{value:c.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const c of i.children)c.attributes.value===o.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{const u=c.target.options,h=u.selectedIndex===-1?"":u[u.selectedIndex].value;r.setValue(t,{value:h})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,c=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[u,h]of Object.entries(o))if(h!=null)switch(u){case"class":h.length&&e.setAttribute(u,h.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",h);break;case"style":Object.assign(e.style,h);break;case"textContent":e.textContent=h;break;default:(!c||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,h)}c&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const c=s!=="richText",u=e.div;if(u.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}c&&u.setAttribute("class","xfaLayer xfaFont");const h=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),c&&Tc.shouldBuildText(r.name)&&h.push(p)}return{textDivs:h}}const f=[[r,-1,o]];for(;f.length>0;){const[p,g,v]=f.at(-1);if(g+1===p.children.length){f.pop();continue}const w=p.children[++f.at(-1)[1]];if(w===null)continue;const{name:b}=w;if(b==="#text"){const S=document.createTextNode(w.value);h.push(S),v.append(S);continue}const A=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,b):document.createElement(b);if(v.append(A),w.attributes&&this.setAttributes({html:A,element:w,storage:t,intent:s,linkService:i}),w.children?.length>0)f.push([w,-1,A]);else if(w.value){const S=document.createTextNode(w.value);c&&Tc.shouldBuildText(b)&&h.push(S),A.append(S)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:h}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const Cr="http://www.w3.org/2000/svg";class zo{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Xc(n,e="text"){if(vc(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Wc{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:c=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=o,i*=t;const u=(e[2]+e[0])/2,h=(e[3]+e[1])/2;let f,p,g,v;switch(r%=360,r<0&&(r+=360),r){case 180:f=-1,p=0,g=0,v=1;break;case 90:f=0,p=1,g=1,v=0;break;case 270:f=0,p=-1,g=-1,v=0;break;case 0:f=1,p=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}c&&(g=-g,v=-v);let w,b,A,S;f===0?(w=Math.abs(h-e[1])*i+s,b=Math.abs(u-e[0])*i+o,A=(e[3]-e[1])*i,S=(e[2]-e[0])*i):(w=Math.abs(u-e[0])*i+s,b=Math.abs(h-e[1])*i+o,A=(e[2]-e[0])*i,S=(e[3]-e[1])*i),this.transform=[f*i,p*i,g*i,v*i,w-f*i*u-g*i*h,b-p*i*u-v*i*h],this.width=A,this.height=S}get rawDims(){const e=this.viewBox;return Ce(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Wc({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return fe.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];fe.applyTransform(t,this.transform);const i=[e[2],e[3]];return fe.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return fe.applyInverseTransform(i,this.transform),i}}class Jb extends Ts{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Cf(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function e0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function X3(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function W3(n,e="document.pdf"){if(typeof n!="string")return e;if(Cf(n))return _e('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(c=>{try{return new URL(c)}catch{try{return new URL(decodeURIComponent(c))}catch{try{return new URL(c,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(c),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=c=>{try{let u=decodeURIComponent(c);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:c):u}catch{return c}},s=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(s.test(o))return r(o);if(i.searchParams.size>0){const c=Array.from(i.searchParams.values()).reverse();for(const h of c)if(s.test(h))return r(h);const u=Array.from(i.searchParams.keys()).reverse();for(const h of u)if(s.test(h))return r(h)}if(i.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(u)return r(u[0])}return e}class EE{started=Object.create(null);times=[];time(e){e in this.started&&_e(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||_e(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function vc(n,e){const t=e?URL.parse(n,e):URL.parse(n);return t?.protocol==="http:"||t?.protocol==="https:"}function _i(n){n.preventDefault()}function xt(n){n.preventDefault(),n.stopPropagation()}function K3(n){console.log("Deprecated API usage: "+n)}class Ny{static#e;static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const h=t[7]||"Z";let f=parseInt(t[8],10);f=f>=0&&f<=23?f:0;let p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,h==="-"?(o+=f,c+=p):h==="+"&&(o-=f,c-=p),new Date(Date.UTC(i,r,s,o,c,u))}}function Z3(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Wc({viewBox:s,userUnit:1,scale:e,rotation:t})}function Kc(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(_e(`Not a valid color format: "${n}"`),[0,0,0])}function Q3(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,Kc(i))}e.remove()}function mt(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function Ki(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function bs(n,e,t=!1,i=!0){if(e instanceof Wc){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,c=hn.isCSSRoundSupported,u=`var(--total-scale-factor) * ${r}px`,h=`var(--total-scale-factor) * ${s}px`,f=c?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,p=c?`round(down, ${h}, var(--scale-round-y))`:`calc(${h})`;!t||e.rotation%180===0?(o.width=f,o.height=p):(o.width=p,o.height=f)}i&&n.setAttribute("data-main-rotation",e.rotation)}class nr{constructor(){const{pixelRatio:e}=nr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let o=1/0,c=1/0,u=1/0;i=nr.capPixels(i,s),i>0&&(o=Math.sqrt(i/(e*t))),r!==-1&&(c=r/e,u=r/t);const h=Math.min(o,c,u);return this.sx>h||this.sy>h?(this.sx=h,this.sy=h,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const jy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class J3{static get isDarkMode(){return Ce(this,"isDarkMode",!!window?.matchMedia?.("(prefers-color-scheme: dark)").matches)}}class ez{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),Ce(this,"commentForegroundColor",Kc(i))}}function tz(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function _E(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),o=Math.min(t,i,r),c=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const u=s-o;switch(e[1]=c<.5?u/(s+o):u/(2-s-o),s){case t:e[0]=((i-r)/u+(i<r?6:0))*60;break;case i:e[0]=((r-t)/u+2)*60;break;case r:e[0]=((t-i)/u+4)*60;break}}e[2]=c}function Ly(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,o=s*(1-Math.abs(t/60%2-1)),c=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+c,e[1]=o+c,e[2]=c;break;case 1:e[0]=o+c,e[1]=s+c,e[2]=c;break;case 2:e[0]=c,e[1]=s+c,e[2]=o+c;break;case 3:e[0]=c,e[1]=o+c,e[2]=s+c;break;case 4:e[0]=o+c,e[1]=c,e[2]=s+c;break;case 5:case 6:e[0]=s+c,e[1]=c,e[2]=o+c;break}}function CE(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function TE(n,e,t){Ly(n,t),t.map(CE);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];Ly(e,t),t.map(CE);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const OE=new Map;function nz(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=OE.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),o=r.subarray(3,6);_E(n,o);const c=r.subarray(6,9);_E(e,c);const u=c[2]<.5,h=u?12:4.5;if(o[2]=u?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),TE(o,c,s)<h){let f,p;u?(f=o[2],p=1):(f=0,p=o[2]);const g=.005;for(;p-f>g;){const v=o[2]=(f+p)/2;u===TE(o,c,s)<h?f=v:p=v}o[2]=u?p:f}return Ly(o,s),i=fe.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),OE.set(t,i),i}function N2({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let c=0,u=o.length;c<u;++c){const h=o[c];s.append(document.createTextNode(h)),c<u-1&&s.append(document.createElement("br"))}r.append(s)}else R2.render({xfaHtml:n,div:r,intent:"richText"});r.firstElementChild.classList.add("richText",t),i.append(r)}function j2(n){const e=new Path2D;if(!n)return e;for(let t=0,i=n.length;t<i;)switch(n[t++]){case ic.moveTo:e.moveTo(n[t++],n[t++]);break;case ic.lineTo:e.lineTo(n[t++],n[t++]);break;case ic.curveTo:e.bezierCurveTo(n[t++],n[t++],n[t++],n[t++],n[t++],n[t++]);break;case ic.quadraticCurveTo:e.quadraticCurveTo(n[t++],n[t++],n[t++],n[t++]);break;case ic.closePath:e.closePath();break;default:_e(`Unrecognized drawing path operator: ${n[t-1]}`);break}return e}class Ac{#e=null;#t=null;#i;#n=null;#s=null;#a=null;#r=null;#o=null;static#c=null;constructor(e){this.#i=e,Ac.#c||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#i._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",_i,{signal:t}),e.addEventListener("pointerdown",Ac.#l,{signal:t}));const i=this.#n=document.createElement("div");i.className="buttons",e.append(i);const r=this.#i.toolbarPosition;if(r){const{style:s}=e,o=this.#i._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#l(e){e.stopPropagation()}#h(e){this.#i._focusEventsAllowed=!1,xt(e)}#d(e){this.#i._focusEventsAllowed=!0,xt(e)}#f(e){const t=this.#i._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",this.#h.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",_i,{signal:t}),!0)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown(),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#i,i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",Ac.#c[e]),this.#f(i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),this.#n.append(i)}get#g(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#f(t),this.#n.append(t,this.#g),this.#s=e}addComment(e,t=null){if(this.#a)return;const i=e.renderForToolbar();if(!i)return;this.#f(i);const r=this.#r=this.#g;t?(this.#n.insertBefore(i,t),this.#n.insertBefore(r,t)):this.#n.append(i,r),this.#a=e,e.toolbar=this}addColorPicker(e){if(this.#t)return;this.#t=e;const t=e.renderButton();this.#f(t),this.#n.append(t,this.#g)}async addEditSignatureButton(e){const t=this.#o=await e.renderEditButton(this.#i);this.#f(t),this.#n.append(t,this.#g)}removeButton(e){switch(e){case"comment":this.#a?.removeToolbarCommentButton(),this.#a=null,this.#r?.remove(),this.#r=null;break}}async addButton(e,t){switch(e){case"colorPicker":t&&this.addColorPicker(t);break;case"altText":t&&await this.addAltText(t);break;case"editSignature":t&&await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":t&&this.addComment(t);break}}async addButtonBefore(e,t,i){if(!t&&e==="comment")return;const r=this.#n.querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){this.#o&&(this.#o.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class iz{#e=null;#t=null;#i;constructor(e){this.#i=e}#n(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");const t=this.#i._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",_i,{signal:t});const i=this.#e=document.createElement("div");return i.className="buttons",e.append(i),this.#i.hasCommentManager()&&this.#a("commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{this.#i.commentSelection("floating_button")}),this.#a("highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{this.#i.highlightSelection("floating_button")}),e}#s(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const c=s.x+(t?s.width:0);if(o>i){r=c,i=o;continue}t?c>r&&(r=c):c<r&&(r=c)}return[t?1-r:r,i]}show(e,t,i){const[r,s]=this.#s(t,i),{style:o}=this.#t||=this.#n();e.append(this.#t),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#a(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const c=this.#i._signal;c instanceof AbortSignal&&!c.aborted&&(s.addEventListener("contextmenu",_i,{signal:c}),s.addEventListener("click",r,{signal:c})),this.#e.append(s)}}function L2(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}class Ge{static#e=NaN;static#t=null;static#i=NaN;static#n=null;static initializeAndAddPointerId(e){(Ge.#t||=new Set).add(e)}static setPointer(e,t){Ge.#e||=t,Ge.#n??=e}static setTimeStamp(e){Ge.#i=e}static isSamePointerId(e){return Ge.#e===e}static isSamePointerIdOrRemove(e){return Ge.#e===e?!0:(Ge.#t?.delete(e),!1)}static isSamePointerType(e){return Ge.#n===e}static isInitializedAndDifferentPointerType(e){return Ge.#n!==null&&!Ge.isSamePointerType(e)}static isSameTimeStamp(e){return Ge.#i===e}static isUsingMultiplePointers(){return Ge.#t?.size>=1}static clearPointerType(){Ge.#n=null}static clearPointerIds(){Ge.#e=NaN,Ge.#t=null}static clearTimeStamp(){Ge.#i=NaN}}class rz{#e=0;get id(){return`${_c}${this.#e++}`}}class t0{#e=D2();#t=0;#i=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return Ce(this,"_isSVGFittingCanvas",s)}async#n(e,t){this.#i||=new Map;let i=this.#i.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let r;if(typeof t=="string"?(i.url=t,r=await Xc(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=t0._isSVGFittingCanvas,o=new FileReader,c=new Image,u=new Promise((h,f)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,h()},o.onload=async()=>{const p=i.svgUrl=o.result;c.src=await s?`${p}#svgView(preserveAspectRatio(none))`:p},c.onerror=o.onerror=f});o.readAsDataURL(r),await u}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){_e(r),i=null}return this.#i.set(e,i),i&&this.#i.set(i.id,i),i}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return this.#n(`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return this.#n(e,e)}async getFromBlob(e,t){const i=await t;return this.#n(e,i)}async getFromId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#i||=new Map;let i=this.#i.get(e);if(i?.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#i.set(e,i),this.#i.set(i.id,i),i}getSvgUrl(e){const t=this.#i.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#i||=new Map;const t=this.#i.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const r=new OffscreenCanvas(i.width,i.height);r.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=r.convertToBlob()}i.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class az{#e=[];#t=!1;#i;#n=-1;constructor(e=128){this.#i=e}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:c=!1}){if(r&&e(),this.#t)return;const u={cmd:e,undo:t,post:i,type:s};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(u);return}if(o&&this.#e[this.#n].type===s){c&&(u.undo=this.#e[this.#n].undo),this.#e[this.#n]=u;return}const h=this.#n+1;h===this.#i?this.#e.splice(0,1):(this.#n=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(u)}undo(){if(this.#n===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1,this.#n-=1}redo(){if(this.#n<this.#e.length-1){this.#n+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#n];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}cleanType(e){if(this.#n!==-1){for(let t=this.#n;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#n-t),this.#n=t;return}this.#e.length=0,this.#n=-1}}destroy(){this.#e=null}}class Zc{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=hn.platform;for(const[i,r,s={}]of e)for(const o of i){const c=o.startsWith("mac+");t&&c?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!c&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(this.#e(t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:c=null}}=i;c&&!c(e,t)||(r.bind(e,...o,t)(),s||xt(t))}}class n0{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Q3(e),Ce(this,"_colors",e)}convert(e){const t=Kc(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return n0._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?fe.makeHexColor(...t):e}}class Na{#e=new AbortController;#t=null;#i=null;#n=new Map;#s=new Map;#a=null;#r=null;#o=null;#c=new az;#l=null;#h=null;#d=null;#f=0;#g=new Set;#m=null;#u=null;#p=new Set;_editorUndoBar=null;#v=!1;#b=!1;#y=!1;#_=null;#S=null;#w=null;#T=null;#x=!1;#E=null;#P=new rz;#O=!1;#M=!1;#I=!1;#k=null;#N=null;#B=null;#j=null;#q=null;#C=Te.NONE;#A=new Set;#R=null;#z=null;#U=null;#Y=null;#V=null;#X={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#L=null;#G=null;#Q=null;#J=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=Na.prototype,t=o=>o.#G.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:c})=>{if(c instanceof HTMLInputElement){const{type:u}=c;return u!=="text"&&u!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new Zc([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#G.contains(c)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:c})=>!(c instanceof HTMLButtonElement)&&o.#G.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}constructor(e,t,i,r,s,o,c,u,h,f,p,g,v,w,b,A){const S=this._signal=this.#e.signal;this.#G=e,this.#Q=t,this.#J=i,this.#a=r,this.#l=s,this.#z=o,this.#V=u,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:S}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:S}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:S}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:S}),c._on("setpreference",this.onSetPreference.bind(this),{signal:S}),c._on("switchannotationeditorparams",M=>this.updateParams(M.type,M.value),{signal:S}),window.addEventListener("pointerdown",()=>{this.#M=!0},{capture:!0,signal:S}),window.addEventListener("pointerup",()=>{this.#M=!1},{capture:!0,signal:S}),this.#se(),this.#he(),this.#te(),this.#r=u.annotationStorage,this.#_=u.filterFactory,this.#U=h,this.#T=f||null,this.#v=p,this.#b=g,this.#y=v,this.#q=w||null,this.viewParameters={realScale:zo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=b||null,this._supportsPinchToZoom=A!==!1,s?.setSidebarUiManager(this)}destroy(){this.#F?.resolve(),this.#F=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#p.clear(),this.#j?.clear(),this.#t=null,this.#A.clear(),this.#c.destroy(),this.#a?.destroy(),this.#l?.destroy(),this.#z?.destroy(),this.#E?.hide(),this.#E=null,this.#B?.destroy(),this.#B=null,this.#i=null,this.#S&&(clearTimeout(this.#S),this.#S=null),this.#L&&(clearTimeout(this.#L),this.#L=null),this._editorUndoBar?.destroy(),this.#V=null}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#q}get useNewAltTextFlow(){return this.#b}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Ce(this,"hcmFilter",this.#U?this.#_.addHCMFilter(this.#U.foreground,this.#U.background):"none")}get direction(){return Ce(this,"direction",getComputedStyle(this.#G).direction)}get _highlightColors(){return Ce(this,"_highlightColors",this.#T?new Map(this.#T.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return Ce(this,"highlightColors",null);const t=new Map,i=!!this.#U;for(const[r,s]of e){const o=r.endsWith("_HCM");if(i&&o){t.set(r.replace("_HCM",""),s);continue}!i&&!o&&t.set(r,s)}return Ce(this,"highlightColors",t)}get highlightColorNames(){return Ce(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#d=e}setMainHighlightColorPicker(e){this.#B=e}editAltText(e,t=!1){this.#a?.editAltText(this,e,t)}hasCommentManager(){return!!this.#l}editComment(e,t,i,r){this.#l?.showDialog(this,e,t,i,r)}selectComment(e,t){this.#s.get(e)?.getEditorByUID(t)?.toggleComment(!0,!0)}updateComment(e){this.#l?.updateComment(e.getData())}updatePopupColor(e){this.#l?.updatePopupColor(e)}removeComment(e){this.#l?.removeComments([e.uid])}toggleComment(e,t,i=void 0){this.#l?.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){return e&&this.#l?.makeCommentColor(e,t)||null}getCommentDialogElement(){return this.#l?.dialogElement||null}async waitForEditorsRendered(e){if(this.#s.has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){this.#z?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#z}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=t;break}}onPageChanging({pageNumber:e}){this.#f=e-1}focusMainContainer(){this.#G.focus()}findParent(e,t){for(const i of this.#s.values()){const{x:r,y:s,width:o,height:c}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+c)return i}return null}disableUserSelect(e=!1){this.#Q.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*zo.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#d?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Z({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#ee(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of this.#s.values())if(i.hasTextLayer(e))return i;return null}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:c}=i,u=i.toString(),f=this.#Z(i).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;i.empty();const g=this.#ee(f),v=this.#C===Te.NONE,w=()=>{const b=g?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:c,text:u});v&&this.showAllEditors("highlight",!0,!0),t&&b?.editComment()};if(v){this.switchToMode(Te.HIGHLIGHT,w);return}w()}commentSelection(e=""){this.highlightSelection(e,!0)}#re(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=this.#Z(e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(this.#E||=new iz(this),this.#E.show(i,r,this.direction==="ltr"))}getAndRemoveDataFromAnnotationStorage(e){if(!this.#r)return null;const t=`${_c}${e}`,i=this.#r.getRawValue(t);return i&&this.#r.remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&this.#r&&!this.#r.has(e.id)&&this.#r.setValue(e.id,e)}a11yAlert(e,t=null){const i=this.#J;i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}#ae(){const e=document.getSelection();if(!e||e.isCollapsed){this.#R&&(this.#E?.hide(),this.#R=null,this.#D({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#R)return;const r=this.#Z(e).closest(".textLayer");if(!r){this.#R&&(this.#E?.hide(),this.#R=null,this.#D({hasSelectedText:!1}));return}if(this.#E?.hide(),this.#R=t,this.#D({hasSelectedText:!0}),!(this.#C!==Te.HIGHLIGHT&&this.#C!==Te.NONE)&&(this.#C===Te.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#x=this.isShiftKeyDown,!this.isShiftKeyDown)){const s=this.#C===Te.HIGHLIGHT?this.#ee(r):null;if(s?.toggleDrawing(),this.#M){const o=new AbortController,c=this.combinedSignal(o),u=h=>{h.type==="pointerup"&&h.button!==0||(o.abort(),s?.toggleDrawing(!0),h.type==="pointerup"&&this.#W("main_toolbar"))};window.addEventListener("pointerup",u,{signal:c}),window.addEventListener("blur",u,{signal:c})}else s?.toggleDrawing(!0),this.#W("main_toolbar")}}#W(e=""){this.#C===Te.HIGHLIGHT?this.highlightSelection(e):this.#v&&this.#re()}#se(){document.addEventListener("selectionchange",this.#ae.bind(this),{signal:this._signal})}#oe(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#le(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#A)if(t.div.contains(e)){this.#N=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#N)return;const[e,t]=this.#N;this.#N=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#te(){if(this.#k)return;this.#k=new AbortController;const e=this.combinedSignal(this.#k);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#ce(){this.#k?.abort(),this.#k=null}#ue(){if(this.#h)return;this.#h=new AbortController;const e=this.combinedSignal(this.#h);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#de(){this.#h?.abort(),this.#h=null}#he(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#te(),this.setEditingState(!0)}removeEditListeners(){this.#ce(),this.setEditingState(!1)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of this.#u)if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of this.#A){const r=i.serialize(!0);r&&t.push(r)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of this.#u)if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){_e(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const u of i){const h=await r.deserialize(u);if(!h)return;s.push(h)}const o=()=>{for(const u of s)this.#ne(u);this.#ie(s)},c=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:c,mustExec:!0})}catch(s){_e(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#C!==Te.NONE&&!this.isEditorHandlingKeyboard&&Na._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#x&&(this.#x=!1,this.#W("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}#D(e){Object.entries(e).some(([i,r])=>this.#X[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#X,e)}),this.#C===Te.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#$([[Ie.HIGHLIGHT_FREE,!0]]))}#$(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#oe(),this.#ue(),this.#D({isEditing:this.#C!==Te.NONE,isEmpty:this.#K(),hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:this.#c.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#le(),this.#de(),this.#D({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#u){this.#u=e;for(const t of this.#u)this.#$(t.defaultPropertiesToUpdate)}}getId(){return this.#P.id}get currentLayer(){return this.#s.get(this.#f)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#f}addLayer(e){this.#s.set(e.pageIndex,e),this.#O?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){if(this.#C!==e&&!(this.#F&&(await this.#F.promise,!this.#F))){if(this.#F=Promise.withResolvers(),this.#d?.commitOrRemove(),this.#C===Te.POPUP&&this.#l?.hideSidebar(),this.#l?.destroyPopup(),this.#C=e,e===Te.NONE){this.setEditingState(!1),this.#pe();for(const o of this.#n.values())o.hideStandaloneCommentButton();this._editorUndoBar?.hide(),this.toggleComment(null),this.#F.resolve();return}for(const o of this.#n.values())o.addStandaloneCommentButton();e===Te.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#fe(),this.unselectAll();for(const o of this.#s.values())o.updateMode(e);if(e===Te.POPUP){this.#i||=await this.#V.getAnnotationsByType(new Set(this.#u.map(u=>u._editorType)));const o=new Set,c=[];for(const u of this.#n.values()){const{annotationElementId:h,hasComment:f,deleted:p}=u;h&&o.add(h),f&&!p&&c.push(u.getData())}for(const u of this.#i){const{id:h,popupRef:f,contentsObj:p}=u;f&&p?.str&&!o.has(h)&&!this.#g.has(h)&&c.push(u)}this.#l?.showSidebar(c)}if(!t){i&&this.addNewEditorFromKeyboard(),this.#F.resolve();return}for(const o of this.#n.values())o.uid===t?(this.setSelected(o),s?o.editComment():r?o.enterInEditMode():o.focus()):o.unselect();this.#F.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#C&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#u){switch(e){case Ie.CREATE:this.currentLayer.addNewEditor(t);return;case Ie.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#Y||=new Map).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of this.#A)i.updateParams(e,t);else for(const i of this.#u)i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){for(const s of this.#n.values())s.editorType===e&&s.show(t);(this.#Y?.get(Ie.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#$([[Ie.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#I!==e){this.#I=e;for(const t of this.#s.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#fe(){if(!this.#O){this.#O=!0;const e=[];for(const t of this.#s.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#pe(){if(this.unselectAll(),this.#O){this.#O=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}*getEditors(e){for(const t of this.#n.values())t.pageIndex===e&&(yield t)}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#S&&clearTimeout(this.#S),this.#S=setTimeout(()=>{this.focusMainContainer(),this.#S=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#j?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#g.has(e.annotationElementId))&&this.#r?.remove(e.id)}addDeletedAnnotationElement(e){this.#g.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#g.has(e)}removeDeletedAnnotationElement(e){this.#g.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ne(e){const t=this.#s.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#$(e.propertiesToUpdate))}get#me(){let e=null;for(e of this.#A);return e}updateUI(e){this.#me===e&&this.#$(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#$(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#A.has(e)){this.#A.delete(e),e.unselect(),this.#D({hasSelectedEditor:this.hasSelection});return}this.#A.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.uid}),this.#d?.commitOrRemove();for(const t of this.#A)t!==e&&t.unselect();this.#A.clear(),this.#A.add(e),e.select(),this.#$(e.propertiesToUpdate),this.#D({hasSelectedEditor:!0})}isSelected(e){return this.#A.has(e)}get firstSelectedEditor(){return this.#A.values().next().value}unselect(e){e.unselect(),this.#A.delete(e),this.#D({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#A.size!==0}get isEnterHandled(){return this.#A.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#c.undo(),this.#D({hasSomethingToUndo:this.#c.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#K()}),this._editorUndoBar?.hide()}redo(){this.#c.redo(),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:this.#c.hasSomethingToRedo(),isEmpty:this.#K()})}addCommands(e){this.#c.add(e),this.#D({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#K()})}cleanUndoStack(e){this.#c.cleanType(e)}#K(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#A],i=()=>{this._editorUndoBar?.show(r,t.length===1?t[0].editorType:t.length);for(const s of t)s.remove()},r=()=>{for(const s of t)this.#ne(s)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#ie(e){for(const t of this.#A)t.unselect();this.#A.clear();for(const t of e)t.isEmpty()||(this.#A.add(t),t.select());this.#D({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#A)e.commit();this.#ie(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#C!==Te.NONE))&&!this.#d?.commitOrRemove()&&this.hasSelection){for(const e of this.#A)e.unselect();this.#A.clear(),this.#D({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=e,this.#H[1]+=t;const[r,s]=this.#H,o=[...this.#A],c=1e3;this.#L&&clearTimeout(this.#L),this.#L=setTimeout(()=>{this.#L=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(r,s),u.translationDone())},undo:()=>{for(const u of o)this.#n.has(u.id)&&(u.translateInPage(-r,-s),u.translationDone())},mustExec:!1})},c);for(const u of o)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#m=new Map;for(const e of this.#A)this.#m.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#m)return!1;this.disableUserSelect(!1);const e=this.#m;this.#m=null;let t=!1;for(const[{x:r,y:s,pageIndex:o},c]of e)c.newX=r,c.newY=s,c.newPageIndex=o,t||=r!==c.savedX||s!==c.savedY||o!==c.savedPageIndex;if(!t)return!1;const i=(r,s,o,c)=>{if(this.#n.has(r.id)){const u=this.#s.get(c);u?r._setParentAndPosition(u,s,o):(r.pageIndex=c,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:c}]of e)i(r,s,o,c)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:c}]of e)i(r,s,o,c)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#m)for(const i of this.#m.keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#A.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#C}isEditingMode(){return this.#C!==Te.NONE}get imageManager(){return Ce(this,"imageManager",new t0)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let h=0,f=t.rangeCount;h<f;h++)if(!e.contains(t.getRangeAt(h).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let c;switch(e.getAttribute("data-main-rotation")){case"90":c=(h,f,p,g)=>({x:(f-r)/o,y:1-(h+p-i)/s,width:g/o,height:p/s});break;case"180":c=(h,f,p,g)=>({x:1-(h+p-i)/s,y:1-(f+g-r)/o,width:p/s,height:g/o});break;case"270":c=(h,f,p,g)=>({x:1-(f+g-r)/o,y:(h-i)/s,width:g/o,height:p/s});break;default:c=(h,f,p,g)=>({x:(h-i)/s,y:(f-r)/o,width:p/s,height:g/o});break}const u=[];for(let h=0,f=t.rangeCount;h<f;h++){const p=t.getRangeAt(h);if(!p.collapsed)for(const{x:g,y:v,width:w,height:b}of p.getClientRects())w===0||b===0||u.push(c(g,v,w,b))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const i=this.#r.getRawValue(t);i&&(this.#C===Te.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){const r=this.#j?.get(e);r&&(r.setCanvas(t,i),this.#j.delete(e))}addMissingCanvas(e,t){(this.#j||=new Map).set(e,t)}}class Ji{#e=null;#t=!1;#i=null;#n=null;#s=null;#a=null;#r=!1;#o=null;#c=null;#l=null;#h=null;#d=!1;static#f=null;static _l10n=null;constructor(e){this.#c=e,this.#d=e._uiManager.useNewAltTextFlow,Ji.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){Ji._l10n??=e}async render(){const e=this.#i=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#n=document.createElement("span");e.append(t),this.#d?(e.classList.add("new"),e.setAttribute("data-l10n-id",Ji.#f.missing),t.setAttribute("data-l10n-id",Ji.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=this.#c._uiManager._signal;e.addEventListener("contextmenu",_i,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),this.#c._uiManager.editAltText(this.#c),this.#d&&this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#g}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#r=!0,r(s))},{signal:i}),await this.#m(),e}get#g(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#i&&(this.#i.focus({focusVisible:this.#r}),this.#r=!1)}isEmpty(){return this.#d?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#d?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await Ji._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#m())}toggleAltTextBadge(e=!1){if(!this.#d||this.#e){this.#o?.remove(),this.#o=null;return}if(!this.#o){const t=this.#o=document.createElement("div");t.className="noAltTextBadge",this.#c.div.append(t)}this.#o.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(this.#l=i,this.#h=r),!(this.#e===e&&this.#t===t)&&(s||(this.#e=e,this.#t=t),this.#m())}toggle(e=!1){this.#i&&(!e&&this.#a&&(clearTimeout(this.#a),this.#a=null),this.#i.disabled=!e)}shown(){this.#c._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#g}})}destroy(){this.#i?.remove(),this.#i=null,this.#n=null,this.#s=null,this.#o?.remove(),this.#o=null}async#m(){const e=this.#i;if(!e)return;if(this.#d){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",Ji.#f[this.#g]),this.#n?.setAttribute("data-l10n-id",Ji.#f[`${this.#g}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#s?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#s;if(!t){this.#s=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#c.id}`;const r=100,s=this.#c._uiManager._signal;s.addEventListener("abort",()=>{clearTimeout(this.#a),this.#a=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#a=setTimeout(()=>{this.#a=null,this.#s.classList.add("show"),this.#c._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:s}),e.addEventListener("mouseleave",()=>{this.#a&&(clearTimeout(this.#a),this.#a=null),this.#s?.classList.remove("show")},{signal:s})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#c.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Fd{#e=null;#t=null;#i=!1;#n=null;#s=null;#a=null;#r=null;#o=null;#c=!1;#l=null;constructor(e){this.#n=e}renderForToolbar(){const e=this.#t=document.createElement("button");return e.className="comment",this.#h(e,!1)}renderForStandalone(){const e=this.#e=document.createElement("button");e.className="annotationCommentButton";const t=this.#n.commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(this.#n._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=this.#n.commentButtonColor;r&&(i.backgroundColor=r)}return this.#h(e,!0)}focusButton(){setTimeout(()=>{(this.#e??this.#t)?.focus()},0)}onUpdatedColor(){if(!this.#e)return;const e=this.#n.commentButtonColor;e&&(this.#e.style.backgroundColor=e),this.#n._uiManager.updatePopupColor(this.#n)}get commentButtonWidth(){return(this.#e?.getBoundingClientRect().width??0)/this.#n.parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(this.#l)return this.#l;if(!this.#e)return null;const{x:e,y:t,height:i}=this.#e.getBoundingClientRect(),{x:r,y:s,width:o,height:c}=this.#n.parent.boundingClientRect;return[(e-r)/o,(t+i-s)/c]}set commentPopupPositionInLayer(e){this.#l=e}hasDefaultPopupPosition(){return this.#l===null}removeStandaloneCommentButton(){this.#e?.remove(),this.#e=null}removeToolbarCommentButton(){this.#t?.remove(),this.#t=null}setCommentButtonStates({selected:e,hasPopup:t}){this.#e&&(this.#e.classList.toggle("selected",e),this.#e.ariaExpanded=t)}#h(e,t){if(!this.#n._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[this.#n._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-add-comment-button"));const i=this.#n._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",_i,{signal:i}),t&&(e.addEventListener("focusin",s=>{this.#n._focusEventsAllowed=!1,xt(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{this.#n._focusEventsAllowed=!0,xt(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===this.#t?this.edit():this.#n.toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(this.#i=!0,r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{this.#n.toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{this.#n.toggleComment(!1,!1)},{signal:i}),e}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=this.#n.commentButtonPosition;const{width:f,height:p,x:g,y:v}=this.#n;i=g+i*f,r=v+r*p}const s=this.#n.parent.boundingClientRect,{x:o,y:c,width:u,height:h}=s;this.#n._uiManager.editComment(this.#n,o+i*u,c+r*h,{...e,parentDimensions:s})}finish(){this.#t&&(this.#t.focus({focusVisible:this.#i}),this.#i=!1)}isDeleted(){return this.#c||this.#r===""}isEmpty(){return this.#r===null}hasBeenEdited(){return this.isDeleted()||this.#r!==this.#s}serialize(){return this.data}get data(){return{text:this.#r,richText:this.#a,date:this.#o,deleted:this.isDeleted()}}set data(e){if(e!==this.#r&&(this.#a=null),e===null){this.#r="",this.#c=!0;return}this.#r=e,this.#o=new Date,this.#c=!1}setInitialText(e,t=null){this.#s=e,this.data=e,this.#o=null,this.#a=t}shown(){}destroy(){this.#t?.remove(),this.#t=null,this.#e?.remove(),this.#e=null,this.#r="",this.#a=null,this.#o=null,this.#n=null,this.#i=!1,this.#c=!1}}class Tf{#e;#t=!1;#i=null;#n;#s;#a;#r;#o=null;#c;#l=null;#h;#d=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:c}){this.#e=e,this.#i=i,this.#n=t,this.#s=r,this.#a=s,this.#r=o,this.#h=new AbortController,this.#c=AbortSignal.any([c,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#c})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/nr.pixelRatio}#f(e){if(this.#n?.())return;if(e.touches.length===1){if(this.#o)return;const r=this.#o=new AbortController,s=AbortSignal.any([this.#c,r.signal]),o=this.#e,c={capture:!0,signal:s,passive:!1},u=h=>{h.pointerType==="touch"&&(this.#o?.abort(),this.#o=null)};o.addEventListener("pointerdown",h=>{h.pointerType==="touch"&&(xt(h),u(h))},c),o.addEventListener("pointerup",u,c),o.addEventListener("pointercancel",u,c);return}if(!this.#d){this.#d=new AbortController;const r=AbortSignal.any([this.#c,this.#d.signal]),s=this.#e,o={signal:r,capture:!1,passive:!1};s.addEventListener("touchmove",this.#g.bind(this),o);const c=this.#m.bind(this);s.addEventListener("touchend",c,o),s.addEventListener("touchcancel",c,o),o.capture=!0,s.addEventListener("pointerdown",xt,o),s.addEventListener("pointermove",xt,o),s.addEventListener("pointercancel",xt,o),s.addEventListener("pointerup",xt,o),this.#s?.()}if(xt(e),e.touches.length!==2||this.#i?.()){this.#l=null;return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY}}#g(e){if(!this.#l||e.touches.length!==2)return;xt(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:o,screenY:c}=i,u=this.#l,{touch0X:h,touch0Y:f,touch1X:p,touch1Y:g}=u,v=p-h,w=g-f,b=o-r,A=c-s,S=Math.hypot(b,A)||1,M=Math.hypot(v,w)||1;if(!this.#t&&Math.abs(M-S)<=Tf.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=r,u.touch0Y=s,u.touch1X=o,u.touch1Y=c,!this.#t){this.#t=!0;return}const _=[(r+o)/2,(s+c)/2];this.#a?.(_,M,S)}#m(e){e.touches.length>=2||(this.#d&&(this.#d.abort(),this.#d=null,this.#r?.()),this.#l&&(xt(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#o?.abort(),this.#o=null}}class ye{#e=null;#t=null;#i=null;#n=null;#s=null;#a=!1;#r=null;#o="";#c=null;#l=null;#h=null;#d=null;#f=null;#g="";#m=!1;#u=null;#p=!1;#v=!1;#b=!1;#y=null;#_=0;#S=0;#w=null;#T=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#x=!1;#E=ye._zIndex++;static _borderLineWidth=-1;static _colorManager=new n0;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=ye.prototype._resizeWithKeyboard,t=Na.TRANSLATE_SMALL,i=Na.TRANSLATE_BIG;return Ce(this,"_resizerKeyboardManager",new Zc([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],ye.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null,this.canAddComment=!0;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[c,u]=this.parentDimensions;this.x=e.x/c,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Ce(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new sz({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ye._l10n??=e,ye._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ye._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ye._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){nt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#x}set _isDraggable(e){this.#x=e,this.div?.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#E}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(this.#L(),this.#d?.remove(),this.#d=null),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#m?this.#m=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}#P([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#P(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y,this.width,this.height],this.#P(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#u||=[this.x,this.y,this.width,this.height];const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:g}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,g)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:c}=this;const[u,h]=this.getBaseTranslation();o+=u,c+=h;const{style:f}=i;f.left=`${(100*o).toFixed(2)}%`,f.top=`${(100*c).toFixed(2)}%`,this._onTranslating(o,c),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}get _hasBeenResized(){return!!this.#u&&(this.#u[2]!==this.width||this.#u[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=ye,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:o,width:c,height:u}=this;if(c*=i,u*=r,s*=i,o*=r,this._mustFixPosition)switch(e){case 0:s=xn(s,0,i-c),o=xn(o,0,r-u);break;case 90:s=xn(s,0,i-u),o=xn(o,c,r);break;case 180:s=xn(s,c,i),o=xn(o,u,r);break;case 270:s=xn(s,u,i),o=xn(o,0,r-c);break}this.x=s/=i,this.y=o/=r;const[h,f]=this.getBaseTranslation();s+=h,o+=f,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#O(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return ye.#O(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return ye.#O(e,t,360-this.parentRotation)}#M(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}#I(){if(this.#c)return;this.#c=document.createElement("div"),this.#c.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");this.#c.append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",this.#k.bind(this,i),{signal:t}),r.addEventListener("contextmenu",_i,{signal:t}),r.tabIndex=-1}this.div.prepend(this.#c)}#k(e,t){t.preventDefault();const{isMac:i}=hn.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#i?.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,this.#l=[t.screenX,t.screenY];const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#j.bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",xt,{passive:!1,signal:o}),window.addEventListener("contextmenu",_i,{signal:o}),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const c=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const h=()=>{s.abort(),this.parent.togglePointerEvents(!0),this.#i?.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=c,this.div.style.cursor=u,this.#B()};window.addEventListener("pointerup",h,{signal:o}),window.addEventListener("blur",h,{signal:o})}#N(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()}_onResized(){}#B(){if(!this.#h)return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=this.#h;this.#h=null;const s=this.x,o=this.y,c=this.width,u=this.height;s===e&&o===t&&c===i&&u===r||this.addCommands({cmd:this.#N.bind(this,s,o,c,u),undo:this.#N.bind(this,e,t,i,r),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#j(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,c=this.width,u=this.height,h=ye.MIN_SIZE/i,f=ye.MIN_SIZE/r,p=this.#M(this.rotation),g=(B,H)=>[p[0]*B+p[2]*H,p[1]*B+p[3]*H],v=this.#M(360-this.rotation),w=(B,H)=>[v[0]*B+v[2]*H,v[1]*B+v[3]*H];let b,A,S=!1,M=!1;switch(e){case"topLeft":S=!0,b=(B,H)=>[0,0],A=(B,H)=>[B,H];break;case"topMiddle":b=(B,H)=>[B/2,0],A=(B,H)=>[B/2,H];break;case"topRight":S=!0,b=(B,H)=>[B,0],A=(B,H)=>[0,H];break;case"middleRight":M=!0,b=(B,H)=>[B,H/2],A=(B,H)=>[0,H/2];break;case"bottomRight":S=!0,b=(B,H)=>[B,H],A=(B,H)=>[0,0];break;case"bottomMiddle":b=(B,H)=>[B/2,H],A=(B,H)=>[B/2,0];break;case"bottomLeft":S=!0,b=(B,H)=>[0,H],A=(B,H)=>[B,0];break;case"middleLeft":M=!0,b=(B,H)=>[0,H/2],A=(B,H)=>[B,H/2];break}const _=b(c,u),D=A(c,u);let T=g(...D);const P=ye._round(s+T[0]),R=ye._round(o+T[1]);let N=1,I=1,W,U;if(t.fromKeyboard)({deltaX:W,deltaY:U}=t);else{const{screenX:B,screenY:H}=t,[te,re]=this.#l;[W,U]=this.screenToPageTranslation(B-te,H-re),this.#l[0]=B,this.#l[1]=H}if([W,U]=w(W/i,U/r),S){const B=Math.hypot(c,u);N=I=Math.max(Math.min(Math.hypot(D[0]-_[0]-W,D[1]-_[1]-U)/B,1/c,1/u),h/c,f/u)}else M?N=xn(Math.abs(D[0]-_[0]-W),h,1)/c:I=xn(Math.abs(D[1]-_[1]-U),f,1)/u;const K=ye._round(c*N),se=ye._round(u*I);T=g(...A(K,se));const oe=P-T[0],le=R-T[1];this.#u||=[this.x,this.y,this.width,this.height],this.width=K,this.height=se,this.x=oe,this.y=le,this.setDims(),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#i?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#v)return this._editToolbar;this._editToolbar=new Ac(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){this._editToolbar?.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){this._editToolbar?.removeButton("comment")}removeEditToolbar(){this._editToolbar?.remove(),this._editToolbar=null,this.#i?.destroy()}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#i||(Ji.initialize(ye._l10n),this.#i=new Ji(this),this.#e&&(this.#i.data=this.#e,this.#e=null)),this.#i}get altTextData(){return this.#i?.data}set altTextData(e){this.#i&&(this.#i.data=e)}get guessedAltText(){return this.#i?.guessedText}async setGuessedAltText(e){await this.#i?.setGuessedText(e)}serializeAltText(e){return this.#i?.serialize(e)}hasAltText(){return!!this.#i&&!this.#i.isEmpty()}hasAltTextData(){return this.#i?.hasData()??!1}focusCommentButton(){this.#n?.focusButton()}addCommentButton(){return this.canAddComment?this.#n||=new Fd(this):null}addStandaloneCommentButton(){if(this._uiManager.hasCommentManager()){if(this.#s){this._uiManager.isEditingMode()&&this.#s.classList.remove("hidden");return}this.hasComment&&(this.#s=this.#n.renderForStandalone(),this.div.append(this.#s))}}removeStandaloneCommentButton(){this.#n.removeStandaloneCommentButton(),this.#s=null}hideStandaloneCommentButton(){this.#s?.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=this.#n;return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){this.#n||=new Fd(this),this.#n.data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(this.#n||=new Fd(this),this.#n.setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){return this.#n?.hasBeenEdited()}get hasDeletedComment(){return this.#n?.isDeleted()}get hasComment(){return!!this.#n&&!this.#n.isEmpty()&&!this.#n.isDeleted()}async editComment(e){this.#n||=new Fd(this),this.#n.edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){this.#n.setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,c=o+s+1,u=r-100,h=c+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[c,u,h,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){this.#n.data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#a?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#U();const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),L2(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#T||=new Tf({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#q.bind(this),onPinching:this.#C.bind(this),onPinchEnd:this.#A.bind(this),signal:this._uiManager._signal})),this.addStandaloneCommentButton(),this._uiManager._editorUndoBar?.hide(),e}#q(){this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#i?.toggle(!1),this.parent.togglePointerEvents(!1)}#C(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const o=this.#M(this.rotation),c=(P,R)=>[o[0]*P+o[2]*R,o[1]*P+o[3]*R],[u,h]=this.parentDimensions,f=this.x,p=this.y,g=this.width,v=this.height,w=ye.MIN_SIZE/u,b=ye.MIN_SIZE/h;s=Math.max(Math.min(s,1/g,1/v),w/g,b/v);const A=ye._round(g*s),S=ye._round(v*s);if(A===g&&S===v)return;this.#u||=[f,p,g,v];const M=c(g/2,v/2),_=ye._round(f+M[0]),D=ye._round(p+M[1]),T=c(A/2,S/2);this.x=_-T[0],this.y=D-T[1],this.width=A,this.height=S,this.setDims(),this.fixAndSetPosition(),this._onResizing()}#A(){this.#i?.toggle(!0),this.parent.togglePointerEvents(!0),this.#B()}pointerdown(e){const{isMac:t}=hn.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#m=!0,this._isDraggable){this.#z(e);return}this.#R(e)}#R(e){const{isMac:t}=hn.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#z(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},c=h=>{r.abort(),this.#r=null,this.#m=!1,this._uiManager.endDragSession()||this.#R(h),i&&this._onStopDragging()};t&&(this.#_=e.clientX,this.#S=e.clientY,this.#r=e.pointerId,this.#o=e.pointerType,window.addEventListener("pointermove",h=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:f,clientY:p,pointerId:g}=h;if(g!==this.#r){xt(h);return}const[v,w]=this.screenToPageTranslation(f-this.#_,p-this.#S);this.#_=f,this.#S=p,this._uiManager.dragSelectedEditors(v,w)},o),window.addEventListener("touchmove",xt,o),window.addEventListener("pointerdown",h=>{h.pointerType===this.#o&&(this.#T||h.isPrimary)&&c(h),xt(h)},o));const u=h=>{if(!this.#r||this.#r===h.pointerId){c(h);return}xt(h)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[c,u]=this.pageTranslation,h=e/r,f=t/r,p=this.x*s,g=this.y*o,v=this.width*s,w=this.height*o;switch(i){case 0:return[p+h+c,o-g-f-w+u,p+h+v+c,o-g-f+u];case 90:return[p+f+c,o-g+h+u,p+f+w+c,o-g+h+v+u];case 180:return[p-h-v+c,o-g+f+u,p-h+c,o-g+f+w+u];case 270:return[p-f-w+c,o-g-h-v+u,p-f+c,o-g-h+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,c=s-i,u=o-r;switch(this.rotation){case 0:return[i,t-o,c,u];case 90:return[i,t-r,u,c];case 180:return[s,t-r,c,u];case 270:return[s,t-o,u,c];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ye._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){this.#n?.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:o},uid:c,pageIndex:u,creationDate:h,modificationDate:f}=this;return{id:c,pageIndex:u,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:h,modificationDate:i||f,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#v=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#v=!1,!0):!1}isInEditMode(){return this.#v}shouldGetKeyboardEvents(){return this.#b}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&r>0&&e<s&&i>0}#U(){if(this.#f||!this.div)return;this.#f=new AbortController;const e=this._uiManager.combinedSignal(this.#f);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#U()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:this._initialData?.popupRef||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,r.#e=e.accessibilityData,r._isCopy=e.isCopy||!1;const[s,o]=r.pageDimensions,[c,u,h,f]=r.getRectInCurrentCoords(e.rect,o);return r.x=c/s,r.y=u/o,r.width=h/s,r.height=f/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#f?.abort(),this.#f=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.hideCommentPopup(),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#L(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#T?.destroy(),this.#T=null,this.#d?.remove(),this.#d=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#I(),this.#c.classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,o]=this.getPDFRect();return[ye._round(i+(s-i)*e),ye._round(r+(o-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return this.#n.commentPopupPositionInLayer}set commentPopupPosition(e){this.#n.commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return this.#n.hasDefaultPopupPosition()}get commentButtonWidth(){return this.#n.commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){this.#n?.setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#h={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#c.children;if(!this.#t){this.#t=Array.from(t);const o=this.#Y.bind(this),c=this.#V.bind(this),u=this._uiManager._signal;for(const h of this.#t){const f=h.getAttribute("data-resizer-name");h.setAttribute("role","spinbutton"),h.addEventListener("keydown",o,{signal:u}),h.addEventListener("blur",c,{signal:u}),h.addEventListener("focus",this.#X.bind(this,f),{signal:u}),h.setAttribute("data-l10n-id",ye._l10nResizer[f])}}const i=this.#t[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(s!==r){if(s<r)for(let c=0;c<r-s;c++)this.#c.append(this.#c.firstElementChild);else if(s>r)for(let c=0;c<s-r;c++)this.#c.firstElementChild.before(this.#c.lastElementChild);let o=0;for(const c of t){const h=this.#t[o++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",ye._l10nResizer[h])}}this.#H(0),this.#b=!0,this.#c.firstElementChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#Y(e){ye._resizerKeyboardManager.exec(this,e)}#V(e){this.#b&&e.relatedTarget?.parentNode!==this.#c&&this.#L()}#X(e){this.#g=this.#b?e:""}#H(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#b&&this.#j(this.#g,{deltaX:e,deltaY:t,fromKeyboard:!0})}#L(){this.#b=!1,this.#H(-1),this.#B()}_stopResizingWithKeyboard(){this.#L(),this.div.focus()}select(){if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#i?.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>this.div?.focus({preventScroll:!0}),0)}unselect(){this.isSelected&&(this.isSelected=!1,this.#c?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#i?.toggleAltTextBadge(!0),this.hideCommentPopup())}hideCommentPopup(){this.hasComment&&this._uiManager.toggleComment(null)}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.uid}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#w||=new Map;const{action:i}=e;let r=this.#w.get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(i),this.#w.size===0&&(this.#w=null)},ye._telemetryTimeout),this.#w.set(i,r);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#a=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#a=!0}updateFakeAnnotationElement(e){if(!this.#d&&!this.deleted){this.#d=e.addFakeAnnotation(this);return}if(this.deleted){this.#d.remove(),this.#d=null;return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&this.#d.updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstElementChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class sz extends ye{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const ME=3285377520,gi=4294901760,Zi=65535;class I2{constructor(e){this.h1=e?e&4294967295:ME,this.h2=e?e&4294967295:ME}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let b=0,A=e.length;b<A;b++){const S=e.charCodeAt(b);S<=255?t[i++]=S:(t[i++]=S>>>8,t[i++]=S&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let c=0,u=0,h=this.h1,f=this.h2;const p=3432918353,g=461845907,v=p&Zi,w=g&Zi;for(let b=0;b<r;b++)b&1?(c=o[b],c=c*p&gi|c*v&Zi,c=c<<15|c>>>17,c=c*g&gi|c*w&Zi,h^=c,h=h<<13|h>>>19,h=h*5+3864292196):(u=o[b],u=u*p&gi|u*v&Zi,u=u<<15|u>>>17,u=u*g&gi|u*w&Zi,f^=u,f=f<<13|f>>>19,f=f*5+3864292196);switch(c=0,s){case 3:c^=t[r*4+2]<<16;case 2:c^=t[r*4+1]<<8;case 1:c^=t[r*4],c=c*p&gi|c*v&Zi,c=c<<15|c>>>17,c=c*g&gi|c*w&Zi,r&1?h^=c:f^=c}this.h1=h,this.h2=f}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&gi|e*36045&Zi,t=t*4283543511&gi|((t<<16|e>>>16)*2950163797&gi)>>>16,e^=t>>>1,e=e*444984403&gi|e*60499&Zi,t=t*3301882366&gi|((t<<16|e>>>16)*3120437893&gi)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const Iy=Object.freeze({map:null,hash:"",transfer:void 0});class i0{#e=!1;#t=null;#i=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=this.#n.get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){const t=this.#n.get(e);if(t!==void 0&&(t instanceof ye&&this.#i.delete(t.annotationElementId),this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of this.#n.values())if(i instanceof ye)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=this.#n.get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,this.#n.set(e,t);r&&this.#s(),t instanceof ye&&((this.#i||=new Map).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return this.#n.has(e)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new B2(this)}get serializable(){if(this.#n.size===0)return Iy;const e=new Map,t=new I2,i=[],r=Object.create(null);let s=!1;for(const[o,c]of this.#n){const u=c instanceof ye?c.serialize(!1,r):c;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),s||=!!u.bitmap)}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:Iy}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of this.#n.values()){if(!(s instanceof ye)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:c}=o;t.has(c)||t.set(c,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const u=e[c]||=new Map;for(const[h,f]of Object.entries(o)){if(h==="type")continue;let p=u.get(h);p||(p=new Map,u.set(h,p));const g=p.get(f)??0;p.set(f,g+1)}}if((r>0||i>0)&&(e||=Object.create(null),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}updateEditor(e,t){const i=this.#i?.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){return this.#i?.get(e)||null}get modifiedIds(){if(this.#t)return this.#t;const e=[];if(this.#i)for(const t of this.#i.values())t.serialize()&&e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class B2 extends i0{#e;constructor(e){super();const{map:t,hash:i,transfer:r}=e.serializable,s=structuredClone(t,r?{transfer:r}:null);this.#e={map:s,hash:i,transfer:r}}get print(){nt("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Ce(this,"modifiedIds",{ids:new Set,hash:""})}}class oz{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||this.#e.has(e.loadedName))){if(Be(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,c=new FontFace(r,s,o);this.addNativeFontFace(c);try{await c.load(),this.#e.add(r),i?.(e)}catch{_e(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}nt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw _e(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Ce(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Ce(this,"isSyncFontLoadingSupported",bn||hn.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Be(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ce(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(D,T){return D.charCodeAt(T)<<24|D.charCodeAt(T+1)<<16|D.charCodeAt(T+2)<<8|D.charCodeAt(T+3)&255}function r(D,T,P,R){const N=D.substring(0,T),I=D.substring(T+P);return N+R+I}let s,o;const c=this._document.createElement("canvas");c.width=1,c.height=1;const u=c.getContext("2d");let h=0;function f(D,T){if(++h>30){_e("Load test font never loaded."),T();return}if(u.font="30px "+D,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){T();return}setTimeout(f.bind(null,D,T))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let g=this._loadTestFont;g=r(g,976,p.length,p);const w=16,b=1482184792;let A=i(g,w);for(s=0,o=p.length-3;s<o;s+=4)A=A-b+i(p,s)|0;s<p.length&&(A=A-b+i(p+"XXX",s)|0),g=r(g,w,4,U3(A));const S=`url(data:font/opentype;base64,${btoa(g)});`,M=`@font-face {font-family:"${p}";src:${S}}`;this.insertRule(M);const _=this._document.createElement("div");_.style.visibility="hidden",_.style.width=_.style.height="10px",_.style.position="absolute",_.style.top=_.style.left="0px";for(const D of[e.loadedName,p]){const T=this._document.createElement("span");T.textContent="Hi",T.style.fontFamily=D,_.append(T)}this._document.body.append(_),f(p,()=>{_.remove(),t.complete()})}}class lz{#e;constructor(e,t=null,i,r){this.compiledGlyphs=Object.create(null),this.#e=e,this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${k2(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(o){_e(`getPathGenerator - ignoring character: "${o}".`)}const s=j2(r);return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return this.#e.black}get bold(){return this.#e.bold}get disableFontFace(){return this.#e.disableFontFace??!1}set disableFontFace(e){Ce(this,"disableFontFace",!!e)}get fontExtraProperties(){return this.#e.fontExtraProperties??!1}get isInvalidPDFjsFont(){return this.#e.isInvalidPDFjsFont}get isType3Font(){return this.#e.isType3Font}get italic(){return this.#e.italic}get missingFile(){return this.#e.missingFile}get remeasure(){return this.#e.remeasure}get vertical(){return this.#e.vertical}get ascent(){return this.#e.ascent}get defaultWidth(){return this.#e.defaultWidth}get descent(){return this.#e.descent}get bbox(){return this.#e.bbox}set bbox(e){Ce(this,"bbox",e)}get fontMatrix(){return this.#e.fontMatrix}get fallbackName(){return this.#e.fallbackName}get loadedName(){return this.#e.loadedName}get mimetype(){return this.#e.mimetype}get name(){return this.#e.name}get data(){return this.#e.data}clearData(){this.#e.clearData()}get cssFontInfo(){return this.#e.cssFontInfo}get systemFontInfo(){return this.#e.systemFontInfo}get defaultVMetrics(){return this.#e.defaultVMetrics}}class ko{#e;#t;#i;static strings=["fontFamily","fontWeight","italicAngle"];static write(e){const t=new TextEncoder,i={};let r=0;for(const h of ko.strings){const f=t.encode(e[h]);i[h]=f,r+=4+f.length}const s=new ArrayBuffer(r),o=new Uint8Array(s),c=new DataView(s);let u=0;for(const h of ko.strings){const f=i[h],p=f.length;c.setUint32(u,p),o.set(f,u+4),u+=4+p}return Be(u===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}#n(e){Be(e<ko.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const i=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,i))}get fontFamily(){return this.#n(0)}get fontWeight(){return this.#n(1)}get italicAngle(){return this.#n(2)}}class Ro{#e;#t;#i;static strings=["css","loadedName","baseFontName","src"];static write(e){const t=new TextEncoder,i={};let r=0;for(const g of Ro.strings){const v=t.encode(e[g]);i[g]=v,r+=4+v.length}r+=4;let s,o,c=1+r;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),c+=4+s.length+4+o.length);const u=new ArrayBuffer(c),h=new Uint8Array(u),f=new DataView(u);let p=0;f.setUint8(p++,e.guessFallback?1:0),f.setUint32(p,0),p+=4,r=0;for(const g of Ro.strings){const v=i[g],w=v.length;r+=4+w,f.setUint32(p,w),h.set(v,p+4),p+=4+w}return f.setUint32(p-r-4,r),e.style&&(f.setUint32(p,s.length),h.set(s,p+4),p+=4+s.length,f.setUint32(p,o.length),h.set(o,p+4),p+=4+o.length),Be(p<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(p)}constructor(e){this.#e=e,this.#t=new DataView(this.#e),this.#i=new TextDecoder}get guessFallback(){return this.#t.getUint8(0)!==0}#n(e){Be(e<Ro.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=this.#t.getUint32(t)+4;const i=this.#t.getUint32(t);return this.#i.decode(new Uint8Array(this.#e,t+4,i))}get css(){return this.#n(0)}get loadedName(){return this.#n(1)}get baseFontName(){return this.#n(2)}get src(){return this.#n(3)}get style(){let e=1;e+=4+this.#t.getUint32(e);const t=this.#t.getUint32(e),i=this.#i.decode(new Uint8Array(this.#e,e+4,t));e+=4+t;const r=this.#t.getUint32(e),s=this.#i.decode(new Uint8Array(this.#e,e+4,r));return{style:i,weight:s}}}class et{static bools=["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"];static numbers=["ascent","defaultWidth","descent"];static strings=["fallbackName","loadedName","mimetype","name"];static#e=Math.ceil(this.bools.length*2/8);static#t=this.#e+this.numbers.length*8;static#i=this.#t+1+8;static#n=this.#i+1+48;static#s=this.#n+1+6;#a;#r;#o;constructor({data:e,extra:t}){this.#a=e,this.#r=new TextDecoder,this.#o=new DataView(this.#a),t&&Object.assign(this,t)}#c(e){Be(e<et.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=this.#o.getUint8(t)>>i&3;return r===0?void 0:r===2}get black(){return this.#c(0)}get bold(){return this.#c(1)}get disableFontFace(){return this.#c(2)}get fontExtraProperties(){return this.#c(3)}get isInvalidPDFjsFont(){return this.#c(4)}get isType3Font(){return this.#c(5)}get italic(){return this.#c(6)}get missingFile(){return this.#c(7)}get remeasure(){return this.#c(8)}get vertical(){return this.#c(9)}#l(e){return Be(e<et.numbers.length,"Invalid number index"),this.#o.getFloat64(et.#e+e*8)}get ascent(){return this.#l(0)}get defaultWidth(){return this.#l(1)}get descent(){return this.#l(2)}get bbox(){let e=et.#t;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=et.#i;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(this.#o.getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=et.#n;if(this.#o.getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(this.#o.getInt16(e,!0)),e+=2;return i}#h(e){Be(e<et.strings.length,"Invalid string index");let t=et.#s+4;for(let s=0;s<e;s++)t+=this.#o.getUint32(t)+4;const i=this.#o.getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(this.#a,t+4,i)),this.#r.decode(r)}get fallbackName(){return this.#h(0)}get loadedName(){return this.#h(1)}get mimetype(){return this.#h(2)}get name(){return this.#h(3)}get data(){let e=et.#s;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);if(s!==0)return new Uint8Array(this.#a,e+4,s)}clearData(){let e=et.#s;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);e+=4+r;const s=this.#o.getUint32(e);new Uint8Array(this.#a,e+4,s).fill(0),this.#o.setUint32(e,0)}get cssFontInfo(){let e=et.#s;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);e+=4+i;const r=this.#o.getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(this.#a,e+4,r)),new ko(s.buffer)}get systemFontInfo(){let e=et.#s;const t=this.#o.getUint32(e);e+=4+t;const i=this.#o.getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(this.#a,e+4,i)),new Ro(r.buffer)}static write(e){const t=e.systemFontInfo?Ro.write(e.systemFontInfo):null,i=e.cssFontInfo?ko.write(e.cssFontInfo):null,r=new TextEncoder,s={};let o=0;for(const b of et.strings)s[b]=r.encode(e[b]),o+=4+s[b].length;const c=et.#s+4+o+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(c),h=new Uint8Array(u),f=new DataView(u);let p=0;const g=et.bools.length;let v=0,w=0;for(let b=0;b<g;b++){const A=e[et.bools[b]];v|=(A===void 0?0:A?2:1)<<w,w+=2,(w===8||b===g-1)&&(f.setUint8(p++,v),v=0,w=0)}Be(p===et.#e,"FontInfo.write: Boolean properties offset mismatch");for(const b of et.numbers)f.setFloat64(p,e[b]),p+=8;if(Be(p===et.#t,"FontInfo.write: Number properties offset mismatch"),e.bbox){f.setUint8(p++,4);for(const b of e.bbox)f.setInt16(p,b,!0),p+=2}else f.setUint8(p++,0),p+=8;if(Be(p===et.#i,"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){f.setUint8(p++,6);for(const b of e.fontMatrix)f.setFloat64(p,b,!0),p+=8}else f.setUint8(p++,0),p+=48;if(Be(p===et.#n,"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){f.setUint8(p++,1);for(const b of e.defaultVMetrics)f.setInt16(p,b,!0),p+=2}else f.setUint8(p++,0),p+=6;Be(p===et.#s,"FontInfo.write: DefaultVMetrics properties offset mismatch"),f.setUint32(et.#s,0),p+=4;for(const b of et.strings){const A=s[b],S=A.length;f.setUint32(p,S),h.set(A,p+4),p+=4+S}if(f.setUint32(et.#s,p-et.#s-4),!t)f.setUint32(p,0),p+=4;else{const b=t.byteLength;f.setUint32(p,b),Be(p+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),h.set(new Uint8Array(t),p+4),p+=4+b}if(!i)f.setUint32(p,0),p+=4;else{const b=i.byteLength;f.setUint32(p,b),Be(p+4+b<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),h.set(new Uint8Array(i),p+4),p+=4+b}return e.data===void 0?(f.setUint32(p,0),p+=4):(f.setUint32(p,e.data.length),h.set(e.data,p+4),p+=4+e.data.length),Be(p<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(p)}}class qt{static#e=0;static#t=1;static#i=2;static#n=3;static#s=4;static#a=8;static#r=12;static#o=16;constructor(e){this.buffer=e,this.view=new DataView(e),this.data=new Uint8Array(e)}static write(e){let t,i=null,r=[],s=[],o=[],c=[],u=null,h=null;switch(e[0]){case"RadialAxial":t=e[1]==="axial"?1:2,i=e[2],o=e[3],t===1?r.push(...e[4],...e[5]):r.push(e[4][0],e[4][1],e[6],e[5][0],e[5][1],e[7]);break;case"Mesh":t=3,u=e[1],r=e[2],s=e[3],c=e[4]||[],i=e[6],h=e[7];break;default:throw new Error(`Unsupported pattern type: ${e[0]}`)}const f=Math.floor(r.length/2),p=Math.floor(s.length/3),g=o.length,v=c.length;let w=0;for(const T of c)w+=1,w=Math.ceil(w/4)*4,w+=4+T.coords.length*4,w+=4+T.colors.length*4,T.verticesPerRow!==void 0&&(w+=4);const b=20+f*8+p*3+g*8+(i?16:0)+(h?3:0)+w,A=new ArrayBuffer(b),S=new DataView(A),M=new Uint8Array(A);S.setUint8(qt.#e,t),S.setUint8(qt.#t,i?1:0),S.setUint8(qt.#i,h?1:0),S.setUint8(qt.#n,u),S.setUint32(qt.#s,f,!0),S.setUint32(qt.#a,p,!0),S.setUint32(qt.#r,g,!0),S.setUint32(qt.#o,v,!0);let _=20;new Float32Array(A,_,f*2).set(r),_+=f*8,M.set(s,_),_+=p*3;for(const[T,P]of o)S.setFloat32(_,T,!0),_+=4,S.setUint32(_,parseInt(P.slice(1),16),!0),_+=4;if(i)for(const T of i)S.setFloat32(_,T,!0),_+=4;h&&(M.set(h,_),_+=3);for(let T=0;T<c.length;T++){const P=c[T];S.setUint8(_,P.type),_+=1,_=Math.ceil(_/4)*4,S.setUint32(_,P.coords.length,!0),_+=4,new Int32Array(A,_,P.coords.length).set(P.coords),_+=P.coords.length*4,S.setUint32(_,P.colors.length,!0),_+=4,new Int32Array(A,_,P.colors.length).set(P.colors),_+=P.colors.length*4,P.verticesPerRow!==void 0&&(S.setUint32(_,P.verticesPerRow,!0),_+=4)}return A}getIR(){const e=this.view,t=this.data[qt.#e],i=!!this.data[qt.#t],r=!!this.data[qt.#i],s=e.getUint32(qt.#s,!0),o=e.getUint32(qt.#a,!0),c=e.getUint32(qt.#r,!0),u=e.getUint32(qt.#o,!0);let h=20;const f=new Float32Array(this.buffer,h,s*2);h+=s*8;const p=new Uint8Array(this.buffer,h,o*3);h+=o*3;const g=[];for(let A=0;A<c;++A){const S=e.getFloat32(h,!0);h+=4;const M=e.getUint32(h,!0);h+=4,g.push([S,`#${M.toString(16).padStart(6,"0")}`])}let v=null;if(i){v=[];for(let A=0;A<4;++A)v.push(e.getFloat32(h,!0)),h+=4}let w=null;r&&(w=new Uint8Array(this.buffer,h,3),h+=3);const b=[];for(let A=0;A<u;++A){const S=e.getUint8(h);h+=1,h=Math.ceil(h/4)*4;const M=e.getUint32(h,!0);h+=4;const _=new Int32Array(this.buffer,h,M);h+=M*4;const D=e.getUint32(h,!0);h+=4;const T=new Int32Array(this.buffer,h,D);h+=D*4;const P={type:S,coords:_,colors:T};S===ky.LATTICE&&(P.verticesPerRow=e.getUint32(h,!0),h+=4),b.push(P)}if(t===1)return["RadialAxial","axial",v,g,Array.from(f.slice(0,2)),Array.from(f.slice(2,4)),null,null];if(t===2)return["RadialAxial","radial",v,g,[f[0],f[1]],[f[3],f[4]],f[2],f[5]];if(t===3){const A=this.data[qt.#n];let S=null;if(f.length>0){let M=f[0],_=f[0],D=f[1],T=f[1];for(let P=0;P<f.length;P+=2){const R=f[P],N=f[P+1];M=M>R?R:M,D=D>N?N:D,_=_<R?R:_,T=T<N?N:T}S=[M,D,_,T]}return["Mesh",A,f,p,b,S,v,w]}throw new Error(`Unsupported pattern kind: ${t}`)}}function cz(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(bn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function uz(n){if(bn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Yc(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Ud(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const By=n=>typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0,dz=n=>typeof n=="object"&&typeof n?.name=="string",hz=V3.bind(null,By,dz);class fz{#e=new Map;#t=Promise.resolve();postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[r]of this.#e)r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if(i?.signal instanceof AbortSignal){const{signal:s}=i;if(s.aborted){_e("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}this.#e.set(t,r)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const Hd={DATA:1,ERROR:2},kt={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function PE(){}function jn(n){if(n instanceof Ra||n instanceof Ry||n instanceof AE||n instanceof _h||n instanceof Ug)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||nt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new Ra(n.message);case"InvalidPDFException":return new Ry(n.message);case"PasswordException":return new AE(n.message,n.code);case"ResponseException":return new _h(n.message,n.status,n.missing);case"UnknownErrorException":return new Ug(n.message,n.details)}return new Ug(n.message,n.toString())}class yc{#e=new AbortController;constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#n(e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Hd.DATA)r.resolve(e.data);else if(e.callback===Hd.ERROR)r.reject(jn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:Hd.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:Hd.ERROR,callbackId:e.callbackId,reason:jn(o)})});return}if(e.streamId){this.#i(e);return}t(e.data)}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,c=this.targetName,u=this.comObj;return new ReadableStream({start:h=>{const f=Promise.withResolvers();return this.streamControllers[s]={controller:h,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:c,action:e,streamId:s,data:t,desiredSize:h.desiredSize},r),f.promise},pull:h=>{const f=Promise.withResolvers();return this.streamControllers[s].pullCall=f,u.postMessage({sourceName:o,targetName:c,stream:kt.PULL,streamId:s,desiredSize:h.desiredSize}),f.promise},cancel:h=>{Be(h instanceof Error,"cancel must have a valid reason");const f=Promise.withResolvers();return this.streamControllers[s].cancelCall=f,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:c,stream:kt.CANCEL,streamId:s,reason:jn(h)}),f.promise}},i)}#i(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,c=this.actionHandler[e.action],u={enqueue(h,f=1,p){if(this.isCancelled)return;const g=this.desiredSize;this.desiredSize-=f,g>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:kt.ENQUEUE,streamId:t,chunk:h},p)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:kt.CLOSE,streamId:t}),delete o.streamSinks[t])},error(h){Be(h instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:kt.ERROR,streamId:t,reason:jn(h)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(c,e.data,u).then(function(){s.postMessage({sourceName:i,targetName:r,stream:kt.START_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:i,targetName:r,stream:kt.START_COMPLETE,streamId:t,reason:jn(h)})})}#n(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case kt.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(jn(e.reason));break;case kt.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(jn(e.reason));break;case kt.PULL:if(!c){s.postMessage({sourceName:i,targetName:r,stream:kt.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,Promise.try(c.onPull||PE).then(function(){s.postMessage({sourceName:i,targetName:r,stream:kt.PULL_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:i,targetName:r,stream:kt.PULL_COMPLETE,streamId:t,reason:jn(h)})});break;case kt.ENQUEUE:if(Be(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case kt.CLOSE:if(Be(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),this.#s(o,t);break;case kt.ERROR:Be(o,"error should have stream controller"),o.controller.error(jn(e.reason)),this.#s(o,t);break;case kt.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(jn(e.reason)),this.#s(o,t);break;case kt.CANCEL:if(!c)break;const u=jn(e.reason);Promise.try(c.onCancel||PE,u).then(function(){s.postMessage({sourceName:i,targetName:r,stream:kt.CANCEL_COMPLETE,streamId:t,success:!0})},function(h){s.postMessage({sourceName:i,targetName:r,stream:kt.CANCEL_COMPLETE,streamId:t,reason:jn(h)})}),c.sinkCapability.reject(u),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#s(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class z2{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){nt("Abstract method `_createCanvas` called.")}}class pz extends z2{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class F2{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class DE extends F2{async _fetch(e){const t=await Xc(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Yc(t)}}class U2{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}class mz extends U2{#e;#t;#i;#n;#s;#a;#r=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#n=e,this.#s=t}get#o(){return this.#t||=new Map}get#c(){return this.#a||=new Map}get#l(){if(!this.#i){const e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const i=this.#s.createElementNS(Cr,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#i=this.#s.createElementNS(Cr,"defs"),e.append(i),i.append(this.#i),this.#s.body.append(e)}return this.#i}#h(e){if(e.length===1){const u=e[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=u[p]/255;const f=h.join(",");return[f,f,f]}const[t,i,r]=e,s=new Array(256),o=new Array(256),c=new Array(256);for(let u=0;u<256;u++)s[u]=t[u]/255,o[u]=i[u]/255,c[u]=r[u]/255;return[s.join(","),o.join(","),c.join(",")]}#d(e){if(this.#e===void 0){this.#e="";const t=this.#s.URL;t!==this.#s.baseURI&&(Cf(t)?_e('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=M2(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#o.get(e);if(t)return t;const[i,r,s]=this.#h(e),o=e.length===1?i:`${i}${r}${s}`;if(t=this.#o.get(o),t)return this.#o.set(e,t),t;const c=`g_${this.#n}_transfer_map_${this.#r++}`,u=this.#d(c);this.#o.set(e,u),this.#o.set(o,u);const h=this.#m(c);return this.#p(i,r,s,h),u}addHCMFilter(e,t){const i=`${e}-${t}`,r="base";let s=this.#c.get(r);if(s?.key===i||(s?(s.filter?.remove(),s.key=i,s.url="none",s.filter=null):(s={key:i,url:"none",filter:null},this.#c.set(r,s)),!e||!t))return s.url;const o=this.#b(e);e=fe.makeHexColor(...o);const c=this.#b(t);if(t=fe.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return s.url;const u=new Array(256);for(let v=0;v<=255;v++){const w=v/255;u[v]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const h=u.join(","),f=`g_${this.#n}_hcm_filter`,p=s.filter=this.#m(f);this.#p(h,h,h,p),this.#g(p);const g=(v,w)=>{const b=o[v]/255,A=c[v]/255,S=new Array(w+1);for(let M=0;M<=w;M++)S[M]=b+M/w*(A-b);return S.join(",")};return this.#p(g(0,5),g(1,5),g(2,5),p),s.url=this.#d(f),s.url}addAlphaFilter(e){let t=this.#o.get(e);if(t)return t;const[i]=this.#h([e]),r=`alpha_${i}`;if(t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_alpha_map_${this.#r++}`,o=this.#d(s);this.#o.set(e,o),this.#o.set(r,o);const c=this.#m(s);return this.#v(i,c),o}addLuminosityFilter(e){let t=this.#o.get(e||"luminosity");if(t)return t;let i,r;if(e?([i]=this.#h([e]),r=`luminosity_${i}`):r="luminosity",t=this.#o.get(r),t)return this.#o.set(e,t),t;const s=`g_${this.#n}_luminosity_map_${this.#r++}`,o=this.#d(s);this.#o.set(e,o),this.#o.set(r,o);const c=this.#m(s);return this.#f(c),e&&this.#v(i,c),o}addHighlightHCMFilter(e,t,i,r,s){const o=`${t}-${i}-${r}-${s}`;let c=this.#c.get(e);if(c?.key===o||(c?(c.filter?.remove(),c.key=o,c.url="none",c.filter=null):(c={key:o,url:"none",filter:null},this.#c.set(e,c)),!t||!i))return c.url;const[u,h]=[t,i].map(this.#b.bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[g,v]=[r,s].map(this.#b.bind(this));p<f&&([f,p,g,v]=[p,f,v,g]),this.#l.style.color="";const w=(S,M,_)=>{const D=new Array(256),T=(p-f)/_,P=S/255,R=(M-S)/(255*_);let N=0;for(let I=0;I<=_;I++){const W=Math.round(f+I*T),U=P+I*R;for(let K=N;K<=W;K++)D[K]=U;N=W+1}for(let I=N;I<256;I++)D[I]=D[N-1];return D.join(",")},b=`g_${this.#n}_hcm_${e}_filter`,A=c.filter=this.#m(b);return this.#g(A),this.#p(w(g[0],v[0],5),w(g[1],v[1],5),w(g[2],v[2],5),A),c.url=this.#d(b),c.url}destroy(e=!1){e&&this.#a?.size||(this.#i?.parentNode.parentNode.remove(),this.#i=null,this.#t?.clear(),this.#t=null,this.#a?.clear(),this.#a=null,this.#r=0)}#f(e){const t=this.#s.createElementNS(Cr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#g(e){const t=this.#s.createElementNS(Cr,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#m(e){const t=this.#s.createElementNS(Cr,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#u(e,t,i){const r=this.#s.createElementNS(Cr,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",i),e.append(r)}#p(e,t,i,r){const s=this.#s.createElementNS(Cr,"feComponentTransfer");r.append(s),this.#u(s,"feFuncR",e),this.#u(s,"feFuncG",t),this.#u(s,"feFuncB",i)}#v(e,t){const i=this.#s.createElementNS(Cr,"feComponentTransfer");t.append(i),this.#u(i,"feFuncA",e)}#b(e){return this.#l.style.color=e,Kc(getComputedStyle(this.#l).getPropertyValue("color"))}}class H2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class kE extends H2{async _fetch(e){const t=await Xc(e,"arraybuffer");return new Uint8Array(t)}}class $2{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){nt("Abstract method `_fetch` called.")}}class RE extends $2{async _fetch(e){const t=await Xc(e,"arraybuffer");return new Uint8Array(t)}}bn&&_e("Please use the `legacy` build in Node.js environments.");async function r0(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class gz extends U2{}class vz extends z2{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class yz extends F2{async _fetch(e){return r0(e)}}class bz extends H2{async _fetch(e){return r0(e)}}class xz extends $2{async _fetch(e){return r0(e)}}const bo="__forcedDependency",{floor:NE,ceil:jE}=Math;function $d(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const zy=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];class wz{#e;#t;constructor(e,t){this.#e=e,this.#t=t}get length(){return this.#e.length}isEmpty(e){return this.#e[e]===zy}minX(e){return this.#t[e*4+0]/256}minY(e){return this.#t[e*4+1]/256}maxX(e){return(this.#t[e*4+2]+1)/256}maxY(e){return(this.#t[e*4+3]+1)/256}}const qd=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};class Az{#e={__proto__:null};#t={__proto__:null,transform:[],moveText:[],sameLineText:[],[bo]:[]};#i=new Map;#n=[];#s=[];#a=[[1,0,0,1,0,0]];#r=[-1/0,-1/0,1/0,1/0];#o=new Float64Array([1/0,1/0,-1/0,-1/0]);#c=-1;#l=new Set;#h=new Map;#d=new Map;#f;#g;#m;#u;#p;constructor(e,t,i=!1){this.#f=e.width,this.#g=e.height,this.#v(t),i&&(this.#p=new Map)}growOperationsCount(e){e>=this.#u.length&&this.#v(e,this.#u)}#v(e,t){const i=new ArrayBuffer(e*4);this.#m=new Uint8ClampedArray(i),this.#u=new Uint32Array(i),t&&t.length>0?(this.#u.set(t),this.#u.fill(zy,t.length)):this.#u.fill(zy)}save(e){return this.#e={__proto__:this.#e},this.#t={__proto__:this.#t,transform:{__proto__:this.#t.transform},moveText:{__proto__:this.#t.moveText},sameLineText:{__proto__:this.#t.sameLineText},[bo]:{__proto__:this.#t[bo]}},this.#r={__proto__:this.#r},this.#n.push(e),this}restore(e){const t=Object.getPrototypeOf(this.#e);if(t===null)return this;this.#e=t,this.#t=Object.getPrototypeOf(this.#t),this.#r=Object.getPrototypeOf(this.#r);const i=this.#n.pop();return i!==void 0&&(qd(this.#p,e)?.dependencies.add(i),this.#u[e]=this.#u[i]),this}recordOpenMarker(e){return this.#n.push(e),this}getOpenMarker(){return this.#n.length===0?null:this.#n.at(-1)}recordCloseMarker(e){const t=this.#n.pop();return t!==void 0&&(qd(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}beginMarkedContent(e){return this.#s.push(e),this}endMarkedContent(e){const t=this.#s.pop();return t!==void 0&&(qd(this.#p,e)?.dependencies.add(t),this.#u[e]=this.#u[t]),this}pushBaseTransform(e){return this.#a.push(fe.multiplyByDOMMatrix(this.#a.at(-1),e.getTransform())),this}popBaseTransform(){return this.#a.length>1&&this.#a.pop(),this}recordSimpleData(e,t){return this.#e[e]=t,this}recordIncrementalData(e,t){return this.#t[e].push(t),this}resetIncrementalData(e,t){return this.#t[e].length=0,this}recordNamedData(e,t){return this.#i.set(e,t),this}recordSimpleDataFromNamed(e,t,i){this.#e[e]=this.#i.get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(bo,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in this.#e&&this.recordFutureForcedDependency(t,this.#e[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of this.#l)this.recordFutureForcedDependency(bo,e);return this}resetBBox(e){return this.#c!==e&&(this.#c=e,this.#o[0]=1/0,this.#o[1]=1/0,this.#o[2]=-1/0,this.#o[3]=-1/0),this}recordClipBox(e,t,i,r,s,o){const c=fe.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];fe.axialAlignedBoundingBox([i,s,r,o],c,u);const h=fe.intersect(this.#r,u);return h?(this.#r[0]=h[0],this.#r[1]=h[1],this.#r[2]=h[2],this.#r[3]=h[3]):(this.#r[0]=this.#r[1]=1/0,this.#r[2]=this.#r[3]=-1/0),this}recordBBox(e,t,i,r,s,o){const c=this.#r;if(c[0]===1/0)return this;const u=fe.multiplyByDOMMatrix(this.#a.at(-1),t.getTransform());if(c[0]===-1/0)return fe.axialAlignedBoundingBox([i,s,r,o],u,this.#o),this;const h=[1/0,1/0,-1/0,-1/0];return fe.axialAlignedBoundingBox([i,s,r,o],u,h),this.#o[0]=Math.min(this.#o[0],Math.max(h[0],c[0])),this.#o[1]=Math.min(this.#o[1],Math.max(h[1],c[1])),this.#o[2]=Math.max(this.#o[2],Math.min(h[2],c[2])),this.#o[3]=Math.max(this.#o[3],Math.min(h[3],c[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,o=0,c){const u=i.bbox;let h,f;if(u&&(h=u[2]!==u[0]&&u[3]!==u[1]&&this.#d.get(i),h!==!1&&(f=[0,0,0,0],fe.axialAlignedBoundingBox(u,i.fontMatrix,f),(r!==1||s!==0||o!==0)&&fe.scaleMinMax([r,0,0,-r,s,o],f),h)))return this.recordBBox(e,t,f[0],f[2],f[1],f[3]);if(!c)return this.recordFullPageBBox(e);const p=c();return u&&f&&h===void 0&&(h=f[0]<=s-p.actualBoundingBoxLeft&&f[2]>=s+p.actualBoundingBoxRight&&f[1]<=o-p.actualBoundingBoxAscent&&f[3]>=o+p.actualBoundingBoxDescent,this.#d.set(i,h),h)?this.recordBBox(e,t,f[0],f[2],f[1],f[3]):this.recordBBox(e,t,s-p.actualBoundingBoxLeft,s+p.actualBoundingBoxRight,o-p.actualBoundingBoxAscent,o+p.actualBoundingBoxDescent)}recordFullPageBBox(e){return this.#o[0]=Math.max(0,this.#r[0]),this.#o[1]=Math.max(0,this.#r[1]),this.#o[2]=Math.min(this.#f,this.#r[2]),this.#o[3]=Math.min(this.#g,this.#r[3]),this}getSimpleIndex(e){return this.#e[e]}recordDependencies(e,t){const i=this.#l,r=this.#e,s=this.#t;for(const o of t)o in this.#e?i.add(r[o]):o in s&&s[o].forEach(i.add,i);return this}recordNamedDependency(e,t){return this.#i.has(t)&&this.#l.add(this.#i.get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[bo]),this.#p){const i=qd(this.#p,e),{dependencies:r}=i;this.#l.forEach(r.add,r),this.#n.forEach(r.add,r),this.#s.forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(this.#c===e){const i=NE(this.#o[0]*256/this.#f),r=NE(this.#o[1]*256/this.#g),s=jE(this.#o[2]*256/this.#f),o=jE(this.#o[3]*256/this.#g);$d(this.#m,e,i,r,s,o);for(const c of this.#l)c!==e&&$d(this.#m,c,i,r,s,o);for(const c of this.#n)c!==e&&$d(this.#m,c,i,r,s,o);for(const c of this.#s)c!==e&&$d(this.#m,c,i,r,s,o);t||(this.#l.clear(),this.#c=-1)}return this}recordShowTextOperation(e,t=!1){const i=Array.from(this.#l);this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return this.#c===e&&(this.#c=-1,this.#r[0]=Math.max(this.#r[0],this.#o[0]),this.#r[1]=Math.max(this.#r[1],this.#o[1]),this.#r[2]=Math.min(this.#r[2],this.#o[2]),this.#r[3]=Math.min(this.#r[3],this.#o[3]),t||this.#l.clear()),this}_takePendingDependencies(){const e=this.#l;return this.#l=new Set,e}_extractOperation(e){const t=this.#h.get(e);return this.#h.delete(e),t}_pushPendingDependencies(e){for(const t of e)this.#l.add(t)}take(){return this.#d.clear(),new wz(this.#u,this.#m)}takeDebugMetadata(){return this.#p}}class Ch{#e;#t;#i;#n=0;#s=0;constructor(e,t,i){if(e instanceof Ch&&e.#i===!!i)return e;this.#e=e,this.#t=t,this.#i=!!i}growOperationsCount(){throw new Error("Unreachable")}save(e){return this.#s++,this.#e.save(this.#t),this}restore(e){return this.#s>0&&(this.#e.restore(this.#t),this.#s--),this}recordOpenMarker(e){return this.#n++,this}getOpenMarker(){return this.#n>0?this.#t:this.#e.getOpenMarker()}recordCloseMarker(e){return this.#n--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return this.#e.pushBaseTransform(e),this}popBaseTransform(){return this.#e.popBaseTransform(),this}recordSimpleData(e,t){return this.#e.recordSimpleData(e,this.#t),this}recordIncrementalData(e,t){return this.#e.recordIncrementalData(e,this.#t),this}resetIncrementalData(e,t){return this.#e.resetIncrementalData(e,this.#t),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return this.#e.recordSimpleDataFromNamed(e,t,this.#t),this}recordFutureForcedDependency(e,t){return this.#e.recordFutureForcedDependency(e,this.#t),this}inheritSimpleDataAsFutureForcedDependencies(e){return this.#e.inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return this.#e.inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return this.#i||this.#e.resetBBox(this.#t),this}recordClipBox(e,t,i,r,s,o){return this.#i||this.#e.recordClipBox(this.#t,t,i,r,s,o),this}recordBBox(e,t,i,r,s,o){return this.#i||this.#e.recordBBox(this.#t,t,i,r,s,o),this}recordCharacterBBox(e,t,i,r,s,o,c){return this.#i||this.#e.recordCharacterBBox(this.#t,t,i,r,s,o,c),this}recordFullPageBBox(e){return this.#i||this.#e.recordFullPageBBox(this.#t),this}getSimpleIndex(e){return this.#e.getSimpleIndex(e)}recordDependencies(e,t){return this.#e.recordDependencies(this.#t,t),this}recordNamedDependency(e,t){return this.#e.recordNamedDependency(this.#t,t),this}recordOperation(e){return this.#e.recordOperation(this.#t,!0),this}recordShowTextOperation(e){return this.#e.recordShowTextOperation(this.#t,!0),this}bboxToClipBoxDropOperation(e){return this.#i||this.#e.bboxToClipBoxDropOperation(this.#t,!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}}const vi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},cn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Fy(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class a0{isModifyingCurrentTransform(){return!1}getPattern(){nt("Abstract method `getPattern` called.")}}class Sz extends a0{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===cn.STROKE||r===cn.FILL){const o=t.current.getClippedPathBoundingBox(r,mt(e))||[0,0,0,0],c=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,h=t.cachedCanvases.getCanvas("pattern",c,u),f=h.context;f.clearRect(0,0,f.canvas.width,f.canvas.height),f.beginPath(),f.rect(0,0,f.canvas.width,f.canvas.height),f.translate(-o[0],-o[1]),i=fe.transform(i,[1,0,0,1,o[0],o[1]]),f.transform(...t.baseTransform),this.matrix&&f.transform(...this.matrix),Fy(f,this._bbox),f.fillStyle=this._createGradient(f),f.fill(),s=e.createPattern(h.canvas,"no-repeat");const p=new DOMMatrix(i);s.setTransform(p)}else Fy(e,this._bbox),s=this._createGradient(e);return s}}function qg(n,e,t,i,r,s,o,c){const u=e.coords,h=e.colors,f=n.data,p=n.width*4;let g;u[t+1]>u[i+1]&&(g=t,t=i,i=g,g=s,s=o,o=g),u[i+1]>u[r+1]&&(g=i,i=r,r=g,g=o,o=c,c=g),u[t+1]>u[i+1]&&(g=t,t=i,i=g,g=s,s=o,o=g);const v=(u[t]+e.offsetX)*e.scaleX,w=(u[t+1]+e.offsetY)*e.scaleY,b=(u[i]+e.offsetX)*e.scaleX,A=(u[i+1]+e.offsetY)*e.scaleY,S=(u[r]+e.offsetX)*e.scaleX,M=(u[r+1]+e.offsetY)*e.scaleY;if(w>=M)return;const _=h[s],D=h[s+1],T=h[s+2],P=h[o],R=h[o+1],N=h[o+2],I=h[c],W=h[c+1],U=h[c+2],K=Math.round(w),se=Math.round(M);let oe,le,B,H,te,re,xe,L;for(let V=K;V<=se;V++){if(V<A){const ce=V<w?0:(w-V)/(w-A);oe=v-(v-b)*ce,le=_-(_-P)*ce,B=D-(D-R)*ce,H=T-(T-N)*ce}else{let ce;V>M?ce=1:A===M?ce=0:ce=(A-V)/(A-M),oe=b-(b-S)*ce,le=P-(P-I)*ce,B=R-(R-W)*ce,H=N-(N-U)*ce}let ne;V<w?ne=0:V>M?ne=1:ne=(w-V)/(w-M),te=v-(v-S)*ne,re=_-(_-I)*ne,xe=D-(D-W)*ne,L=T-(T-U)*ne;const ae=Math.round(Math.min(oe,te)),me=Math.round(Math.max(oe,te));let we=p*V+ae*4;for(let ce=ae;ce<=me;ce++)ne=(oe-ce)/(oe-te),ne<0?ne=0:ne>1&&(ne=1),f[we++]=le-(le-re)*ne|0,f[we++]=B-(B-xe)*ne|0,f[we++]=H-(H-L)*ne|0,f[we++]=255}}function Ez(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case ky.LATTICE:const c=e.verticesPerRow,u=Math.floor(i.length/c)-1,h=c-1;for(s=0;s<u;s++){let f=s*c;for(let p=0;p<h;p++,f++)qg(n,t,i[f],i[f+1],i[f+c],r[f],r[f+1],r[f+c]),qg(n,t,i[f+c+1],i[f+1],i[f+c],r[f+c+1],r[f+1],r[f+c])}break;case ky.TRIANGLES:for(s=0,o=i.length;s<o;s+=3)qg(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class _z extends a0{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const c=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),h=Math.ceil(this._bounds[2])-c,f=Math.ceil(this._bounds[3])-u,p=Math.min(Math.ceil(Math.abs(h*e[0]*1.1)),3e3),g=Math.min(Math.ceil(Math.abs(f*e[1]*1.1)),3e3),v=h/p,w=f/g,b={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-u,scaleX:1/v,scaleY:1/w},A=p+4,S=g+4,M=i.getCanvas("mesh",A,S),_=M.context,D=_.createImageData(p,g);if(t){const P=D.data;for(let R=0,N=P.length;R<N;R+=4)P[R]=t[0],P[R+1]=t[1],P[R+2]=t[2],P[R+3]=255}for(const P of this._figures)Ez(D,P,b);return _.putImageData(D,2,2),{canvas:M.canvas,offsetX:c-2*v,offsetY:u-2*w,scaleX:v,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){Fy(e,this._bbox);const s=new Float32Array(2);if(r===cn.SHADING)fe.singularValueDecompose2dScale(mt(e),s);else if(this.matrix){fe.singularValueDecompose2dScale(this.matrix,s);const[c,u]=s;fe.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=c,s[1]*=u}else fe.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,r===cn.SHADING?null:this._background,t.cachedCanvases);return r!==cn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class Cz extends a0{getPattern(){return"hotpink"}}function Tz(n){switch(n[0]){case"RadialAxial":return new Sz(n);case"Mesh":return new _z(n);case"Dummy":return new Cz}throw new Error(`Unknown IR type: ${n[0]}`)}const LE={COLORED:1,UNCOLORED:2};class s0{static MAX_PATTERN_SIZE=3e3;constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){const{bbox:i,operatorList:r,paintType:s,tilingType:o,color:c,canvasGraphicsFactory:u}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),_f("TilingType: "+o);const p=i[0],g=i[1],v=i[2],w=i[3],b=v-p,A=w-g,S=new Float32Array(2);fe.singularValueDecompose2dScale(this.matrix,S);const[M,_]=S;fe.singularValueDecompose2dScale(this.baseTransform,S);const D=M*S[0],T=_*S[1];let P=b,R=A,N=!1,I=!1;const W=Math.ceil(h*D),U=Math.ceil(f*T),K=Math.ceil(b*D),se=Math.ceil(A*T);W>=K?P=h:N=!0,U>=se?R=f:I=!0;const oe=this.getSizeAndScale(P,this.ctx.canvas.width,D),le=this.getSizeAndScale(R,this.ctx.canvas.height,T),B=e.cachedCanvases.getCanvas("pattern",oe.size,le.size),H=B.context,te=u.createCanvasGraphics(H,t);if(te.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(te,s,c),H.translate(-oe.scale*p,-le.scale*g),te.transform(0,oe.scale,0,0,le.scale,0,0),H.save(),te.dependencyTracker?.save(),this.clipBbox(te,p,g,v,w),te.baseTransform=mt(te.ctx),te.executeOperatorList(r),te.endDrawing(),te.dependencyTracker?.restore(),H.restore(),N||I){const re=B.canvas;N&&(P=h),I&&(R=f);const xe=this.getSizeAndScale(P,this.ctx.canvas.width,D),L=this.getSizeAndScale(R,this.ctx.canvas.height,T),V=xe.size,ne=L.size,ae=e.cachedCanvases.getCanvas("pattern-workaround",V,ne),me=ae.context,we=N?Math.floor(b/h):0,ce=I?Math.floor(A/f):0;for(let at=0;at<=we;at++)for(let Q=0;Q<=ce;Q++)me.drawImage(re,V*at,ne*Q,V,ne,0,0,V,ne);return{canvas:ae.canvas,scaleX:xe.scale,scaleY:L.scale,offsetX:p,offsetY:g}}return{canvas:B.canvas,scaleX:oe.scale,scaleY:le.scale,offsetX:p,offsetY:g}}getSizeAndScale(e,t,i){const r=Math.max(s0.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,c=s-i;e.ctx.rect(t,i,o,c),fe.axialAlignedBoundingBox([t,i,r,s],mt(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case LE.COLORED:const{fillStyle:o,strokeStyle:c}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=c;break;case LE.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new F3(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let o=i;r!==cn.SHADING&&(o=fe.transform(o,t.baseTransform),this.matrix&&(o=fe.transform(o,this.matrix)));const c=this.createPatternCanvas(t,s);let u=new DOMMatrix(o);u=u.translate(c.offsetX,c.offsetY),u=u.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(u),h}}function Oz({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const c=hn.isLittleEndian?4278190080:255,[u,h]=o?[s,c]:[c,s],f=i>>3,p=i&7,g=n.length;t=new Uint32Array(t.buffer);let v=0;for(let w=0;w<r;w++){for(const A=e+f;e<A;e++){const S=e<g?n[e]:255;t[v++]=S&128?h:u,t[v++]=S&64?h:u,t[v++]=S&32?h:u,t[v++]=S&16?h:u,t[v++]=S&8?h:u,t[v++]=S&4?h:u,t[v++]=S&2?h:u,t[v++]=S&1?h:u}if(p===0)continue;const b=e<g?n[e++]:255;for(let A=0;A<p;A++)t[v++]=b&1<<7-A?h:u}return{srcPos:e,destPos:v}}const IE=16,BE=100,Mz=15,zE=10,Ln=16,Gg=new DOMMatrix,Jn=new Float32Array(2),Oo=new Float32Array([1/0,1/0,-1/0,-1/0]);function Pz(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,o,c){e.transform(t,i,r,s,o,c),this.__originalTransform(t,i,r,s,o,c)},n.setTransform=function(t,i,r,s,o,c){e.setTransform(t,i,r,s,o,c),this.__originalSetTransform(t,i,r,s,o,c)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,c){e.bezierCurveTo(t,i,r,s,o,c),this.__originalBezierCurveTo(t,i,r,s,o,c)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class Dz{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function Gd(n,e,t,i,r,s,o,c,u,h){const[f,p,g,v,w,b]=mt(n);if(p===0&&g===0){const M=o*f+w,_=Math.round(M),D=c*v+b,T=Math.round(D),P=(o+u)*f+w,R=Math.abs(Math.round(P)-_)||1,N=(c+h)*v+b,I=Math.abs(Math.round(N)-T)||1;return n.setTransform(Math.sign(f),0,0,Math.sign(v),_,T),n.drawImage(e,t,i,r,s,0,0,R,I),n.setTransform(f,p,g,v,w,b),[R,I]}if(f===0&&v===0){const M=c*g+w,_=Math.round(M),D=o*p+b,T=Math.round(D),P=(c+h)*g+w,R=Math.abs(Math.round(P)-_)||1,N=(o+u)*p+b,I=Math.abs(Math.round(N)-T)||1;return n.setTransform(0,Math.sign(p),Math.sign(g),0,_,T),n.drawImage(e,t,i,r,s,0,0,I,R),n.setTransform(f,p,g,v,w,b),[I,R]}n.drawImage(e,t,i,r,s,o,c,u,h);const A=Math.hypot(f,p),S=Math.hypot(g,v);return[A*u,S*h]}class FE{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Dy;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=sn.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t,i){i?.(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Oo.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=cn.FILL,t=null){const i=this.minMax.slice();if(e===cn.STROKE){t||nt("Stroke bounding box must include transform."),fe.singularValueDecompose2dScale(t,Jn);const r=Jn[0]*this.lineWidth/2,s=Jn[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=fe.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Oo,0)}getClippedPathBoundingBox(e=cn.FILL,t=null){return fe.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function UE(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Ln,s=(t-r)/Ln,o=r===0?s:s+1,c=n.createImageData(i,Ln);let u=0,h;const f=e.data,p=c.data;let g,v,w,b;if(e.kind===gh.GRAYSCALE_1BPP){const A=f.byteLength,S=new Uint32Array(p.buffer,0,p.byteLength>>2),M=S.length,_=i+7>>3,D=4294967295,T=hn.isLittleEndian?4278190080:255;for(g=0;g<o;g++){for(w=g<s?Ln:r,h=0,v=0;v<w;v++){const P=A-u;let R=0;const N=P>_?i:P*8-7,I=N&-8;let W=0,U=0;for(;R<I;R+=8)U=f[u++],S[h++]=U&128?D:T,S[h++]=U&64?D:T,S[h++]=U&32?D:T,S[h++]=U&16?D:T,S[h++]=U&8?D:T,S[h++]=U&4?D:T,S[h++]=U&2?D:T,S[h++]=U&1?D:T;for(;R<N;R++)W===0&&(U=f[u++],W=128),S[h++]=U&W?D:T,W>>=1}for(;h<M;)S[h++]=0;n.putImageData(c,0,g*Ln)}}else if(e.kind===gh.RGBA_32BPP){for(v=0,b=i*Ln*4,g=0;g<s;g++)p.set(f.subarray(u,u+b)),u+=b,n.putImageData(c,0,v),v+=Ln;g<o&&(b=i*r*4,p.set(f.subarray(u,u+b)),n.putImageData(c,0,v))}else if(e.kind===gh.RGB_24BPP)for(w=Ln,b=i*w,g=0;g<o;g++){for(g>=s&&(w=r,b=i*w),h=0,v=b;v--;)p[h++]=f[u++],p[h++]=f[u++],p[h++]=f[u++],p[h++]=255;n.putImageData(c,0,g*Ln)}else throw new Error(`bad image kind: ${e.kind}`)}function HE(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Ln,s=(t-r)/Ln,o=r===0?s:s+1,c=n.createImageData(i,Ln);let u=0;const h=e.data,f=c.data;for(let p=0;p<o;p++){const g=p<s?Ln:r;({srcPos:u}=Oz({src:h,srcPos:u,dest:f,width:i,height:g,nonBlackColor:0})),n.putImageData(c,0,p*Ln)}}function rc(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function Vd(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function $E(n,e){if(e)return!0;fe.singularValueDecompose2dScale(n,Jn);const t=Math.fround(nr.pixelRatio*zo.PDF_TO_CSS_UNITS);return Jn[0]<=t&&Jn[1]<=t}const kz=["butt","round","square"],Rz=["miter","round","bevel"],Nz={},qE={};class No{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:c=null},u,h,f){this.ctx=e,this.current=new FE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=o,this.cachedCanvases=new Dz(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=h,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=f??null}getObject(e,t,i=null){return typeof t=="string"?(this.dependencyTracker?.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=c,i){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...mt(this.compositeCtx))}this.ctx.save(),Vd(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=mt(this.ctx)}executeOperatorList(e,t,i,r,s){const o=e.argsArray,c=e.fnArray;let u=t||0;const h=o.length;if(h===u)return u;const f=h-u>zE&&typeof i=="function",p=f?Date.now()+Mz:0;let g=0;const v=this.commonObjs,w=this.objs;let b,A;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,i),u;if(!s||s(u))if(b=c[u],A=o[u]??null,b!==Cc.dependency)A===null?this[b](u):this[b](u,...A);else for(const S of A){this.dependencyTracker?.recordNamedData(S,u);const M=S.startsWith("g_")?v:w;if(!M.has(S))return M.get(S,i),u}if(u++,u===h)return u;if(f&&++g>zE){if(Date.now()>p)return i(),u;g=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),c=i,u=r,h="prescale1",f,p;for(;s>2&&c>1||o>2&&u>1;){let g=c,v=u;s>2&&c>1&&(g=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),s/=c/g),o>2&&u>1&&(v=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/v),f=this.cachedCanvases.getCanvas(h,g,v),p=f.context,p.clearRect(0,0,g,v),p.drawImage(e,0,0,c,u,0,0,g,v),e=f.canvas,c=g,u=v,h=h==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:u}}_createMaskCanvas(e,t){const i=this.ctx,{width:r,height:s}=t,o=this.current.fillColor,c=this.current.patternFill,u=mt(i);let h,f,p,g;if((t.bitmap||t.data)&&t.count>1){const W=t.bitmap||t.data.buffer;f=JSON.stringify(c?u:[u.slice(0,4),o]),h=this._cachedBitmapsMap.get(W),h||(h=new Map,this._cachedBitmapsMap.set(W,h));const U=h.get(f);if(U&&!c){const K=Math.round(Math.min(u[0],u[2])+u[4]),se=Math.round(Math.min(u[1],u[3])+u[5]);return this.dependencyTracker?.recordDependencies(e,vi.transformAndFill),{canvas:U,offsetX:K,offsetY:se}}p=U}p||(g=this.cachedCanvases.getCanvas("maskCanvas",r,s),HE(g.context,t));let v=fe.transform(u,[1/r,0,0,-1/s,0,0]);v=fe.transform(v,[1,0,0,1,0,-s]);const w=Oo.slice();fe.axialAlignedBoundingBox([0,0,r,s],v,w);const[b,A,S,M]=w,_=Math.round(S-b)||1,D=Math.round(M-A)||1,T=this.cachedCanvases.getCanvas("fillCanvas",_,D),P=T.context,R=b,N=A;P.translate(-R,-N),P.transform(...v),p||(p=this._scaleImage(g.canvas,Ki(P)),p=p.img,h&&c&&h.set(f,p)),P.imageSmoothingEnabled=$E(mt(P),t.interpolate),Gd(P,p,0,0,p.width,p.height,0,0,r,s),P.globalCompositeOperation="source-in";const I=fe.transform(Ki(P),[1,0,0,1,-R,-N]);return P.fillStyle=c?o.getPattern(i,this,I,cn.FILL,e):o,P.fillRect(0,0,r,s),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,T.canvas)),this.dependencyTracker?.recordDependencies(e,vi.transformAndFill),{canvas:T.canvas,offsetX:Math.round(R),offsetY:Math.round(N)}}setLineWidth(e,t){this.dependencyTracker?.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){this.dependencyTracker?.recordSimpleData("lineCap",e),this.ctx.lineCap=kz[t]}setLineJoin(e,t){this.dependencyTracker?.recordSimpleData("lineJoin",e),this.ctx.lineJoin=Rz[t]}setMiterLimit(e,t){this.dependencyTracker?.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){this.dependencyTracker?.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){for(const[i,r]of t)switch(i){case"LW":this.setLineWidth(e,r);break;case"LC":this.setLineCap(e,r);break;case"LJ":this.setLineJoin(e,r);break;case"ML":this.setMiterLimit(e,r);break;case"D":this.setDash(e,r[0],r[1]);break;case"RI":this.setRenderingIntent(e,r);break;case"FL":this.setFlatness(e,r);break;case"Font":this.setFont(e,r[0],r[1]);break;case"CA":this.dependencyTracker?.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=r;break;case"ca":this.dependencyTracker?.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=r;break;case"BM":this.dependencyTracker?.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=r;break;case"SMask":this.dependencyTracker?.recordSimpleData("SMask",e),this.current.activeSMask=r?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.dependencyTracker?.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(r);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),rc(this.suspendedCtx,o),Pz(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),rc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],c=r[2]-s,u=r[3]-o;c===0||u===0||(this.genericComposeSMask(t.context,i,c,u,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,c,u,h,f,p){let g=e.canvas,v=u-f,w=h-p;if(o)if(v<0||w<0||v+i>g.width||w+r>g.height){const A=this.cachedCanvases.getCanvas("maskExtension",i,r),S=A.context;S.drawImage(g,-v,-w),S.globalCompositeOperation="destination-atop",S.fillStyle=o,S.fillRect(0,0,i,r),S.globalCompositeOperation="source-over",g=A.canvas,v=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const A=new Path2D;A.rect(v,w,i,r),e.clip(A),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(v,w,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));const b=new Path2D;b.rect(u,h,i,r),t.clip(b),t.globalCompositeOperation="destination-in",t.drawImage(g,v,w,i,r,u,h,i,r),t.restore()}save(e){this.inSMaskMode&&rc(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),this.dependencyTracker?.save(e)}restore(e){if(this.dependencyTracker?.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&rc(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,o,c){this.dependencyTracker?.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,o,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||=i[0]=new Path2D,this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===Cc.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(e,["transform"])}s instanceof Path2D||(s=i[0]=j2(s)),fe.axialAlignedBoundingBox(r,mt(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&s?.getPattern){const o=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Ki(r),cn.STROKE,e),o){const c=new Path2D;c.addPath(t,r.getTransform().invertSelf().multiplySelf(o)),t=c}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);this.dependencyTracker?.recordDependencies(e,vi.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(cn.STROKE,mt(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){const r=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let c=!1;if(o){const h=s.isModifyingCurrentTransform()?r.getTransform():null;if(this.dependencyTracker?.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Ki(r),cn.FILL,e),h){const f=new Path2D;f.addPath(t,r.getTransform().invertSelf().multiplySelf(h)),t=f}c=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),this.dependencyTracker?.recordDependencies(e,vi.fill),c&&(r.restore(),this.dependencyTracker?.restore(e)),i&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){this.ctx.fill(t),this.dependencyTracker?.recordDependencies(e,vi.rawFillPath).recordOperation(e)}clip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=Nz}eoClip(e){this.dependencyTracker?.recordFutureForcedDependency("clipMode",e),this.pendingClip=qE}beginText(e){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,this.dependencyTracker?.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:o,x:c,y:u,fontSize:h,path:f}of t)f&&r.addPath(f,new DOMMatrix(o).preMultiplySelf(s).translate(c,u).scale(h,-h));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){this.dependencyTracker?.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){this.dependencyTracker?.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){this.dependencyTracker?.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){this.dependencyTracker?.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){this.dependencyTracker?.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||Dy,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&_e("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const o=r.loadedName||"sans-serif",c=r.systemFontInfo?.css||`"${o}", ${r.fallbackName}`;let u="normal";r.black?u="900":r.bold&&(u="bold");const h=r.italic?"italic":"normal";let f=i;i<IE?f=IE:i>BE&&(f=BE),this.current.fontSizeScale=i/f,this.ctx.font=`${h} ${u} ${f}px ${c}`}setTextRenderingMode(e,t){this.dependencyTracker?.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){this.dependencyTracker?.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){this.dependencyTracker?.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){this.dependencyTracker?.resetIncrementalData("sameLineText").recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){this.moveText(e,0,this.current.leading),this.dependencyTracker?.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}#i(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r}paintChar(e,t,i,r,s,o){const c=this.ctx,u=this.current,h=u.font,f=u.textRenderingMode,p=u.fontSize/u.fontSizeScale,g=f&sn.FILL_STROKE_MASK,v=!!(f&sn.ADD_TO_PATH_FLAG),w=u.patternFill&&!h.missingFile,b=u.patternStroke&&!h.missingFile;let A;if((h.disableFontFace||v||w||b)&&!h.missingFile&&(A=h.getPathGenerator(this.commonObjs,t)),A&&(h.disableFontFace||w||b)){c.save(),c.translate(i,r),c.scale(p,-p),this.dependencyTracker?.recordCharacterBBox(e,c,h);let S;if(g===sn.FILL||g===sn.FILL_STROKE)if(s){S=c.getTransform(),c.setTransform(...s);const M=this.#i(A,S,s);c.fill(M)}else c.fill(A);if(g===sn.STROKE||g===sn.FILL_STROKE)if(o){S||=c.getTransform(),c.setTransform(...o);const{a:M,b:_,c:D,d:T}=S,P=fe.inverseTransform(o),R=fe.transform([M,_,D,T,0,0],P);fe.singularValueDecompose2dScale(R,Jn),c.lineWidth*=Math.max(Jn[0],Jn[1])/p,c.stroke(this.#i(A,S,o))}else c.lineWidth/=p,c.stroke(A);c.restore()}else(g===sn.FILL||g===sn.FILL_STROKE)&&(c.fillText(t,i,r),this.dependencyTracker?.recordCharacterBBox(e,c,h,p,i,r,()=>c.measureText(t))),(g===sn.STROKE||g===sn.FILL_STROKE)&&(this.dependencyTracker&&this.dependencyTracker?.recordCharacterBBox(e,c,h,p,i,r,()=>c.measureText(t)).recordDependencies(e,vi.stroke),c.strokeText(t,i,r));v&&((this.pendingTextPaths||=[]).push({transform:mt(c),x:i,y:r,fontSize:p,path:A}),this.dependencyTracker?.recordCharacterBBox(e,c,h,p,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return Ce(this,"isFontSubpixelAAEnabled",i)}showText(e,t){this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,vi.showText).resetBBox(e),this.current.textRenderingMode&sn.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),this.dependencyTracker?.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){this.dependencyTracker?.recordOperation(e);return}const o=this.ctx,c=i.fontSizeScale,u=i.charSpacing,h=i.wordSpacing,f=i.fontDirection,p=i.textHScale*f,g=t.length,v=r.vertical,w=v?1:-1,b=r.defaultVMetrics,A=s*i.fontMatrix[0],S=i.textRenderingMode===sn.FILL&&!r.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),f>0?o.scale(p,-1):o.scale(p,1);let M,_;if(i.patternFill){o.save();const N=i.fillColor.getPattern(o,this,Ki(o),cn.FILL,e);M=mt(o),o.restore(),o.fillStyle=N}if(i.patternStroke){o.save();const N=i.strokeColor.getPattern(o,this,Ki(o),cn.STROKE,e);_=mt(o),o.restore(),o.strokeStyle=N}let D=i.lineWidth;const T=i.textMatrixScale;if(T===0||D===0){const N=i.textRenderingMode&sn.FILL_STROKE_MASK;(N===sn.STROKE||N===sn.FILL_STROKE)&&(D=this.getSinglePixelWidth())}else D/=T;if(c!==1&&(o.scale(c,c),D/=c),o.lineWidth=D,r.isInvalidPDFjsFont){const N=[];let I=0;for(const U of t)N.push(U.unicode),I+=U.width;const W=N.join("");if(o.fillText(W,0,0),this.dependencyTracker!==null){const U=o.measureText(W);this.dependencyTracker.recordBBox(e,this.ctx,-U.actualBoundingBoxLeft,U.actualBoundingBoxRight,-U.actualBoundingBoxAscent,U.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=I*A*p,o.restore(),this.compose();return}let P=0,R;for(R=0;R<g;++R){const N=t[R];if(typeof N=="number"){P+=w*N*s/1e3;continue}let I=!1;const W=(N.isSpace?h:0)+u,U=N.fontChar,K=N.accent;let se,oe,le=N.width;if(v){const te=N.vmetric||b,re=-(N.vmetric?te[1]:le*.5)*A,xe=te[2]*A;le=te?-te[0]:le,se=re/c,oe=(P+xe)/c}else se=P/c,oe=0;let B;if(r.remeasure&&le>0){B=o.measureText(U);const te=B.width*1e3/s*c;if(le<te&&this.isFontSubpixelAAEnabled){const re=le/te;I=!0,o.save(),o.scale(re,1),se/=re}else le!==te&&(se+=(le-te)/2e3*s/c)}if(this.contentVisible&&(N.isInFont||r.missingFile)){if(S&&!K)o.fillText(U,se,oe),this.dependencyTracker?.recordCharacterBBox(e,o,B?{bbox:null}:r,s/c,se,oe,()=>B??o.measureText(U));else if(this.paintChar(e,U,se,oe,M,_),K){const te=se+s*K.offset.x/c,re=oe-s*K.offset.y/c;this.paintChar(e,K.fontChar,te,re,M,_)}}const H=v?le*A-W*f:le*A+W*f;P+=H,I&&o.restore()}v?i.y-=P:i.x+=P*p,o.restore(),this.compose(),this.dependencyTracker?.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,o=r.fontSize,c=r.fontDirection,u=s.vertical?1:-1,h=r.charSpacing,f=r.wordSpacing,p=r.textHScale*c,g=r.fontMatrix||Dy,v=t.length,w=r.textRenderingMode===sn.INVISIBLE;let b,A,S,M;if(w||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(p,c);const _=this.dependencyTracker;for(this.dependencyTracker=_?new Ch(_,e):null,b=0;b<v;++b){if(A=t[b],typeof A=="number"){M=u*A*o/1e3,this.ctx.translate(M,0),r.x+=M*p;continue}const D=(A.isSpace?f:0)+h,T=s.charProcOperatorList[A.operatorListId];T?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...g),this.executeOperatorList(T),this.restore()):_e(`Type3 character "${A.operatorListId}" is not available.`);const P=[A.width,0];fe.applyTransform(P,g),S=P[0]*o+D,i.translate(S,0),r.x+=S*p}i.restore(),_&&(this.dependencyTracker=_)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,o,c){const u=new Path2D;u.rect(r,s,o-r,c-s),this.ctx.clip(u),this.dependencyTracker?.recordBBox(e,this.ctx,r,o,s,c).recordClipBox(e,this.ctx,r,o,s,c),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||mt(this.ctx),s={createCanvasGraphics:(o,c)=>new No(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Ch(this.dependencyTracker,c,!0):null)};i=new s0(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){this.dependencyTracker?.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){this.dependencyTracker?.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=Tz(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Ki(i),cn.SHADING,e);const s=Ki(i);if(s){const{width:o,height:c}=i.canvas,u=Oo.slice();fe.axialAlignedBoundingBox([0,0,o,c],s,u);const[h,f,p,g]=u;this.ctx.fillRect(h,f,p-h,g-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.dependencyTracker?.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,vi.transform).recordDependencies(e,vi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){nt("Should not call beginInlineImage")}beginImageData(){nt("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=mt(this.ctx),i)){fe.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[r,s,o,c]=i,u=new Path2D;u.rect(r,s,o-r,c-s),this.ctx.clip(u),this.dependencyTracker?.recordClipBox(e,this.ctx,r,o,s,c),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||_f("TODO: Support non-isolated groups."),t.knockout&&_e("Knockout groups not supported.");const r=mt(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=Oo.slice();fe.axialAlignedBoundingBox(t.bbox,mt(i),s);const o=[0,0,i.canvas.width,i.canvas.height];s=fe.intersect(s,o)||[0,0,0,0];const c=Math.floor(s[0]),u=Math.floor(s[1]),h=Math.max(Math.ceil(s[2])-c,1),f=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;t.smask&&(p+="_smask_"+this.smaskCounter++%2);const g=this.cachedCanvases.getCanvas(p,h,f),v=g.context;v.translate(-c,-u),v.transform(...r);let w=new Path2D;const[b,A,S,M]=t.bbox;if(w.rect(b,A,S-b,M-A),t.matrix){const _=new Path2D;_.addPath(w,new DOMMatrix(t.matrix)),w=_}v.clip(w),t.smask&&this.smaskStack.push({canvas:g.canvas,context:v,offsetX:c,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(c,u),i.save()),rc(i,v),this.ctx=v,this.dependencyTracker?.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,this.dependencyTracker?.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const s=mt(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...s);const o=Oo.slice();fe.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],s,o),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,r,s,o){if(this.#e(),Vd(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const c=i[2]-i[0],u=i[3]-i[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=c,i[3]=u,fe.singularValueDecompose2dScale(mt(this.ctx),Jn);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),p=Math.ceil(u*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:g,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(t,g),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(Jn[0],0,0,-Jn[1],0,u*Jn[1]),Vd(this.ctx)}else{Vd(this.ctx),this.endPath(e);const h=new Path2D;h.rect(i[0],i[1],c,u),this.ctx.clip(h)}}this.current=new FE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,o,c){if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const u=this.ctx;u.save();const h=mt(u);u.transform(i,r,s,o,0,0);const f=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]),this.dependencyTracker?.resetBBox(e);for(let p=0,g=c.length;p<g;p+=2){const v=fe.transform(h,[i,r,s,o,c[p],c[p+1]]);u.drawImage(f.canvas,v[4],v[5]),this.dependencyTracker?.recordBBox(e,this.ctx,v[4],v[4]+f.canvas.width,v[5],v[5]+f.canvas.height)}u.restore(),this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageMaskXObjectGroup(e,t){if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;this.dependencyTracker?.resetBBox(e).recordDependencies(e,vi.transformAndFill);for(const o of t){const{data:c,width:u,height:h,transform:f}=o,p=this.cachedCanvases.getCanvas("maskCanvas",u,h),g=p.context;g.save();const v=this.getObject(e,c,o);HE(g,v),g.globalCompositeOperation="source-in",g.fillStyle=s?r.getPattern(g,this,Ki(i),cn.FILL,e):r,g.fillRect(0,0,u,h),g.restore(),i.save(),i.transform(...f),i.scale(1,-1),Gd(i,p.canvas,0,0,u,h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,i,0,u,0,h),i.restore()}this.compose(),this.dependencyTracker?.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){_e("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){_e("Dependent image isn't ready yet");return}const c=o.width,u=o.height,h=[];for(let f=0,p=s.length;f<p;f+=2)h.push({transform:[i,0,0,r,s[f],s[f+1]],x:0,y:0,w:c,h:u});this.paintInlineImageXObjectGroup(e,o,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/i,-1/r);let c;if(t.bitmap)c=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)c=t;else{const f=this.cachedCanvases.getCanvas("inlineImage",i,r).context;UE(f,t),c=this.applyTransferMapsToCanvas(f)}const u=this._scaleImage(c,Ki(s));s.imageSmoothingEnabled=$E(mt(s),t.interpolate),this.dependencyTracker?.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,vi.imageXObject).recordOperation(e),Gd(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const o=t.width,c=t.height,h=this.cachedCanvases.getCanvas("inlineImage",o,c).context;UE(h,t),s=this.applyTransferMapsToCanvas(h)}this.dependencyTracker?.resetBBox(e);for(const o of i)r.save(),r.transform(...o.transform),r.scale(1,-1),Gd(r,s,o.x,o.y,o.w,o.h,0,-1,1,1),this.dependencyTracker?.recordBBox(e,r,0,1,-1,0),r.restore();this.dependencyTracker?.recordOperation(e),this.compose()}paintSolidColorImageMask(e){this.contentVisible&&(this.dependencyTracker?.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,vi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){this.dependencyTracker?.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){this.dependencyTracker?.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){this.dependencyTracker?.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===qE?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,this.dependencyTracker?.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):this.dependencyTracker?.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=mt(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,c;if(i===0&&r===0){const u=Math.abs(t),h=Math.abs(s);if(u===h)if(e===0)o=c=1/u;else{const f=u*e;o=c=f<1?1/f:1}else if(e===0)o=1/u,c=1/h;else{const f=u*e,p=h*e;o=f<1?1/f:1,c=p<1?1/p:1}}else{const u=Math.abs(t*s-i*r),h=Math.hypot(t,i),f=Math.hypot(r,s);if(e===0)o=f/u,c=h/u;else{const p=e*u;o=f>p?f/p:1,c=h>p?h/p:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){i.lineWidth=(r||1)*s,i.stroke(e);return}const c=i.getLineDash();t&&i.save(),i.scale(s,o),Gg.a=1/s,Gg.d=1/o;const u=new Path2D;if(u.addPath(e,Gg),c.length>0){const h=Math.max(s,o);i.setLineDash(c.map(f=>f/h)),i.lineDashOffset/=h}i.lineWidth=r||1,i.stroke(u),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const n in Cc)No.prototype[n]!==void 0&&(No.prototype[Cc[n]]=No.prototype[n]);class jo{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class jz{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const Eo=Symbol("INTERNAL");class Lz{#e=!1;#t=!1;#i=!1;#n=!0;constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){this.#e=!!(e&Qn.DISPLAY),this.#t=!!(e&Qn.PRINT),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(this.#i)return this.#n;if(!this.#n)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,i=!1){e!==Eo&&nt("Internal method `_setVisible` called."),this.#i=i,this.#n=t}}class Iz{#e=null;#t=new Map;#i=null;#n=null;constructor(e,t=Qn.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#n=e.order;for(const i of e.groups)this.#t.set(i.id,new Lz(t,i));if(e.baseState==="OFF")for(const i of this.#t.values())i._setVisible(Eo,!1);for(const i of e.on)this.#t.get(i)._setVisible(Eo,!0);for(const i of e.off)this.#t.get(i)._setVisible(Eo,!1);this.#i=this.getHash()}}#s(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=this.#s(s);else if(this.#t.has(s))o=this.#t.get(s).visible;else return _e(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return _f("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(_e(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return _e(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return _e(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return _e(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return _e(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return _e(`Unknown optional content policy ${e.policy}.`),!0}return _e(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){const r=this.#t.get(e);if(!r){_e(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const s of r.rbGroups)for(const o of s)o!==e&&this.#t.get(o)?._setVisible(Eo,!1,!0);r._setVisible(Eo,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=this.#t.get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#i===null||this.getHash()===this.#i}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new I2;for(const[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class Bz{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Be(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=c,s?.length>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,h)=>{this._onReceiveData({begin:u,chunk:h})}),e.addProgressListener((u,h)=>{this._onProgress({loaded:u,total:h})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Be(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Be(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new zz(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new Fz(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class zz{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=e0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class Fz{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function Uz(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let f=c(t);return f=unescape(f),f=u(f),f=h(f),s(f)}if(t=o(n),t){const f=h(t);return s(f)}if(t=i("filename","i").exec(n),t){t=t[1];let f=c(t);return f=h(f),s(f)}function i(f,p){return new RegExp("(?:^|;)\\s*"+f+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',p)}function r(f,p){if(f){if(!/^[\x00-\xFF]+$/.test(p))return p;try{const g=new TextDecoder(f,{fatal:!0}),v=Yc(p);p=g.decode(v),e=!1}catch{}}return p}function s(f){return e&&/[\x80-\xff]/.test(f)&&(f=r("utf-8",f),e&&(f=r("iso-8859-1",f))),f}function o(f){const p=[];let g;const v=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(g=v.exec(f))!==null;){let[,b,A,S]=g;if(b=parseInt(b,10),b in p){if(b===0)break;continue}p[b]=[A,S]}const w=[];for(let b=0;b<p.length&&b in p;++b){let[A,S]=p[b];S=c(S),A&&(S=unescape(S),b===0&&(S=u(S))),w.push(S)}return w.join("")}function c(f){if(f.startsWith('"')){const p=f.slice(1).split('\\"');for(let g=0;g<p.length;++g){const v=p[g].indexOf('"');v!==-1&&(p[g]=p[g].slice(0,v),p.length=g+1),p[g]=p[g].replaceAll(/\\(.)/g,"$1")}f=p.join('"')}return f}function u(f){const p=f.indexOf("'");if(p===-1)return f;const g=f.slice(0,p),w=f.slice(p+1).replace(/^[^']*'/,"");return r(g,w)}function h(f){return!f.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(f)?f:f.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(p,g,v,w){if(v==="q"||v==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(b,A){return String.fromCharCode(parseInt(A,16))}),r(g,w);try{w=atob(w)}catch{}return r(g,w)})}return""}function q2(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function Of(n){return URL.parse(n)?.origin??null}function G2({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function V2(n){const e=n.get("Content-Disposition");if(e){let t=Uz(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(e0(t))return t}return null}function Qc(n,e){return new _h(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function Y2(n){return n===200||n===206}function X2(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function W2(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(_e(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class Hz{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=q2(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Be(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new $z(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new qz(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class $z{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,X2(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=Of(s.url),!Y2(s.status))throw Qc(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:c,suggestedLength:u}=G2({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=u||this._contentLength,this._filename=V2(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ra("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:W2(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class qz{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const o=r.url;fetch(o,X2(s,this._withCredentials,this._abortController)).then(c=>{const u=Of(c.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!Y2(c.status))throw Qc(c.status,o);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:W2(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const Vg=200,Yg=206;function Gz(n){const e=n.response;return typeof e!="string"?e:Yc(e).buffer}class Vz{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:i}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=q2(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=Yg):r.expectedStatus=Vg,t.responseType="arraybuffer",Be(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){const i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||Vg;if(!(s===Vg&&i.expectedStatus===Yg)&&s!==i.expectedStatus){i.onError(r.status);return}const c=Gz(r);if(s===Yg){const u=r.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);h?i.onDone({begin:parseInt(h[1],10),chunk:c}):(_e('Missing or invalid "Content-Range" header.'),i.onError(0))}else c?i.onDone({begin:0,chunk:c}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class Yz{constructor(e){this._source=e,this._manager=new Vz(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Be(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new Xz(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new Wz(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Xz{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=Of(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(c=>{const[u,...h]=c.split(": ");return[u,h.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=G2({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=V2(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Qc(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class Wz{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=Of(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=Qc(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const Kz=/^[a-z][a-z0-9\-+.]+:/i;function Zz(n){if(Kz.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class Qz{constructor(e){this.source=e,this.url=Zz(e.url),Be(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Be(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new Jz(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new e4(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class Jz{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Qc(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ra("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class e4{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const ac=Symbol("INITIAL_DATA");class K2{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:ac}}get(e,t=null){if(t){const r=this.#t(e);return r.promise.then(()=>t(r.data)),null}const i=this.#e[e];if(!i||i.data===ac)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=this.#e[e];return!!t&&t.data!==ac}delete(e){const t=this.#e[e];return!t||t.data===ac?!1:(delete this.#e[e],!0)}resolve(e,t=null){const i=this.#t(e);i.data=t,i.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==ac&&(yield[e,t])}}}const t4=1e5,GE=30;class yn{#e=Promise.withResolvers();#t=null;#i=!1;#n=!!globalThis.FontInspector?.enabled;#s=null;#a=null;#r=0;#o=0;#c=null;#l=null;#h=0;#d=0;#f=Object.create(null);#g=[];#m=null;#u=[];#p=new WeakMap;#v=null;static#b=new Map;static#y=new Map;static#_=new WeakMap;static#S=null;static#w=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#m=e;else if(typeof e=="object")this.#m=new ReadableStream({start(u){u.enqueue(e),u.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#d=i.scale*nr.pixelRatio,this.#h=i.rotation,this.#a={div:null,properties:null,ctx:null};const{pageWidth:r,pageHeight:s,pageX:o,pageY:c}=i.rawDims;this.#v=[1,0,0,-1,-o,c+s],this.#o=r,this.#r=s,yn.#M(),bs(t,i),this.#e.promise.finally(()=>{yn.#w.delete(this),this.#a=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=hn.platform;return Ce(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#c.read().then(({value:t,done:i})=>{if(i){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#f,t.styles),this.#T(t.items),e()},this.#e.reject)};return this.#c=this.#m.getReader(),yn.#w.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const i=e.scale*nr.pixelRatio,r=e.rotation;if(r!==this.#h&&(t?.(),this.#h=r,bs(this.#l,{rotation:r})),i!==this.#d){t?.(),this.#d=i;const s={div:null,properties:null,ctx:yn.#P(this.#s)};for(const o of this.#u)s.properties=this.#p.get(o),s.div=o,this.#E(s)}}cancel(){const e=new Ra("TextLayer task cancelled.");this.#c?.cancel(e).catch(()=>{}),this.#c=null,this.#e.reject(e)}get textDivs(){return this.#u}get textContentItemsStr(){return this.#g}#T(e){if(this.#i)return;this.#a.ctx??=yn.#P(this.#s);const t=this.#u,i=this.#g;for(const r of e){if(t.length>t4){_e("Ignoring additional textDivs for performance reasons."),this.#i=!0;return}if(r.str===void 0){if(r.type==="beginMarkedContentProps"||r.type==="beginMarkedContent"){const s=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),r.id&&this.#t.setAttribute("id",`${r.id}`),s.append(this.#t)}else r.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(r.str),this.#x(r)}}#x(e){const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#u.push(t);const r=fe.transform(this.#v,e.transform);let s=Math.atan2(r[1],r[0]);const o=this.#f[e.fontName];o.vertical&&(s+=Math.PI/2);let c=this.#n&&o.fontSubstitution||o.fontFamily;c=yn.fontFamilyMap.get(c)||c;const u=Math.hypot(r[2],r[3]),h=u*yn.#I(c,o,this.#s);let f,p;s===0?(f=r[4],p=r[5]-h):(f=r[4]+h*Math.sin(s),p=r[5]-h*Math.cos(s));const g="calc(var(--total-scale-factor) *",v=t.style;this.#t===this.#l?(v.left=`${(100*f/this.#o).toFixed(2)}%`,v.top=`${(100*p/this.#r).toFixed(2)}%`):(v.left=`${g}${f.toFixed(2)}px)`,v.top=`${g}${p.toFixed(2)}px)`),v.fontSize=`${g}${(yn.#S*u).toFixed(2)}px)`,v.fontFamily=c,i.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#n&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),A=Math.abs(e.transform[3]);b!==A&&Math.max(b,A)/Math.min(b,A)>1.5&&(w=!0)}if(w&&(i.canvasWidth=o.vertical?e.height:e.width),this.#p.set(t,i),this.#a.div=t,this.#a.properties=i,this.#E(this.#a),i.hasText&&this.#t.append(t),i.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),this.#t.append(b)}}#E(e){const{div:t,properties:i,ctx:r}=e,{style:s}=t;let o="";if(yn.#S>1&&(o=`scale(${1/yn.#S})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:c}=s,{canvasWidth:u,fontSize:h}=i;yn.#O(r,h*this.#d,c);const{width:f}=r.measureText(t.textContent);f>0&&(o=`scaleX(${u*this.#d/f}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)}static cleanup(){if(!(this.#w.size>0)){this.#b.clear();for(const{canvas:e}of this.#y.values())e.remove();this.#y.clear()}}static#P(e=null){let t=this.#y.get(e||="");if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#y.set(e,t),this.#_.set(t,{size:0,family:""})}return t}static#O(e,t,i){const r=this.#_.get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)}static#M(){if(this.#S!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#S=e.getBoundingClientRect().height,e.remove()}static#I(e,t,i){const r=this.#b.get(e);if(r)return r;const s=this.#P(i);s.canvas.width=s.canvas.height=GE,this.#O(s,GE,e);const o=s.measureText(""),c=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let h=.8;return c?h=c/(c+u):(hn.platform.isFirefox&&_e("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?h=t.ascent:t.descent&&(h=1+t.descent)),this.#b.set(e,h),h}}const n4=100;function Z2(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new o0,{docId:t}=e,i=n.url?cz(n.url):null,r=n.data?uz(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,c=n.password??null,u=n.range instanceof Q2?n.range:null,h=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let f=n.worker instanceof Oc?n.worker:null;const p=n.verbosity,g=typeof n.docBaseUrl=="string"&&!Cf(n.docBaseUrl)?n.docBaseUrl:null,v=Ud(n.cMapUrl),w=n.cMapPacked!==!1,b=n.CMapReaderFactory||(bn?yz:DE),A=Ud(n.iccUrl),S=Ud(n.standardFontDataUrl),M=n.StandardFontDataFactory||(bn?bz:kE),_=Ud(n.wasmUrl),D=n.WasmFactory||(bn?xz:RE),T=n.stopAtErrors!==!0,P=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,R=n.isEvalSupported!==!1,N=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!bn,I=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!bn&&(hn.platform.isFirefox||!globalThis.chrome),W=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,U=typeof n.disableFontFace=="boolean"?n.disableFontFace:bn,K=n.fontExtraProperties===!0,se=n.enableXfa===!0,oe=n.ownerDocument||globalThis.document,le=n.disableRange===!0,B=n.disableStream===!0,H=n.disableAutoFetch===!0,te=n.pdfBug===!0,re=n.CanvasFactory||(bn?vz:pz),xe=n.FilterFactory||(bn?gz:mz),L=n.enableHWA===!0,V=n.useWasm!==!1,ne=u?u.length:n.length??NaN,ae=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!bn&&!U,me=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(b===DE&&M===kE&&D===RE&&v&&S&&_&&vc(v,document.baseURI)&&vc(S,document.baseURI)&&vc(_,document.baseURI)),we=null;I3(p);const ce={canvasFactory:new re({ownerDocument:oe,enableHWA:L}),filterFactory:new xe({docId:t,ownerDocument:oe}),cMapReaderFactory:me?null:new b({baseUrl:v,isCompressed:w}),standardFontDataFactory:me?null:new M({baseUrl:S}),wasmFactory:me?null:new D({baseUrl:_})};f||(f=Oc.create({verbosity:p,port:jo.workerPort}),e._worker=f);const at={docId:t,apiVersion:"5.4.449",data:r,password:c,disableAutoFetch:H,rangeChunkSize:h,length:ne,docBaseUrl:g,enableXfa:se,evaluatorOptions:{maxImageSize:P,disableFontFace:U,ignoreErrors:T,isEvalSupported:R,isOffscreenCanvasSupported:N,isImageDecoderSupported:I,canvasMaxAreaInBytes:W,fontExtraProperties:K,useSystemFonts:ae,useWasm:V,useWorkerFetch:me,cMapUrl:v,iccUrl:A,standardFontDataUrl:S,wasmUrl:_}},Q={ownerDocument:oe,pdfBug:te,styleElement:we,loadingParams:{disableAutoFetch:H,enableXfa:se}};return f.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Se=f.messageHandler.sendWithPromise("GetDocRequest",at,r?[r.buffer]:null);let Me;if(u)Me=new Bz(u,{disableRange:le,disableStream:B});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const ie=vc(i)?Hz:bn?Qz:Yz;Me=new ie({url:i,length:ne,httpHeaders:s,withCredentials:o,rangeChunkSize:h,disableRange:le,disableStream:B})}return Se.then(ie=>{if(e.destroyed)throw new Error("Loading aborted");if(f.destroyed)throw new Error("Worker was destroyed");const Tt=new yc(t,ie,f.port),Re=new a4(Tt,e,Me,Q,ce,L);e._transport=Re,Tt.send("Ready",null)})}).catch(e._capability.reject),e}class o0{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${o0.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}class Q2{#e=Promise.withResolvers();#t=[];#i=[];#n=[];#s=[];constructor(e,t,i=!1,r=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){this.#s.push(e)}addProgressListener(e){this.#n.push(e)}addProgressiveReadListener(e){this.#i.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const i of this.#s)i(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const i of this.#n)i(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#i)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){nt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class i4{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}extractPages(e){return this._transport.extractPages(e)}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class r4{#e=!1;constructor(e,t,i,r=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new EE:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new K2,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Wc({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ce(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=Ma.ENABLE,transform:o=null,background:c=null,optionalContentConfigPromise:u=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:g=!1,recordOperations:v=!1,operationsFilter:w=null}){this._stats?.time("Overall");const b=this._transport.getRenderingIntent(r,s,p,g),{renderingIntent:A,cacheKey:S}=b;this.#e=!1,u||=this._transport.getOptionalContentConfig(A);let M=this._intentStates.get(S);M||(M=Object.create(null),this._intentStates.set(S,M)),M.streamReaderCancelTimeout&&(clearTimeout(M.streamReaderCancelTimeout),M.streamReaderCancelTimeout=null);const _=!!(A&Qn.PRINT);M.displayReadyCapability||(M.displayReadyCapability=Promise.withResolvers(),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(b));const D=!!(this._pdfBug&&globalThis.StepperManager?.enabled),T=!this.recordedBBoxes&&(v||D),P=I=>{if(M.renderTasks.delete(R),T){const W=R.gfx?.dependencyTracker.take();W&&(R.stepper&&R.stepper.setOperatorBBoxes(W,R.gfx.dependencyTracker.takeDebugMetadata()),v&&(this.recordedBBoxes=W))}_&&(this.#e=!0),this.#t(),I?(R.capability.reject(I),this._abortOperatorList({intentState:M,reason:I instanceof Error?I:new Error(I)})):R.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},R=new Mo({callback:P,params:{canvas:t,canvasContext:e,dependencyTracker:T?new Az(t,M.operatorList.length,D):null,viewport:i,transform:o,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:M.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:f,enableHWA:this._transport.enableHWA,operationsFilter:w});(M.renderTasks||=new Set).add(R);const N=R.task;return Promise.all([M.displayReadyCapability.promise,u]).then(([I,W])=>{if(this.destroyed){P();return}if(this._stats?.time("Rendering"),!(W.renderingIntent&A))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");R.initializeGraphics({transparency:I,optionalContentConfig:W}),R.operatorListChanged()}).catch(P),N}getOperatorList({intent:e="display",annotationMode:t=Ma.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){function s(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,t,i,r,!0);let c=this._intentStates.get(o.cacheKey);c||(c=Object.create(null),this._intentStates.set(o.cacheKey,c));let u;return c.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(u),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(o)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Tc.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:u,done:h}){if(h){i(c);return}c.lang??=u.lang,Object.assign(c.styles,u.styles),c.items.push(...u.items),s()},r)}const o=t.getReader(),c={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new EE),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),h=this._intentStates.get(t);h.streamReader=u;const f=()=>{u.read().then(({value:p,done:g})=>{if(g){h.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(p,h),f())},p=>{if(h.streamReader=null,!this._transport.destroyed){if(h.operatorList){h.operatorList.lastChunk=!0;for(const g of h.renderTasks)g.operatorListChanged();this.#t()}if(h.displayReadyCapability)h.displayReadyCapability.reject(p);else if(h.opListReadCapability)h.opListReadCapability.reject(p);else throw p}})};f()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof Jb){let r=n4;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new Ra(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}var Da,Ri,Mr,fs,xf,ps,ms,En,vh,J2,eM,bc,Bo,yh;const ht=class ht{constructor({name:e=null,port:t=null,verbosity:i=B3()}={}){Xi(this,En);Xi(this,Da,Promise.withResolvers());Xi(this,Ri,null);Xi(this,Mr,null);Xi(this,fs,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(dt(ht,ms).has(t))throw new Error("Cannot use more than one PDFWorker per port.");dt(ht,ms).set(t,this),Wi(this,En,J2).call(this,t)}else Wi(this,En,eM).call(this)}get promise(){return dt(this,Da).promise}get port(){return dt(this,Mr)}get messageHandler(){return dt(this,Ri)}destroy(){this.destroyed=!0,dt(this,fs)?.terminate(),Nn(this,fs,null),dt(ht,ms).delete(dt(this,Mr)),Nn(this,Mr,null),dt(this,Ri)?.destroy(),Nn(this,Ri,null)}static create(e){const t=dt(this,ms).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new ht(e)}static get workerSrc(){if(jo.workerSrc)return jo.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ce(this,"_setupFakeWorkerGlobal",(async()=>dt(this,Bo,yh)?dt(this,Bo,yh):(await import(this.workerSrc)).WorkerMessageHandler)())}};Da=new WeakMap,Ri=new WeakMap,Mr=new WeakMap,fs=new WeakMap,xf=new WeakMap,ps=new WeakMap,ms=new WeakMap,En=new WeakSet,vh=function(){dt(this,Da).resolve(),dt(this,Ri).send("configure",{verbosity:this.verbosity})},J2=function(e){Nn(this,Mr,e),Nn(this,Ri,new yc("main","worker",e)),dt(this,Ri).on("ready",()=>{}),Wi(this,En,vh).call(this)},eM=function(){if(dt(ht,ps)||dt(ht,Bo,yh)){Wi(this,En,bc).call(this);return}let{workerSrc:e}=ht;try{ht._isSameOrigin(window.location,e)||(e=ht._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new yc("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?dt(this,Da).reject(new Error("Worker was destroyed")):Wi(this,En,bc).call(this)},s=new AbortController;t.addEventListener("error",()=>{dt(this,fs)||r()},{signal:s.signal}),i.on("test",c=>{if(s.abort(),this.destroyed||!c){r();return}Nn(this,Ri,i),Nn(this,Mr,t),Nn(this,fs,t),Wi(this,En,vh).call(this)}),i.on("ready",c=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{Wi(this,En,bc).call(this)}});const o=()=>{const c=new Uint8Array;i.send("test",c,[c.buffer])};o();return}catch{_f("The worker has been disabled.")}Wi(this,En,bc).call(this)},bc=function(){dt(ht,ps)||(_e("Setting up fake worker."),Nn(ht,ps,!0)),ht._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){dt(this,Da).reject(new Error("Worker was destroyed"));return}const t=new fz;Nn(this,Mr,t);const i=`fake${XS(ht,xf)._++}`,r=new yc(i+"_worker",i,t);e.setup(r,t),Nn(this,Ri,new yc(i,i+"_worker",t)),Wi(this,En,vh).call(this)}).catch(e=>{dt(this,Da).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Bo=new WeakSet,yh=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Xi(ht,Bo),Xi(ht,xf,0),Xi(ht,ps,!1),Xi(ht,ms,new WeakMap),bn&&(Nn(ht,ps,!0),jo.workerSrc||="./pdf.worker.mjs"),ht._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!i?.origin||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},ht._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},ht.fromPort=e=>{if(K3("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return ht.create(e)};let Oc=ht;class a4{#e=new Map;#t=new Map;#i=new Map;#n=new Map;#s=null;constructor(e,t,i,r,s,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new K2,this.fontLoader=new oz({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}#a(e,t=null){const i=this.#e.get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,r),r}get annotationStorage(){return Ce(this,"annotationStorage",new i0)}getRenderingIntent(e,t=Ma.ENABLE,i=null,r=!1,s=!1){let o=Qn.DISPLAY,c=Iy;switch(e){case"any":o=Qn.ANY;break;case"display":break;case"print":o=Qn.PRINT;break;default:_e(`getRenderingIntent - invalid intent: ${e}`)}const u=o&Qn.PRINT&&i instanceof B2?i:this.annotationStorage;switch(t){case Ma.DISABLE:o+=Qn.ANNOTATIONS_DISABLE;break;case Ma.ENABLE:break;case Ma.ENABLE_FORMS:o+=Qn.ANNOTATIONS_FORMS;break;case Ma.ENABLE_STORAGE:o+=Qn.ANNOTATIONS_STORAGE,c=u.serializable;break;default:_e(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=Qn.IS_EDITING),s&&(o+=Qn.OPLIST);const{ids:h,hash:f}=u.modifiedIds,p=[o,c.hash,f];return{renderingIntent:o,cacheKey:p.join("_"),annotationStorageSerializable:c,modifiedIds:h}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#i.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),yn.cleanup(),this._networkStream?.cancelAllRequests(new Ra("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Be(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Be(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{t.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(i,r)=>{Be(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:c}){if(c){r.close();return}Be(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new i4(i,this))}),e.on("DocException",i=>{t._capability.reject(jn(i))}),e.on("PasswordRequest",i=>{this.#s=Promise.withResolvers();try{if(!t.onPassword)throw jn(i);const r=s=>{s instanceof Error?this.#s.reject(s):this.#s.resolve({password:s})};t.onPassword(r,i.code)}catch(r){this.#s.reject(r)}return this.#s.promise}),e.on("DataLoaded",i=>{t.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const p=s.error;_e(`Error during font loading: ${p}`),this.commonObjs.resolve(i,p);break}const o=new et(s),c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(p,g)=>globalThis.FontInspector.fontAdded(p,g):null,u=new lz(o,c,s.extra,s.charProcOperatorList);this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!u.fontExtraProperties&&u.data&&u.clearData(),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":const{imageRef:h}=s;Be(h,"The imageRef must be defined.");for(const p of this.#t.values())for(const[,g]of p.objs)if(g?.ref===h)return g.dataLen?(this.commonObjs.resolve(i,structuredClone(g)),g.dataLen):null;break;case"FontPath":case"Image":this.commonObjs.resolve(i,s);break;case"Pattern":const f=new qt(s);this.commonObjs.resolve(i,f.getIR());break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{if(this.destroyed)return;const c=this.#t.get(r);if(!c.objs.has(i)){if(c._intentStates.size===0){o?.bitmap?.close();return}switch(s){case"Image":case"Pattern":c.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{this.destroyed||t.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&_e("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}extractPages(e){return this.messageHandler.sendWithPromise("ExtractPages",{pageInfos:e})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=this.#i.get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&this.#n.set(s.refStr,e);const o=new r4(t,s,this,this._params.pdfBug);return this.#t.set(t,o),o});return this.#i.set(t,r),r}getPageIndex(e){return By(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#a("GetFieldObjects")}hasJSActions(){return this.#a("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return this.#a("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#a("GetOptionalContentConfig").then(t=>new Iz(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>({info:r[0],metadata:r[1]?new jz(r[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null,hasStructTree:r[2]}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),yn.cleanup()}}cachedPageNumber(e){if(!By(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#n.get(t)??null}}class s4{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class Mo{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:c,canvasFactory:u,filterFactory:h,useRequestAnimationFrame:f=!1,pdfBug:p=!1,pageColors:g=null,enableHWA:v=!1,operationsFilter:w=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=c,this.canvasFactory=u,this.filterFactory=h,this._pdfBug=p,this.pageColors=g,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=f===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new s4(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=v,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=w}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(Mo.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Mo.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:o}=this.params,c=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new No(c,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),Mo.#t.delete(this._canvas),e||=new Jb(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.gfx.dependencyTracker?.growOperationsCount(this.operatorList.fnArray.length),this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Mo.#t.delete(this._canvas),this.callback())))}}const o4="5.4.449",l4="f44e5f0e6";class wi{#e=null;#t=null;#i;#n=null;#s=!1;#a=!1;#r=null;#o;#c=null;#l=null;static#h=null;static get _keyboardManager(){return Ce(this,"_keyboardManager",new Zc([[["Escape","mac+Escape"],wi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],wi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],wi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],wi.prototype._moveToPrevious],[["Home","mac+Home"],wi.prototype._moveToBeginning],[["End","mac+End"],wi.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#a=!1,this.#r=e):this.#a=!0,this.#l=e?._uiManager||t,this.#o=this.#l._eventBus,this.#i=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",wi.#h||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#r&&(e.ariaControls=`${this.#r.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#m.bind(this),{signal:t}),e.addEventListener("keydown",this.#g.bind(this),{signal:t});const i=this.#t=document.createElement("span");return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=this.#i,e.append(i),e}renderMainDropdown(){const e=this.#n=this.#d();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#d(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",_i,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#r&&(e.id=`${this.#r.id}_colorpicker_dropdown`);for(const[i,r]of this.#l.highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",wi.#h[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.ariaSelected=r===this.#i,s.addEventListener("click",this.#f.bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",this.#g.bind(this),{signal:t}),e}#f(e,t){t.stopPropagation(),this.#o.dispatch("switchannotationeditorparams",{source:this,type:Ie.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}const t=e.target.getAttribute("data-color");t&&this.#f(t,e)}_moveToNext(e){if(!this.#p){this.#m(e);return}if(e.target===this.#e){this.#n.firstElementChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#n?.firstElementChild||e.target===this.#e){this.#p&&this._hideDropdownFromKeyboard();return}this.#p||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#p){this.#m(e);return}this.#n.firstElementChild?.focus()}_moveToEnd(e){if(!this.#p){this.#m(e);return}this.#n.lastElementChild?.focus()}#g(e){wi._keyboardManager.exec(this,e)}#m(e){if(this.#p){this.hideDropdown();return}if(this.#s=e.detail===0,this.#c||(this.#c=new AbortController,window.addEventListener("pointerdown",this.#u.bind(this),{signal:this.#l.combinedSignal(this.#c)})),this.#e.ariaExpanded="true",this.#n){this.#n.classList.remove("hidden");return}const t=this.#n=this.#d();this.#e.append(t)}#u(e){this.#n?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#n?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#c?.abort(),this.#c=null}get#p(){return this.#n&&!this.#n.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#p){this.#r?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#n)return;const t=this.#l.highlightColors.values();for(const i of this.#n.children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#n?.remove(),this.#n=null}}class Mc{#e=null;#t=null;#i=null;static#n=null;constructor(e){this.#t=e,this.#i=e._uiManager,Mc.#n||=Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"})}renderButton(){if(this.#e)return this.#e;const{editorType:e,colorType:t,color:i}=this.#t,r=this.#e=document.createElement("input");return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",Mc.#n[e]),r.addEventListener("input",()=>{this.#i.updateParams(t,r.value)},{signal:this.#i._signal}),r}update(e){this.#e&&(this.#e.value=e)}destroy(){this.#e?.remove(),this.#e=null}hideDropdown(){}}function VE(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function sc(n){return Math.max(0,Math.min(255,255*n))}class YE{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=sc(e),[e,e,e]}static G_HTML([e]){const t=VE(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(sc)}static RGB_HTML(e){return`#${e.map(VE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[sc(1-Math.min(1,e+r)),sc(1-Math.min(1,i+r)),sc(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,c=Math.min(r,s,o);return["CMYK",r,s,o,c]}}class c4{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){nt("Abstract method `_createSVG` called.")}}class Th extends c4{_createSVG(e){return document.createElementNS(Cr,e)}}const u4=9,xs=new WeakSet,d4=new Date().getTimezoneOffset()*60*1e3;class Xg{static create(e){switch(e.data.annotationType){case Rt.LINK:return new l0(e);case Rt.TEXT:return new f4(e);case Rt.WIDGET:switch(e.data.fieldType){case"Tx":return new p4(e);case"Btn":return e.data.radioButton?new tM(e):e.data.checkBox?new g4(e):new v4(e);case"Ch":return new y4(e);case"Sig":return new m4(e)}return new Os(e);case Rt.POPUP:return new Uy(e);case Rt.FREETEXT:return new nM(e);case Rt.LINE:return new x4(e);case Rt.SQUARE:return new w4(e);case Rt.CIRCLE:return new A4(e);case Rt.POLYLINE:return new iM(e);case Rt.CARET:return new E4(e);case Rt.INK:return new c0(e);case Rt.POLYGON:return new S4(e);case Rt.HIGHLIGHT:return new rM(e);case Rt.UNDERLINE:return new _4(e);case Rt.SQUIGGLY:return new C4(e);case Rt.STRIKEOUT:return new T4(e);case Rt.STAMP:return new aM(e);case Rt.FILEATTACHMENT:return new O4(e);default:return new vt(e)}}}class vt{#e=null;#t=!1;#i=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,this.hasOwnCommentButton=!1,t&&(this.contentElement=this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return vt._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){const{data:e}=this,t=this.annotationStorage?.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){const e=this.annotationStorage?.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,o=-1/0;if(t?.length>=8){for(let c=0;c<t.length;c+=8)t[c+1]>o?(o=t[c+1],s=t[c+2]):t[c+1]===o&&(s=Math.max(s,t[c+2]));return[s,o]}if(i?.length>=1){for(const c of i)for(let u=0,h=c.length;u<h;u+=2)c[u+1]>o?(o=c[u+1],s=c[u]):c[u+1]===o&&(s=Math.max(s,c[u]));if(s!==1/0)return[s,o]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-o)/r,e}get commentText(){const{data:e}=this;return this.annotationStorage.getRawValue(`${_c}${e.id}`)?.popup?.contents||e.contentsObj?.str||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${_c}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){(this.#i?.popup||this.popup)?.remove(),this.#i=this.popup=null}updateEdited(e){if(!this.container)return;e.rect&&(this.#e||={rect:this.data.rect.slice(0)});const{rect:t,popup:i}=e;t&&this.#n(t);let r=this.#i?.popup||this.popup;!r&&i?.text&&(this._createPopup(i),r=this.#i.popup),r&&(r.updateEdited(e),i?.deleted&&(r.remove(),this.#i=null,this.popup=null))}resetEdited(){this.#e&&(this.#n(this.#e.rect),this.#i?.popup.resetEdited(),this.#e=null)}#n(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:c,pageY:u}}}}=this;i?.splice(0,4,...e),t.left=`${100*(e[0]-c)/s}%`,t.top=`${100*(o-e[3]+u)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Os)&&!(this instanceof l0)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Uy){const{rotation:b}=t;return!t.hasOwnCanvas&&b!==0&&this.setRotation(b,s),s}const{width:c,height:u}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const b=t.borderStyle.horizontalCornerRadius,A=t.borderStyle.verticalCornerRadius;if(b>0||A>0){const M=`calc(${b}px * var(--total-scale-factor)) / calc(${A}px * var(--total-scale-factor))`;o.borderRadius=M}else if(this instanceof tM){const M=`calc(${c}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=M}switch(t.borderStyle.style){case So.SOLID:o.borderStyle="solid";break;case So.DASHED:o.borderStyle="dashed";break;case So.BEVELED:_e("Unimplemented border style: beveled");break;case So.INSET:_e("Unimplemented border style: inset");break;case So.UNDERLINE:o.borderBottomStyle="solid";break}const S=t.borderColor||null;S?(this.#t=!0,o.borderColor=fe.makeHexColor(S[0]|0,S[1]|0,S[2]|0)):o.borderWidth=0}const h=fe.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:f,pageHeight:p,pageX:g,pageY:v}=r.rawDims;o.left=`${100*(h[0]-g)/f}%`,o.top=`${100*(h[1]-v)/p}%`;const{rotation:w}=t;return t.hasOwnCanvas||w===0?(o.width=`${100*c/f}%`,o.height=`${100*u/p}%`):this.setRotation(w,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],c=s.slice(1);r.target.style[i]=YE[`${o}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:YE[`${o}_rgb`](c)})};return Ce(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail))(e[r]||i[r])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const c={detail:{[r]:s},target:e};o(c),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(b=>Math.fround(b));if(e.length===8){const[b,A,S,M]=e.subarray(2,6);if(r===b&&s===A&&t===S&&i===M)return}const{style:o}=this.container;let c;if(this.#t){const{borderColor:b,borderWidth:A}=o;o.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${b}" stroke-width="${A}">`],this.container.classList.add("hasBorder")}const u=r-t,h=s-i,{svgFactory:f}=this,p=f.createElement("svg");p.classList.add("quadrilateralsContainer"),p.setAttribute("width",0),p.setAttribute("height",0),p.role="none";const g=f.createElement("defs");p.append(g);const v=f.createElement("clipPath"),w=`clippath_${this.data.id}`;v.setAttribute("id",w),v.setAttribute("clipPathUnits","objectBoundingBox"),g.append(v);for(let b=2,A=e.length;b<A;b+=8){const S=e[b],M=e[b+1],_=e[b+2],D=e[b+3],T=f.createElement("rect"),P=(_-t)/u,R=(s-M)/h,N=(S-_)/u,I=(M-D)/h;T.setAttribute("x",P),T.setAttribute("y",R),T.setAttribute("width",N),T.setAttribute("height",I),v.append(T),c?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${R}" width="${N}" height="${I}"/>`)}this.#t&&(c.push("</g></svg>')"),o.backgroundImage=c.join("")),this.container.append(p),this.container.style.clipPath=`url(#${w})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate),this.#i=new Uy({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]})}get hasPopupElement(){return!!(this.#i||this.popup||this.data.popupRef)}get extraPopupElement(){return this.#i}render(){nt("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:c}of r){if(s===-1||o===t)continue;const u=typeof c=="string"?c:null,h=document.querySelector(`[data-element-id="${o}"]`);if(h&&!xs.has(h)){_e(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:u,domElement:h})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&xs.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class h4 extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&this._createPopup(e.comment)}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.parent.removeAnnotation(this.data.id),this.container.remove(),this.container=null,this.removePopup()}}class l0 extends vt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(i,e.action,e.overlaidText),r=!0):e.attachment?(this.#t(i,e.attachment,e.overlaidText,e.attachmentDest),r=!0):e.setOCGState?(this.#i(i,e.setOCGState,e.overlaidText),r=!0):e.dest?(this._bindLink(i,e.dest,e.overlaidText),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),r=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(i,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&(this.contentElement=i,this.container.append(i)),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t,i=""){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e(),i&&(e.title=i)}_bindNamedAction(e,t,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),i&&(e.title=i),this.#e()}#t(e,t,i="",r=null){e.href=this.linkService.getAnchorUrl(""),t.description?e.title=t.description:i&&(e.title=i),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,r),!1),this.#e()}#i(e,t,i=""){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),i&&(e.title=i),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const s=i.get(r);s&&(e[s]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1))}t.overlaidText&&(e.title=t.overlaidText),e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){_e('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();const{fields:r,refs:s,include:o}=t,c=[];if(r.length!==0||s.length!==0){const f=new Set(s);for(const p of r){const g=this._fieldObjects[p]||[];for(const{id:v}of g)f.add(v)}for(const p of Object.values(this._fieldObjects))for(const g of p)f.has(g.id)===o&&c.push(g)}else for(const f of Object.values(this._fieldObjects))c.push(...f);const u=this.annotationStorage,h=[];for(const f of c){const{id:p}=f;switch(h.push(p),f.type){case"text":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}case"checkbox":case"radiobutton":{const v=f.defaultValue===f.exportValues;u.setValue(p,{value:v});break}case"combobox":case"listbox":{const v=f.defaultValue||"";u.setValue(p,{value:v});break}default:continue}const g=document.querySelector(`[data-element-id="${p}"]`);if(g){if(!xs.has(g)){_e(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;g.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}}),!1}}}class f4 extends vt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(e),this.container}}class Os extends vt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return hn.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}})})}_setEventListeners(e,t,i,r){for(const[s,o]of i)(o==="Action"||this.data.actions?.[o])&&((o==="Focus"||o==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,s,o,r),o==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):o==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":fe.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||u4,s=e.style;let o;const c=2,u=h=>Math.round(10*h)/10;if(this.data.multiLine){const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c),f=Math.round(h/(Fg*r))||1,p=h/f;o=Math.min(r,u(p/Fg))}else{const h=Math.abs(this.data.rect[3]-this.data.rect[1]-c);o=Math.min(r,u(h/Fg))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=fe.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class p4 extends Os{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const r=e.getValue(t,{value:this.data.fieldValue});let s=r.value||"";const o=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;o&&s.length>o&&(s=s.slice(0,o));let c=r.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const u={userValue:s,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??s,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??s),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),xs.add(i),this.contentElement=i,i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:h,datetimeType:f,timeStep:p}=this.data,g=!!f&&this.enableScripting;h&&(i.title=h),this._setRequired(i,this.data.required),o&&(i.maxLength=o),i.addEventListener("input",w=>{e.setValue(t,{value:w.target.value}),this.setPropertyOnSiblings(i,"value",w.target.value,"value"),u.formattedValue=null}),i.addEventListener("resetform",w=>{const b=this.data.defaultFieldValue??"";i.value=u.userValue=b,u.formattedValue=null});let v=w=>{const{formattedValue:b}=u;b!=null&&(w.target.value=b),w.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",b=>{if(u.focused)return;const{target:A}=b;if(g&&(A.type=f,p&&(A.step=p)),u.userValue){const S=u.userValue;if(g)if(f==="time"){const M=new Date(S),_=[M.getHours(),M.getMinutes(),M.getSeconds()];A.value=_.map(D=>D.toString().padStart(2,"0")).join(":")}else A.value=new Date(S-d4).toISOString().split(f==="date"?"T":".",1)[0];else A.value=S}u.lastCommittedValue=A.value,u.commitKey=1,this.data.actions?.Focus||(u.focused=!0)}),i.addEventListener("updatefromsandbox",b=>{this.showElementAndHideCanvas(b.target);const A={value(S){u.userValue=S.detail.value??"",g||e.setValue(t,{value:u.userValue.toString()}),S.target.value=u.userValue},formattedValue(S){const{formattedValue:M}=S.detail;u.formattedValue=M,M!=null&&S.target!==document.activeElement&&(S.target.value=M);const _={formattedValue:M};g&&(_.value=M),e.setValue(t,_)},selRange(S){S.target.setSelectionRange(...S.detail.selRange)},charLimit:S=>{const{charLimit:M}=S.detail,{target:_}=S;if(M===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",M);let D=u.userValue;!D||D.length<=M||(D=D.slice(0,M),_.value=u.userValue=D,e.setValue(t,{value:D}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:D,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(A,b)}),i.addEventListener("keydown",b=>{u.commitKey=1;let A=-1;if(b.key==="Escape"?A=0:b.key==="Enter"&&!this.data.multiLine?A=2:b.key==="Tab"&&(u.commitKey=3),A===-1)return;const{value:S}=b.target;u.lastCommittedValue!==S&&(u.lastCommittedValue=S,u.userValue=S,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:A,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}))});const w=v;v=null,i.addEventListener("blur",b=>{if(!u.focused||!b.relatedTarget)return;this.data.actions?.Blur||(u.focused=!1);const{target:A}=b;let{value:S}=A;if(g){if(S&&f==="time"){const M=S.split(":").map(_=>parseInt(_,10));S=new Date(2e3,0,1,M[0],M[1],M[2]||0).valueOf(),A.step=""}else S.includes("T")||(S=`${S}T00:00`),S=new Date(S).valueOf();A.type="text"}u.userValue=S,u.lastCommittedValue!==S&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:S,willCommit:!0,commitKey:u.commitKey,selStart:b.target.selectionStart,selEnd:b.target.selectionEnd}}),w(b)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",b=>{u.lastCommittedValue=null;const{data:A,target:S}=b,{value:M,selectionStart:_,selectionEnd:D}=S;let T=_,P=D;switch(b.inputType){case"deleteWordBackward":{const R=M.substring(0,_).match(/\w*[^\w]*$/);R&&(T-=R[0].length);break}case"deleteWordForward":{const R=M.substring(_).match(/^[^\w]*\w*/);R&&(P+=R[0].length);break}case"deleteContentBackward":_===D&&(T-=1);break;case"deleteContentForward":_===D&&(P+=1);break}b.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:M,change:A||"",willCommit:!1,selStart:T,selEnd:P}})}),this._setEventListeners(i,u,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],b=>b.target.value)}if(v&&i.addEventListener("blur",v),this.data.comb){const b=(this.data.rect[2]-this.data.rect[0])/o;i.classList.add("comb"),i.style.letterSpacing=`calc(${b}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class m4 extends Os{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class g4 extends Os{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return xs.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const h of this._getElementsByName(c,i)){const f=u&&h.exportValue===t.exportValue;h.domElement&&(h.domElement.checked=f),e.setValue(h.id,{value:f})}e.setValue(i,{value:u})}),s.addEventListener("resetform",o=>{const c=t.defaultFieldValue||"Off";o.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const c={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(i,{value:u.target.checked})}};this._dispatchEventFromSandbox(c,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class tM extends Os{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(xs.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:c,checked:u}=o.target;for(const h of this._getElementsByName(c,i))e.setValue(h.id,{value:!1});e.setValue(i,{value:u})}),s.addEventListener("resetform",o=>{const c=t.defaultFieldValue;o.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",c=>{const u={value:h=>{const f=o===h.detail.value;for(const p of this._getElementsByName(h.target.name)){const g=f&&p.id===i;p.domElement&&(p.domElement.checked=g),e.setValue(p.id,{value:g})}}};this._dispatchEventFromSandbox(u,c)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class v4 extends l0{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class y4 extends Os{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");xs.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",f=>{const p=this.data.defaultFieldValue;for(const g of r.options)g.selected=g.value===p});for(const f of this.data.options){const p=document.createElement("option");p.textContent=f.displayValue,p.value=f.exportValue,i.value.includes(f.exportValue)&&(p.setAttribute("selected",!0),s=!1),r.append(p)}let o=null;if(s){const f=document.createElement("option");f.value=" ",f.setAttribute("hidden",!0),f.setAttribute("selected",!0),r.prepend(f),o=()=>{f.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const c=f=>{const p=f?"value":"textContent",{options:g,multiple:v}=r;return v?Array.prototype.filter.call(g,w=>w.selected).map(w=>w[p]):g.selectedIndex===-1?null:g[g.selectedIndex][p]};let u=c(!1);const h=f=>{const p=f.target.options;return Array.prototype.map.call(p,g=>({displayValue:g.textContent,exportValue:g.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",f=>{const p={value(g){o?.();const v=g.detail.value,w=new Set(Array.isArray(v)?v:[v]);for(const b of r.options)b.selected=w.has(b.value);e.setValue(t,{value:c(!0)}),u=c(!1)},multipleSelection(g){r.multiple=!0},remove(g){const v=r.options,w=g.detail.remove;v[w].selected=!1,r.remove(w),v.length>0&&Array.prototype.findIndex.call(v,A=>A.selected)===-1&&(v[0].selected=!0),e.setValue(t,{value:c(!0),items:h(g)}),u=c(!1)},clear(g){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),u=c(!1)},insert(g){const{index:v,displayValue:w,exportValue:b}=g.detail.insert,A=r.children[v],S=document.createElement("option");S.textContent=w,S.value=b,A?A.before(S):r.append(S),e.setValue(t,{value:c(!0),items:h(g)}),u=c(!1)},items(g){const{items:v}=g.detail;for(;r.length!==0;)r.remove(0);for(const w of v){const{displayValue:b,exportValue:A}=w,S=document.createElement("option");S.textContent=b,S.value=A,r.append(S)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:c(!0),items:h(g)}),u=c(!1)},indices(g){const v=new Set(g.detail.indices);for(const w of g.target.options)w.selected=v.has(w.index);e.setValue(t,{value:c(!0)}),u=c(!1)},editable(g){g.target.disabled=!g.detail.editable}};this._dispatchEventFromSandbox(p,f)}),r.addEventListener("input",f=>{const p=c(!0),g=c(!1);e.setValue(t,{value:p}),f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:g,changeEx:p,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],f=>f.target.value)):r.addEventListener("input",function(f){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class Uy extends vt{constructor(e){const{data:t,elements:i,parent:r}=e,s=!!r._commentManager;if(super(e,{isRenderable:!s&&vt._hasPopupData(t)}),this.elements=i,s&&vt._hasPopupData(t)){const o=this.popup=this.#e();for(const c of i)c.popup=o}else this.popup=null}#e(){return new b4({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=this.#e(),i=[];for(const r of this.elements)r.popup=t,r.container.ariaHasPopup="dialog",i.push(r.data.id),r.addHighlightArea();return this.container.setAttribute("aria-controls",i.map(r=>`${To}${r}`).join(",")),this.container}}class b4{#e=null;#t=this.#q.bind(this);#i=this.#z.bind(this);#n=this.#R.bind(this);#s=this.#A.bind(this);#a=null;#r=null;#o=null;#c=null;#l=null;#h=null;#d=null;#f=!1;#g=null;#m=null;#u=null;#p=null;#v=null;#b=null;#y=null;#_=null;#S=null;#w=null;#T=!1;#x=null;#E=null;constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:c,parent:u,rect:h,parentRect:f,open:p,commentManager:g=null}){this.#r=e,this.#S=r,this.#o=o,this.#_=c,this.#h=u,this.#a=t,this.#y=h,this.#d=f,this.#l=i,this.#e=g,this.#x=i[0],this.#c=Ny.toDateObject(s),this.trigger=i.flatMap(v=>v.getElementsToTriggerPopup()),g||(this.#P(),this.#r.hidden=!0,p&&this.#A())}#P(){if(this.#m)return;this.#m=new AbortController;const{signal:e}=this.#m;for(const t of this.trigger)t.addEventListener("click",this.#s,{signal:e}),t.addEventListener("pointerenter",this.#n,{signal:e}),t.addEventListener("pointerleave",this.#i,{signal:e}),t.classList.add("popupTriggerArea");for(const t of this.#l)t.container?.addEventListener("keydown",this.#t,{signal:e})}#O(){const e=this.#l.find(t=>t.hasCommentButton);e&&(this.#v=e._normalizePoint(e.commentButtonPosition))}renderCommentButton(){if(this.#p){this.#p.parentNode||this.#x.container.after(this.#p);return}if(this.#v||this.#O(),!this.#v)return;const{signal:e}=this.#m=new AbortController,t=this.#x.hasOwnCommentButton,i=()=>{this.#e.toggleCommentPopup(this,!0,void 0,!t)},r=()=>{this.#e.toggleCommentPopup(this,!1,!0,!t)},s=()=>{this.#e.toggleCommentPopup(this,!1,!1)};if(t){this.#p=this.#x.container;for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=this.#p=document.createElement("button");o.className="annotationCommentButton";const c=this.#x.container;o.style.zIndex=c.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),this.#I(),this.#M(),o.addEventListener("keydown",this.#t,{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),c.after(o)}}#M(){if(this.#x.extraPopupElement&&!this.#x.editor)return;this.#p||this.renderCommentButton();const[e,t]=this.#v,{style:i}=this.#p;i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`}#I(){this.#x.extraPopupElement||(this.#p||this.renderCommentButton(),this.#p.style.backgroundColor=this.commentButtonColor||"")}get commentButtonColor(){const{color:e,opacity:t}=this.#x.commentData;return e?this.#h._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{this.#p?.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=this.#x.commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return this.#p}get comment(){return this.#E||=this.#x.commentText,this.#E}set comment(e){e!==this.comment&&(this.#x.commentText=this.#E=e)}focus(){this.#x.container?.focus()}get parentBoundingClientRect(){return this.#x.layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){this.#p&&(this.#p.classList.toggle("selected",e),this.#p.ariaExpanded=t)}setSelectedCommentButton(e){this.#p.classList.toggle("selected",e)}get commentPopupPosition(){if(this.#b)return this.#b;const{x:e,y:t,height:i}=this.#p.getBoundingClientRect(),{x:r,y:s,width:o,height:c}=this.#x.layer.getBoundingClientRect();return[(e-r)/o,(t+i-s)/c]}set commentPopupPosition(e){this.#b=e}hasDefaultPopupPosition(){return this.#b===null}get commentButtonPosition(){return this.#v}get commentButtonWidth(){return this.#p.getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=this.#b||this.commentButtonPosition.map(h=>h/100),r=this.parentBoundingClientRect,{x:s,y:o,width:c,height:u}=r;this.#e.showDialog(null,this,s+t*c,o+i*u,{...e,parentDimensions:r})}render(){if(this.#g)return;const e=this.#g=document.createElement("div");if(e.className="popup",this.#a){const i=e.style.outlineColor=fe.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${i} 30%, white)`}const t=document.createElement("span");if(t.className="header",this.#S?.str){const i=document.createElement("span");i.className="title",t.append(i),{dir:i.dir,str:i.textContent}=this.#S}if(e.append(t),this.#c){const i=document.createElement("time");i.className="popupDate",i.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),i.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#c.valueOf()})),i.dateTime=this.#c.toISOString(),t.append(i)}N2({html:this.#k||this.#o.str,dir:this.#o?.dir,className:"popupContent"},e),this.#r.append(e)}get#k(){const e=this.#_,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#_.html||null}get#N(){return this.#k?.attributes?.style?.fontSize||0}get#B(){return this.#k?.attributes?.style?.color||null}#j(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:this.#B,fontSize:this.#N?`calc(${this.#N}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i}#q(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#f)&&this.#A()}updateEdited({rect:e,popup:t,deleted:i}){if(this.#e){i?(this.remove(),this.#E=null):t&&(t.deleted?this.remove():(this.#I(),this.#E=t.text)),e&&(this.#v=null,this.#O(),this.#M());return}if(i||t?.deleted){this.remove();return}this.#P(),this.#w||={contentsObj:this.#o,richText:this.#_},e&&(this.#u=null),t&&t.text&&(this.#_=this.#j(t.text),this.#c=Ny.toDateObject(t.date),this.#o=null),this.#g?.remove(),this.#g=null}resetEdited(){this.#w&&({contentsObj:this.#o,richText:this.#_}=this.#w,this.#w=null,this.#g?.remove(),this.#g=null,this.#u=null)}remove(){if(this.#m?.abort(),this.#m=null,this.#g?.remove(),this.#g=null,this.#T=!1,this.#f=!1,this.#p?.remove(),this.#p=null,this.trigger)for(const e of this.trigger)e.classList.remove("popupTriggerArea")}#C(){if(this.#u!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=this.#h;let o=!!this.#d,c=o?this.#d:this.#y;for(const w of this.#l)if(!c||fe.intersect(w.data.rect,c)!==null){c=w.data.rect,o=!0;break}const u=fe.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),f=o?c[2]-c[0]+5:0,p=u[0]+f,g=u[1];this.#u=[100*(p-r)/t,100*(g-s)/i];const{style:v}=this.#r;v.left=`${this.#u[0]}%`,v.top=`${this.#u[1]}%`}#A(){if(this.#e){this.#e.toggleCommentPopup(this,!1);return}this.#f=!this.#f,this.#f?(this.#R(),this.#r.addEventListener("click",this.#s),this.#r.addEventListener("keydown",this.#t)):(this.#z(),this.#r.removeEventListener("click",this.#s),this.#r.removeEventListener("keydown",this.#t))}#R(){this.#g||this.render(),this.isVisible?this.#f&&this.#r.classList.add("focused"):(this.#C(),this.#r.hidden=!1,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)+1e3)}#z(){this.#r.classList.remove("focused"),!(this.#f||!this.isVisible)&&(this.#r.hidden=!0,this.#r.style.zIndex=parseInt(this.#r.style.zIndex)-1e3)}forceHide(){this.#T=this.isVisible,this.#T&&(this.#r.hidden=!0)}maybeShow(){this.#e||(this.#P(),this.#T&&(this.#g||this.#R(),this.#T=!1,this.#r.hidden=!1))}get isVisible(){return this.#e?!1:this.#r.hidden===!1}}class nM extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Te.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=this.contentElement=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class x4 extends vt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=this.#e=this.svgFactory.createElement("svg:line");return s.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),s.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),s.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),s.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),s.setAttribute("stroke-width",e.borderStyle.width||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class w4 extends vt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",s/2),o.setAttribute("y",s/2),o.setAttribute("width",t-s),o.setAttribute("height",i-s),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class A4 extends vt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:i}=this,r=this.svgFactory.create(t,i,!0),s=e.borderStyle.width,o=this.#e=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",i/2),o.setAttribute("rx",t/2-s/2),o.setAttribute("ry",i/2-s/2),o.setAttribute("stroke-width",s||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),r.append(o),this.container.append(r),!e.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class iM extends vt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:i,popupRef:r},width:s,height:o}=this;if(!t)return this.container;const c=this.svgFactory.create(s,o,!0);let u=[];for(let f=0,p=t.length;f<p;f+=2){const g=t[f]-e[0],v=e[3]-t[f+1];u.push(`${g},${v}`)}u=u.join(" ");const h=this.#e=this.svgFactory.createElement(this.svgElementName);return h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),c.append(h),this.container.append(c),!r&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class S4 extends iM{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class E4 extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container}}class c0 extends vt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Te.HIGHLIGHT:Te.INK}#i(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:i,borderStyle:r,popupRef:s}}=this,{transform:o,width:c,height:u}=this.#i(t,e),h=this.svgFactory.create(c,u,!0),f=this.#e=this.svgFactory.createElement("svg:g");h.append(f),f.setAttribute("stroke-width",r.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,g=i.length;p<g;p++){const v=this.svgFactory.createElement(this.svgElementName);this.#t.push(v),v.setAttribute("points",i[p].join(",")),f.append(v)}return!s&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:i,rect:r}=e,s=this.#e;if(t>=0&&s.setAttribute("stroke-width",t||1),i)for(let o=0,c=this.#t.length;o<c;o++)this.#t[o].setAttribute("points",i[o].join(","));if(r){const{transform:o,width:c,height:u}=this.#i(this.data.rotation,r);s.parentElement.setAttribute("viewBox",`0 0 ${c} ${u}`),s.setAttribute("transform",o)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class rM extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Te.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class _4 extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class C4 extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class T4 extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class aM extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Te.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&(this.hasOwnCommentButton=!0,this._createPopup()),this._editOnDoubleClick(),this.container}}class O4 extends vt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let i;t.hasAppearance||t.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;const{isMac:r}=hn.platform;return e.addEventListener("keydown",s=>{s.key==="Enter"&&(r?s.metaKey:s.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?(this.hasOwnCommentButton=!0,this._createPopup()):i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class u0{#e=null;#t=null;#i=null;#n=new Map;#s=null;#a=null;#r=[];#o=!1;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:c,commentManager:u,linkService:h,annotationStorage:f}){this.div=e,this.#e=t,this.#t=i,this.#s=c||null,this.#a=h||null,this.#i=f||new i0,this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=u||null}hasEditableAnnotations(){return this.#n.size>0}async render(e){const{annotations:t}=e,i=this.div;bs(i,this.viewport);const r=new Map,s=[],o={data:null,layer:i,linkService:this.#a,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Th,annotationStorage:this.#i,enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const u=c.annotationType===Rt.POPUP;if(u){const p=r.get(c.id);if(!p)continue;if(!this._commentManager){s.push(c);continue}o.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;o.data=c;const h=Xg.create(o);if(!h.isRenderable)continue;if(!u&&(this.#r.push(h),c.popupRef)){const p=r.get(c.popupRef);p?p.push(h):r.set(c.popupRef,[h])}const f=h.render();c.hidden&&(f.style.visibility="hidden"),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}await this.#c();for(const c of s){const u=o.elements=r.get(c.id);o.data=c;const h=Xg.create(o);if(!h.isRenderable)continue;const f=h.render();h.contentElement.id=`${To}${c.id}`,c.hidden&&(f.style.visibility="hidden"),u.at(-1).container.after(f)}this.#l()}async#c(){if(this.#r.length===0)return;this.div.replaceChildren();const e=[];if(!this.#o){this.#o=!0;for(const{contentElement:i,data:{id:r}}of this.#r){const s=i.id=`${To}${r}`;e.push(this.#s?.getAriaAttributes(s).then(o=>{if(o)for(const[c,u]of o)i.setAttribute(c,u)}))}}this.#r.sort(({data:{rect:[i,r,s,o]}},{data:{rect:[c,u,h,f]}})=>{if(i===s&&r===o)return 1;if(c===h&&u===f)return-1;const p=o,g=r,v=(r+o)/2,w=f,b=u,A=(u+f)/2;if(v>=w&&A<=g)return-1;if(A>=p&&v<=b)return 1;const S=(i+s)/2,M=(c+h)/2;return S-M});const t=document.createDocumentFragment();for(const i of this.#r)t.append(i.container),this._commentManager?(i.extraPopupElement?.popup||i.popup)?.renderCommentButton():i.extraPopupElement&&t.append(i.extraPopupElement.render());if(this.div.append(t),await Promise.all(e),this.#e)for(const i of this.#r)this.#e.addPointerInTextLayer(i.contentElement,!1)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:this.#a,svgFactory:new Th,parent:this};for(const i of e){i.borderStyle||=u0._defaultBorderStyle,t.data=i;const r=Xg.create(t);r.isRenderable&&(r.render(),r.contentElement.id=`${To}${i.id}`,this.#r.push(r))}await this.#c()}update({viewport:e}){const t=this.div;this.viewport=e,bs(t,{rotation:e.rotation}),this.#l(),t.hidden=!1}#l(){if(!this.#t)return;const e=this.div;for(const[t,i]of this.#t){const r=e.querySelector(`[data-annotation-id="${t}"]`);if(!r)continue;i.className="annotationContent";const{firstChild:s}=r;s?s.nodeName==="CANVAS"?s.replaceWith(i):s.classList.contains("annotationContent")?s.after(i):s.before(i):r.append(i);const o=this.#n.get(t);o&&(o._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,r.id,i),o._hasNoCanvas=!1):o.canvas=i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}addFakeAnnotation(e){const{div:t}=this,{id:i,rotation:r}=e,s=new h4({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:this.#a,annotationStorage:this.#i});return s.render(),s.contentElement.id=`${To}${i}`,s.createOrUpdatePopup(),this.#r.push(s),s}removeAnnotation(e){const t=this.#r.findIndex(r=>r.data.id===e);if(t<0)return;const[i]=this.#r.splice(t,1);this.#e?.removePointerInTextLayer(i.contentElement)}updateFakeAnnotations(e){if(e.length!==0){for(const t of e)t.updateFakeAnnotationElement(this);this.#c()}}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}static get _defaultBorderStyle(){return Ce(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:So.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}}const Yd=/\r\n?|\n/g;class Gt extends ye{#e="";#t=`${this.id}-editor`;#i=null;#n;_colorPicker=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Gt.prototype,t=s=>s.isEmpty(),i=Na.TRANSLATE_SMALL,r=Na.TRANSLATE_BIG;return Ce(this,"_keyboardManager",new Zc([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}static _type="freetext";static _editorType=Te.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.color=e.color||Gt._defaultColor||ye._defaultLineColor,this.#n=e.fontSize||Gt._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert"),this.canAddComment=!1}static initialize(e,t){ye.initialize(e,t);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Ie.FREETEXT_SIZE:Gt._defaultFontSize=t;break;case Ie.FREETEXT_COLOR:Gt._defaultColor=t;break}}updateParams(e,t){switch(e){case Ie.FREETEXT_SIZE:this.#s(t);break;case Ie.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[Ie.FREETEXT_SIZE,Gt._defaultFontSize],[Ie.FREETEXT_COLOR,Gt._defaultColor||ye._defaultLineColor]]}get propertiesToUpdate(){return[[Ie.FREETEXT_SIZE,this.#n],[Ie.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||=new Mc(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ie.FREETEXT_COLOR}#s(e){const t=r=>{this.editorDiv.style.fontSize=`calc(${r}px * var(--total-scale-factor))`,this.translate(0,-(r-this.#n)*this.parentScale),this.#n=r,this.#o()},i=this.#n;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}onUpdatedColor(){this.editorDiv.style.color=this.color,this._colorPicker?.update(this.color),super.onUpdatedColor()}#a(e){const t=r=>{this.color=r,this.onUpdatedColor()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Gt._internalPadding*e,-(Gt._internalPadding+this.#n)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;const e=this._uiManager.combinedSignal(this.#i);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#t),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const e=[];this.editorDiv.normalize();let t=null;for(const i of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(e.push(Gt.#c(i)),t=i);return e.join(`
`)}#o(){const[e,t]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:r,div:s}=this,o=s.style.display,c=s.classList.contains("hidden");s.classList.remove("hidden"),s.style.display="hidden",r.div.append(this.div),i=s.getBoundingClientRect(),s.remove(),s.style.display=o,s.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#e,t=this.#e=this.#r().trimEnd();if(e===t)return;const i=r=>{if(this.#e=r,!r){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#o()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#o()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Gt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#t),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[r,s]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[c,u]=this.getInitialTranslation();[c,u]=this.pageTranslationToScreen(c,u);const[h,f]=this.pageDimensions,[p,g]=this.pageTranslation;let v,w;switch(this.rotation){case 0:v=e+(o[0]-p)/h,w=t+this.height-(o[1]-g)/f;break;case 90:v=e+(o[0]-p)/h,w=t-(o[1]-g)/f,[c,u]=[u,-c];break;case 180:v=e-this.width+(o[0]-p)/h,w=t-(o[1]-g)/f,[c,u]=[-c,-u];break;case 270:v=e+(o[0]-p-this.height*f)/h,w=t+(o[1]-g-this.width*h)/f,[c,u]=[-u,c];break}this.setAt(v*r,w*s,c,u)}else this._moveAfterPaste(e,t);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Yd,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:i}=t;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();const r=Gt.#d(t.getData("text")||"").replaceAll(Yd,`
`);if(!r)return;const s=window.getSelection();if(!s.rangeCount)return;this.editorDiv.normalize(),s.deleteFromDocument();const o=s.getRangeAt(0);if(!r.includes(`
`)){o.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),s.collapseToStart();return}const{startContainer:c,startOffset:u}=o,h=[],f=[];if(c.nodeType===Node.TEXT_NODE){const v=c.parentElement;if(f.push(c.nodeValue.slice(u).replaceAll(Yd,"")),v!==this.editorDiv){let w=h;for(const b of this.editorDiv.childNodes){if(b===v){w=f;continue}w.push(Gt.#c(b))}}h.push(c.nodeValue.slice(0,u).replaceAll(Yd,""))}else if(c===this.editorDiv){let v=h,w=0;for(const b of this.editorDiv.childNodes)w++===u&&(v=f),v.push(Gt.#c(b))}this.#e=`${h.join(`
`)}${r}${f.join(`
`)}`,this.#l();const p=new Range;let g=Math.sumPrecise(h.map(v=>v.length));for(const{firstChild:v}of this.editorDiv.childNodes)if(v.nodeType===Node.TEXT_NODE){const w=v.nodeValue.length;if(g<=w){p.setStart(v,g),p.setEnd(v,g);break}g-=w}s.removeAllRanges(),s.addRange(p)}#l(){if(this.editorDiv.replaceChildren(),!!this.#e)for(const e of this.#e.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#h(){return this.#e.replaceAll(""," ")}static#d(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}getPDFRect(){const e=Gt._internalPadding*this.parentScale;return this.getRect(e,e)}static async deserialize(e,t,i){let r=null;if(e instanceof nM){const{data:{defaultAppearanceData:{fontSize:o,fontColor:c},rect:u,rotation:h,id:f,popupRef:p,richText:g,contentsObj:v,creationDate:w,modificationDate:b},textContent:A,textPosition:S,parent:{page:{pageNumber:M}}}=e;if(!A||A.length===0)return null;r=e={annotationType:Te.FREETEXT,color:Array.from(c),fontSize:o,value:A.join(`
`),position:S,pageIndex:M-1,rect:u.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:v?.str||null,richText:g,creationDate:w,modificationDate:b}}const s=await super.deserialize(e,t,i);return s.#n=e.fontSize,s.color=fe.makeHexColor(...e.color),s.#e=Gt.#d(e.value),s._initialData=r,e.comment&&s.setCommentData(e),s}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=ye._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),i=Object.assign(super.serialize(e),{color:t,fontSize:this.#n,value:this.#h()});return this.addComment(i),e?(i.isCopy=!0,i):this.annotationElementId&&!this.#f(i)?null:(i.id=this.annotationElementId,i)}#f(e){const{value:t,fontSize:i,color:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((o,c)=>o!==r[c])||e.pageIndex!==s}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(!t)return null;const{style:i}=t;i.fontSize=`calc(${this.#n}px * var(--total-scale-factor))`,i.color=this.color,t.replaceChildren();for(const r of this.#e.split(`
`)){const s=document.createElement("div");s.append(r?document.createTextNode(r):document.createElement("br")),t.append(s)}return e.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:this.#e}}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class ue{static PRECISION=1e-4;toSVGPath(){nt("Abstract method `toSVGPath` must be implemented.")}get box(){nt("Abstract getter `box` must be implemented.")}serialize(e,t){nt("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,o){o||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)o[c]=t+e[c]*r,o[c+1]=i+e[c+1]*s;return o}static _rescaleAndSwap(e,t,i,r,s,o){o||=new Float32Array(e.length);for(let c=0,u=e.length;c<u;c+=2)o[c]=t+e[c+1]*r,o[c+1]=i+e[c]*s;return o}static _translate(e,t,i,r){r||=new Float32Array(e.length);for(let s=0,o=e.length;s<o;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,o){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+o)/6,(i+s)/2,(r+o)/2]}}class cs{#e;#t=[];#i;#n;#s=[];#a=new Float32Array(18);#r;#o;#c;#l;#h;#d;#f=[];static#g=8;static#m=2;static#u=cs.#g+cs.#m;constructor({x:e,y:t},i,r,s,o,c=0){this.#e=i,this.#d=s*r,this.#n=o,this.#a.set([NaN,NaN,NaN,NaN,e,t],6),this.#i=c,this.#l=cs.#g*r,this.#c=cs.#u*r,this.#h=r,this.#f.push(e,t)}isEmpty(){return isNaN(this.#a[8])}#p(){const e=this.#a.subarray(4,6),t=this.#a.subarray(16,18),[i,r,s,o]=this.#e;return[(this.#r+(e[0]-t[0])/2-i)/s,(this.#o+(e[1]-t[1])/2-r)/o,(this.#r+(t[0]-e[0])/2-i)/s,(this.#o+(t[1]-e[1])/2-r)/o]}add({x:e,y:t}){this.#r=e,this.#o=t;const[i,r,s,o]=this.#e;let[c,u,h,f]=this.#a.subarray(8,12);const p=e-h,g=t-f,v=Math.hypot(p,g);if(v<this.#c)return!1;const w=v-this.#l,b=w/v,A=b*p,S=b*g;let M=c,_=u;c=h,u=f,h+=A,f+=S,this.#f?.push(e,t);const D=-S/w,T=A/w,P=D*this.#d,R=T*this.#d;return this.#a.set(this.#a.subarray(2,8),0),this.#a.set([h+P,f+R],4),this.#a.set(this.#a.subarray(14,18),12),this.#a.set([h-P,f-R],16),isNaN(this.#a[6])?(this.#s.length===0&&(this.#a.set([c+P,u+R],2),this.#s.push(NaN,NaN,NaN,NaN,(c+P-i)/s,(u+R-r)/o),this.#a.set([c-P,u-R],14),this.#t.push(NaN,NaN,NaN,NaN,(c-P-i)/s,(u-R-r)/o)),this.#a.set([M,_,c,u,h,f],6),!this.isEmpty()):(this.#a.set([M,_,c,u,h,f],6),Math.abs(Math.atan2(_-u,M-c)-Math.atan2(S,A))<Math.PI/2?([c,u,h,f]=this.#a.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+h)/2-i)/s,((u+f)/2-r)/o),[c,u,M,_]=this.#a.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((M+c)/2-i)/s,((_+u)/2-r)/o),!0):([M,_,c,u,h,f]=this.#a.subarray(0,6),this.#s.push(((M+5*c)/6-i)/s,((_+5*u)/6-r)/o,((5*c+h)/6-i)/s,((5*u+f)/6-r)/o,((c+h)/2-i)/s,((u+f)/2-r)/o),[h,f,c,u,M,_]=this.#a.subarray(12,18),this.#t.push(((M+5*c)/6-i)/s,((_+5*u)/6-r)/o,((5*c+h)/6-i)/s,((5*u+f)/6-r)/o,((c+h)/2-i)/s,((u+f)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#s,t=this.#t;if(isNaN(this.#a[6])&&!this.isEmpty())return this.#v();const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);this.#y(i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return this.#b(i),i.join(" ")}#v(){const[e,t,i,r]=this.#e,[s,o,c,u]=this.#p();return`M${(this.#a[2]-e)/i} ${(this.#a[3]-t)/r} L${(this.#a[4]-e)/i} ${(this.#a[5]-t)/r} L${s} ${o} L${c} ${u} L${(this.#a[16]-e)/i} ${(this.#a[17]-t)/r} L${(this.#a[14]-e)/i} ${(this.#a[15]-t)/r} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#y(e){const[t,i,r,s]=this.#e,o=this.#a.subarray(4,6),c=this.#a.subarray(16,18),[u,h,f,p]=this.#p();e.push(`L${(o[0]-t)/r} ${(o[1]-i)/s} L${u} ${h} L${f} ${p} L${(c[0]-t)/r} ${(c[1]-i)/s}`)}newFreeDrawOutline(e,t,i,r,s,o){return new sM(e,t,i,r,s,o)}getOutlines(){const e=this.#s,t=this.#t,i=this.#a,[r,s,o,c]=this.#e,u=new Float32Array((this.#f?.length??0)+2);for(let p=0,g=u.length-2;p<g;p+=2)u[p]=(this.#f[p]-r)/o,u[p+1]=(this.#f[p+1]-s)/c;if(u[u.length-2]=(this.#r-r)/o,u[u.length-1]=(this.#o-s)/c,isNaN(i[6])&&!this.isEmpty())return this.#_(u);const h=new Float32Array(this.#s.length+24+this.#t.length);let f=e.length;for(let p=0;p<f;p+=2){if(isNaN(e[p])){h[p]=h[p+1]=NaN;continue}h[p]=e[p],h[p+1]=e[p+1]}f=this.#w(h,f);for(let p=t.length-6;p>=6;p-=6)for(let g=0;g<6;g+=2){if(isNaN(t[p+g])){h[f]=h[f+1]=NaN,f+=2;continue}h[f]=t[p+g],h[f+1]=t[p+g+1],f+=2}return this.#S(h,f),this.newFreeDrawOutline(h,u,this.#e,this.#h,this.#i,this.#n)}#_(e){const t=this.#a,[i,r,s,o]=this.#e,[c,u,h,f]=this.#p(),p=new Float32Array(36);return p.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,c,u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(p,e,this.#e,this.#h,this.#i,this.#n)}#S(e,t){const i=this.#t;return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6}#w(e,t){const i=this.#a.subarray(4,6),r=this.#a.subarray(16,18),[s,o,c,u]=this.#e,[h,f,p,g]=this.#p();return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/c,(i[1]-o)/u,NaN,NaN,NaN,NaN,h,f,NaN,NaN,NaN,NaN,p,g,NaN,NaN,NaN,NaN,(r[0]-s)/c,(r[1]-o)/u],t),t+=24}}class sM extends ue{#e;#t=new Float32Array(4);#i;#n;#s;#a;#r;constructor(e,t,i,r,s,o){super(),this.#r=e,this.#s=t,this.#e=i,this.#a=r,this.#i=s,this.#n=o,this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],this.#o(o);const[c,u,h,f]=this.#t;for(let p=0,g=e.length;p<g;p+=2)e[p]=(e[p]-c)/h,e[p+1]=(e[p+1]-u)/f;for(let p=0,g=t.length;p<g;p+=2)t[p]=(t[p]-c)/h,t[p+1]=(t[p+1]-u)/f}toSVGPath(){const e=[`M${this.#r[4]} ${this.#r[5]}`];for(let t=6,i=this.#r.length;t<i;t+=6){if(isNaN(this.#r[t])){e.push(`L${this.#r[t+4]} ${this.#r[t+5]}`);continue}e.push(`C${this.#r[t]} ${this.#r[t+1]} ${this.#r[t+2]} ${this.#r[t+3]} ${this.#r[t+4]} ${this.#r[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,i,r],s){const o=i-e,c=r-t;let u,h;switch(s){case 0:u=ue._rescale(this.#r,e,r,o,-c),h=ue._rescale(this.#s,e,r,o,-c);break;case 90:u=ue._rescaleAndSwap(this.#r,e,t,o,c),h=ue._rescaleAndSwap(this.#s,e,t,o,c);break;case 180:u=ue._rescale(this.#r,i,t,-o,c),h=ue._rescale(this.#s,i,t,-o,c);break;case 270:u=ue._rescaleAndSwap(this.#r,i,r,-o,-c),h=ue._rescaleAndSwap(this.#s,i,r,-o,-c);break}return{outline:Array.from(u),points:[Array.from(h)]}}#o(e){const t=this.#r;let i=t[4],r=t[5];const s=[i,r,i,r];let o=i,c=r,u=i,h=r;const f=e?Math.max:Math.min,p=new Float32Array(4);for(let v=6,w=t.length;v<w;v+=6){const b=t[v+4],A=t[v+5];isNaN(t[v])?(fe.pointBoundingBox(b,A,s),c>A?(o=b,c=A):c===A&&(o=f(o,b)),h<A?(u=b,h=A):h===A&&(u=f(u,b))):(p[0]=p[1]=1/0,p[2]=p[3]=-1/0,fe.bezierBoundingBox(i,r,...t.slice(v,v+6),p),fe.rectBoundingBox(p[0],p[1],p[2],p[3],s),c>p[1]?(o=p[0],c=p[1]):c===p[1]&&(o=f(o,p[0])),h<p[3]?(u=p[2],h=p[3]):h===p[3]&&(u=f(u,p[2]))),i=b,r=A}const g=this.#t;g[0]=s[0]-this.#i,g[1]=s[1]-this.#i,g[2]=s[2]-s[0]+2*this.#i,g[3]=s[3]-s[1]+2*this.#i,this.firstPoint=[o,c],this.lastPoint=[u,h]}get box(){return this.#t}newOutliner(e,t,i,r,s,o=0){return new cs(e,t,i,r,s,o)}getNewOutline(e,t){const[i,r,s,o]=this.#t,[c,u,h,f]=this.#e,p=s*h,g=o*f,v=i*h+c,w=r*f+u,b=this.newOutliner({x:this.#s[0]*p+v,y:this.#s[1]*g+w},this.#e,this.#a,e,this.#n,t??this.#i);for(let A=2;A<this.#s.length;A+=2)b.add({x:this.#s[A]*p+v,y:this.#s[A+1]*g+w});return b.getOutlines()}}class Hy{#e;#t;#i;#n=[];#s=[];constructor(e,t=0,i=0,r=!0){const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:b,y:A,width:S,height:M}of e){const _=Math.floor((b-t)/o)*o,D=Math.ceil((b+S+t)/o)*o,T=Math.floor((A-t)/o)*o,P=Math.ceil((A+M+t)/o)*o,R=[_,T,P,!0],N=[D,T,P,!1];this.#n.push(R,N),fe.rectBoundingBox(_,T,D,P,s)}const c=s[2]-s[0]+2*i,u=s[3]-s[1]+2*i,h=s[0]-i,f=s[1]-i;let p=r?-1/0:1/0,g=1/0;const v=this.#n.at(r?-1:-2),w=[v[0],v[2]];for(const b of this.#n){const[A,S,M,_]=b;!_&&r?S<g?(g=S,p=A):S===g&&(p=Math.max(p,A)):_&&!r&&(S<g?(g=S,p=A):S===g&&(p=Math.min(p,A))),b[0]=(A-h)/c,b[1]=(S-f)/u,b[2]=(M-f)/u}this.#e=new Float32Array([h,f,c,u]),this.#t=[p,g],this.#i=w}getOutlines(){this.#n.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#c(t),e.push(...this.#l(t)));return this.#a(e)}#a(e){const t=[],i=new Set;for(const o of e){const[c,u,h]=o;t.push([c,u,o],[c,h,o])}t.sort((o,c)=>o[1]-c[1]||o[0]-c[0]);for(let o=0,c=t.length;o<c;o+=2){const u=t[o][2],h=t[o+1][2];u.push(h),h.push(u),i.add(u),i.add(h)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[c,u,h,f,p]=o;i.delete(o);let g=c,v=u;for(s=[c,h],r.push(s);;){let w;if(i.has(f))w=f;else if(i.has(p))w=p;else break;i.delete(w),[c,u,h,f,p]=w,g!==c&&(s.push(g,v,c,v===u?u:h),g=c),v=v===u?h:u}s.push(g,v)}return new M4(r,this.#e,this.#t,this.#i)}#r(e){const t=this.#s;let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1}#o([,e,t]){const i=this.#r(e);this.#s.splice(i,0,[e,t])}#c([,e,t]){const i=this.#r(e);for(let r=i;r<this.#s.length;r++){const[s,o]=this.#s[r];if(s!==e)break;if(s===e&&o===t){this.#s.splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=this.#s[r];if(s!==e)break;if(s===e&&o===t){this.#s.splice(r,1);return}}}#l(e){const[t,i,r]=e,s=[[t,i,r]],o=this.#r(r);for(let c=0;c<o;c++){const[u,h]=this.#s[c];for(let f=0,p=s.length;f<p;f++){const[,g,v]=s[f];if(!(h<=g||v<=u)){if(g>=u){if(v>h)s[f][1]=h;else{if(p===1)return[];s.splice(f,1),f--,p--}continue}s[f][2]=u,v>h&&s.push([t,h,v])}}}return s}}class M4 extends ue{#e;#t;constructor(e,t,i,r){super(),this.#t=e,this.#e=t,this.firstPoint=i,this.lastPoint=r}toSVGPath(){const e=[];for(const t of this.#t){let[i,r]=t;e.push(`M${i} ${r}`);for(let s=2;s<t.length;s+=2){const o=t[s],c=t[s+1];o===i?(e.push(`V${c}`),r=c):c===r&&(e.push(`H${o}`),i=o)}e.push("Z")}return e.join(" ")}serialize([e,t,i,r],s){const o=[],c=i-e,u=r-t;for(const h of this.#t){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=e+h[p]*c,f[p+1]=r-h[p+1]*u;o.push(f)}return o}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class $y extends cs{newFreeDrawOutline(e,t,i,r,s,o){return new P4(e,t,i,r,s,o)}}class P4 extends sM{newOutliner(e,t,i,r,s,o=0){return new $y(e,t,i,r,s,o)}}class St extends ye{#e=null;#t=0;#i;#n=null;#s=null;#a=null;#r=null;#o=0;#c=null;#l=null;#h=null;#d=!1;#f=null;#g=null;#m=null;#u="";#p;#v="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Te.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=St.prototype;return Ce(this,"_keyboardManager",new Zc([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||St._defaultColor,this.#p=e.thickness||St._defaultThickness,this.opacity=e.opacity||St._defaultOpacity,this.#i=e.boxes||null,this.#v=e.methodOfCreation||"",this.#u=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#d=!0,this.#y(e),this.#x()):this.#i&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#r=e.focusNode,this.#o=e.focusOffset,this.#b(),this.#x(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#d?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:this.#p,methodOfCreation:this.#v}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new Hy(this.#i,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new Hy(this.#i,.0025,.001,this._uiManager.direction==="ltr");this.#a=t.getOutlines();const{firstPoint:i}=this.#l;this.#f=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height];const{lastPoint:r}=this.#a;this.#g=[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]}#y({highlightOutlines:e,highlightId:t,clipPathId:i}){this.#l=e;const r=1.5;if(this.#a=e.getNewOutline(this.#p/2+r,.0025),t>=0)this.#h=t,this.#n=i,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#m=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:St.#E(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#m,{bbox:St.#E(this.#a.box,p),path:{d:this.#a.toSVGPath()}})}const[s,o,c,u]=e.box;switch(this.rotation){case 0:this.x=s,this.y=o,this.width=c,this.height=u;break;case 90:{const[p,g]=this.parentDimensions;this.x=o,this.y=1-s,this.width=c*g/p,this.height=u*p/g;break}case 180:this.x=1-s,this.y=1-o,this.width=c,this.height=u;break;case 270:{const[p,g]=this.parentDimensions;this.x=1-o,this.y=s,this.width=c*g/p,this.height=u*p/g;break}}const{firstPoint:h}=e;this.#f=[(h[0]-s)/c,(h[1]-o)/u];const{lastPoint:f}=this.#a;this.#g=[(f[0]-s)/c,(f[1]-o)/u]}static initialize(e,t){ye.initialize(e,t),St._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Ie.HIGHLIGHT_COLOR:St._defaultColor=t;break;case Ie.HIGHLIGHT_THICKNESS:St._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#g}get commentButtonPosition(){return this.#f}updateParams(e,t){switch(e){case Ie.HIGHLIGHT_COLOR:this.#_(t);break;case Ie.HIGHLIGHT_THICKNESS:this.#S(t);break}}static get defaultPropertiesToUpdate(){return[[Ie.HIGHLIGHT_COLOR,St._defaultColor],[Ie.HIGHLIGHT_THICKNESS,St._defaultThickness]]}get propertiesToUpdate(){return[[Ie.HIGHLIGHT_COLOR,this.color||St._defaultColor],[Ie.HIGHLIGHT_THICKNESS,this.#p||St._defaultThickness],[Ie.HIGHLIGHT_FREE,this.#d]]}onUpdatedColor(){this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:this.color,"fill-opacity":this.opacity}}),this.#s?.updateColor(this.color),super.onUpdatedColor()}#_(e){const t=(s,o)=>{this.color=s,this.opacity=o,this.onUpdatedColor()},i=this.color,r=this.opacity;this.addCommands({cmd:t.bind(this,e,St._defaultOpacity),undo:t.bind(this,i,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(e)},!0)}#S(e){const t=this.#p,i=r=>{this.#p=r,this.#w(r)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ie.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#s=new wi({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#M())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#x(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#x(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#w(e){this.#d&&(this.#y({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition(),this.setDims())}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#m),this.#m=null)}#x(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#n}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:this.#d},path:{d:this.#l.toSVGPath()}},!1,!0),this.#m=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#d},bbox:this.#a.box,path:{d:this.#a.toSVGPath()}},this.#d),this.#c&&(this.#c.style.clipPath=this.#n))}static#E([e,t,i,r],s){switch(s){case 90:return[1-t-r,e,r,i];case 180:return[1-e-i,1-t-r,i,r];case 270:return[t,1-e-i,r,i]}return[e,t,i,r]}rotate(e){const{drawLayer:t}=this.parent;let i;this.#d?(e=(e-this.rotation+360)%360,i=St.#E(this.#l.box,e)):i=St.#E([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:i,root:{"data-main-rotation":e}}),t.updateProperties(this.#m,{bbox:St.#E(this.#a.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#u&&(e.setAttribute("aria-label",this.#u),e.setAttribute("role","mark")),this.#d?e.classList.add("free"):this.div.addEventListener("keydown",this.#P.bind(this),{signal:this._uiManager._signal});const t=this.#c=document.createElement("div");return e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#n,this.setDims(),L2(this,this.#c,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1}})}#P(e){St._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#O(!0);break;case 1:case 3:this.#O(!1);break}}#O(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#r,this.#o)}select(){super.select(),this.#m&&this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#m&&(this.parent?.drawLayer.updateProperties(this.#m,{rootClass:{selected:!1}}),this.#d||this.#O(!1))}get _mustFixPosition(){return!this.#d}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#m,{rootClass:{hidden:!e}}))}#M(){return this.#d?this.rotation:0}#I(){if(this.#d)return null;const[e,t]=this.pageDimensions,[i,r]=this.pageTranslation,s=this.#i,o=new Float32Array(s.length*8);let c=0;for(const{x:u,y:h,width:f,height:p}of s){const g=u*e+i,v=(1-h)*t+r;o[c]=o[c+4]=g,o[c+1]=o[c+3]=v,o[c+2]=o[c+6]=g+f*e,o[c+5]=o[c+7]=v-p*t,c+=8}return o}#k(e){return this.#l.serialize(e,this.#M())}static startHighlighting(e,t,{target:i,x:r,y:s}){const{x:o,y:c,width:u,height:h}=i.getBoundingClientRect(),f=new AbortController,p=e.combinedSignal(f),g=v=>{f.abort(),this.#B(e,v)};window.addEventListener("blur",g,{signal:p}),window.addEventListener("pointerup",g,{signal:p}),window.addEventListener("pointerdown",xt,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",_i,{signal:p}),i.addEventListener("pointermove",this.#N.bind(this,e),{signal:p}),this._freeHighlight=new $y({x:r,y:s},[o,c,u,h],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#N(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#B(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,i){let r=null;if(e instanceof rM){const{data:{quadPoints:w,rect:b,rotation:A,id:S,color:M,opacity:_,popupRef:D,richText:T,contentsObj:P,creationDate:R,modificationDate:N},parent:{page:{pageNumber:I}}}=e;r=e={annotationType:Te.HIGHLIGHT,color:Array.from(M),opacity:_,quadPoints:w,boxes:null,pageIndex:I-1,rect:b.slice(0),rotation:A,annotationElementId:S,id:S,deleted:!1,popupRef:D,richText:T,comment:P?.str||null,creationDate:R,modificationDate:N}}else if(e instanceof c0){const{data:{inkLists:w,rect:b,rotation:A,id:S,color:M,borderStyle:{rawWidth:_},popupRef:D,richText:T,contentsObj:P,creationDate:R,modificationDate:N},parent:{page:{pageNumber:I}}}=e;r=e={annotationType:Te.HIGHLIGHT,color:Array.from(M),thickness:_,inkLists:w,boxes:null,pageIndex:I-1,rect:b.slice(0),rotation:A,annotationElementId:S,id:S,deleted:!1,popupRef:D,richText:T,comment:P?.str||null,creationDate:R,modificationDate:N}}const{color:s,quadPoints:o,inkLists:c,opacity:u}=e,h=await super.deserialize(e,t,i);h.color=fe.makeHexColor(...s),h.opacity=u||1,c&&(h.#p=e.thickness),h._initialData=r,e.comment&&h.setCommentData(e);const[f,p]=h.pageDimensions,[g,v]=h.pageTranslation;if(o){const w=h.#i=[];for(let b=0;b<o.length;b+=8)w.push({x:(o[b]-g)/f,y:1-(o[b+1]-v)/p,width:(o[b+2]-o[b])/f,height:(o[b+1]-o[b+5])/p});h.#b(),h.#x(),h.rotate(h.rotation)}else if(c){h.#d=!0;const w=c[0],b={x:w[0]-g,y:p-(w[1]-v)},A=new $y(b,[0,0,f,p],1,h.#p/2,!0,.001);for(let _=0,D=w.length;_<D;_+=2)b.x=w[_]-g,b.y=p-(w[_+1]-v),A.add(b);const{id:S,clipPathId:M}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:A.toSVGPath()}},!0,!0);h.#y({highlightOutlines:A.getOutlines(),highlightId:S,clipPathId:M}),h.#x(),h.rotate(h.parentRotation)}return h}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=ye._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),i=super.serialize(e);return Object.assign(i,{color:t,opacity:this.opacity,thickness:this.#p,quadPoints:this.#I(),outlines:this.#k(i.rect)}),this.addComment(i),this.annotationElementId&&!this.#j(i)?null:(i.id=this.annotationElementId,i)}#j(e){const{color:t}=this._initialData;return this.hasEditedComment||e.color.some((i,r)=>i!==t[r])}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}}class oM{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){nt("Not implemented")}}class qe extends ye{#e=null;#t;_colorPicker=null;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#i=null;static#n=null;static#s=null;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}onUpdatedColor(){this._colorPicker?.update(this.color),super.onUpdatedColor()}_addOutlines(e){e.drawOutlines&&(this.#a(e),this.#c())}#a({drawOutlines:e,drawId:t,drawingOptions:i}){this.#e=e,this._drawingOptions||=i,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#r(e,this.parent),this.#d(e.box)}#r(e,t){const{id:i}=t.drawLayer.draw(qe._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return i}static _mergeSVGProperties(e,t){const i=new Set(Object.keys(e));for(const[r,s]of Object.entries(t))i.has(r)?Object.assign(e[r],s):e[r]=s;return e}static getDefaultDrawingOptions(e){nt("Not implemented")}static get typesMap(){nt("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const i=this.typesMap.get(e);i&&this._defaultDrawingOptions.updateProperty(i,t),this._currentParent&&(qe.#i.updateProperty(i,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const i=this.constructor.typesMap.get(e);i&&this._updateProperty(e,i,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[i,r]of this.typesMap)e.push([i,t[r]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[i,r]of this.constructor.typesMap)e.push([i,t[r]]);return e}_updateProperty(e,t,i){const r=this._drawingOptions,s=r[t],o=c=>{r.updateProperty(t,c);const u=this.#e.updateProperty(t,c);u&&this.#d(u),this.parent?.drawLayer.updateProperties(this._drawId,r.toSVGProperties()),e===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#h()),{bbox:this.#f()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#h()),{bbox:this.#f()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#f()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#h(),this.parentDimensions),{bbox:this.#f()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#o(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#c(),this.#d(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#o()):e&&(this._uiManager.addShouldRescale(this),this.#c(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#o(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#c(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#r(this.#e,e)}}#l([e,t,i,r]){const{parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[t,1-e,i*(o/s),r*(s/o)];case 180:return[1-e,1-t,i,r];case 270:return[1-t,e,i*(o/s),r*(s/o)];default:return[e,t,i,r]}}#h(){const{x:e,y:t,width:i,height:r,parentDimensions:[s,o],rotation:c}=this;switch(c){case 90:return[1-t,e,i*(s/o),r*(o/s)];case 180:return[1-e,1-t,i,r];case 270:return[t,1-e,i*(s/o),r*(o/s)];default:return[e,t,i,r]}}#d(e){[this.x,this.y,this.width,this.height]=this.#l(e),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()}#f(){const{x:e,y:t,width:i,height:r,rotation:s,parentRotation:o,parentDimensions:[c,u]}=this;switch((s*4+o)/90){case 1:return[1-t-r,e,r,i];case 2:return[1-e-i,1-t-r,i,r];case 3:return[t,1-e-i,r,i];case 4:return[e,t-i*(c/u),r*(u/c),i*(c/u)];case 5:return[1-t,e,i*(c/u),r*(u/c)];case 6:return[1-e-r*(u/c),1-t,r*(u/c),i*(c/u)];case 7:return[t-i*(c/u),1-e-r*(u/c),i*(c/u),r*(u/c)];case 8:return[e-i,t-r,i,r];case 9:return[1-t,e-i,r,i];case 10:return[1-e,1-t,i,r];case 11:return[t-r,1-e,r,i];case 12:return[e-r*(u/c),t,r*(u/c),i*(c/u)];case 13:return[1-t-i*(c/u),e-r*(u/c),i*(c/u),r*(u/c)];case 14:return[1-e,1-t-i*(c/u),r*(u/c),i*(c/u)];case 15:return[t,1-e,i*(c/u),r*(u/c)];default:return[e,t,i,r]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,qe._mergeSVGProperties({bbox:this.#f()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#d(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const i=super.render();i.classList.add("draw");const r=document.createElement("div");return i.append(r),r.setAttribute("aria-hidden","true"),r.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),i}static createDrawerInstance(e,t,i,r,s){nt("Not implemented")}static startDrawing(e,t,i,r){const{target:s,offsetX:o,offsetY:c,pointerId:u,pointerType:h}=r;if(Ge.isInitializedAndDifferentPointerType(h))return;const{viewport:{rotation:f}}=e,{width:p,height:g}=s.getBoundingClientRect(),v=qe.#n=new AbortController,w=e.combinedSignal(v);if(Ge.setPointer(h,u),window.addEventListener("pointerup",b=>{Ge.isSamePointerIdOrRemove(b.pointerId)&&this._endDraw(b)},{signal:w}),window.addEventListener("pointercancel",b=>{Ge.isSamePointerIdOrRemove(b.pointerId)&&this._currentParent.endDrawingSession()},{signal:w}),window.addEventListener("pointerdown",b=>{Ge.isSamePointerType(b.pointerType)&&(Ge.initializeAndAddPointerId(b.pointerId),qe.#i.isCancellable()&&(qe.#i.removeLastElement(),qe.#i.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",_i,{signal:w}),s.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),s.addEventListener("touchmove",b=>{Ge.isSameTimeStamp(b.timeStamp)&&xt(b)},{signal:w}),e.toggleDrawing(),t._editorUndoBar?.hide(),qe.#i){e.drawLayer.updateProperties(this._currentDrawId,qe.#i.startNew(o,c,p,g,f));return}t.updateUIForDefaultProperties(this),qe.#i=this.createDrawerInstance(o,c,p,g,f),qe.#s=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(qe.#s.toSVGProperties(),qe.#i.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Ge.isSameTimeStamp(e.timeStamp),!qe.#i)return;const{offsetX:t,offsetY:i,pointerId:r}=e;if(Ge.isSamePointerId(r)){if(Ge.isUsingMultiplePointers()){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,qe.#i.add(t,i)),Ge.setTimeStamp(e.timeStamp),xt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,qe.#i=null,qe.#s=null,Ge.clearPointerType(),Ge.clearTimeStamp()),qe.#n&&(qe.#n.abort(),qe.#n=null,Ge.clearPointerIds())}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,qe.#i.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const i=qe.#i,r=this._currentDrawId,s=i.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(r,i.setLastElement(s))},undo:()=>{t.drawLayer.updateProperties(r,i.removeLastElement())},mustExec:!1,type:Ie.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Ie.DRAW_STEP),!qe.#i.isEmpty()){const{pageDimensions:[i,r],scale:s}=t,o=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:qe.#i.getOutlines(i*s,r*s,s,this._INNER_MARGIN),drawingOptions:qe.#s,mustBeCommitted:!e});return this._cleanup(!0),o}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,i,r,s,o){nt("Not implemented")}static async deserialize(e,t,i){const{rawDims:{pageWidth:r,pageHeight:s,pageX:o,pageY:c}}=t.viewport,u=this.deserializeDraw(o,c,r,s,this._INNER_MARGIN,e),h=await super.deserialize(e,t,i);return h.createDrawingOptions(e),h.#a({drawOutlines:u}),h.#c(),h.onScaleChanging(),h.rotate(),h}serializeDraw(e){const[t,i]=this.pageTranslation,[r,s]=this.pageDimensions;return this.#e.serialize([t,i,r,s],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}}class D4{#e=new Float64Array(6);#t;#i;#n;#s;#a;#r="";#o=0;#c=new Jc;#l;#h;constructor(e,t,i,r,s,o){this.#l=i,this.#h=r,this.#n=s,this.#s=o,[e,t]=this.#d(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t],this.#i=[{line:c,points:this.#a}],this.#e.set(c,0)}updateProperty(e,t){e==="stroke-width"&&(this.#s=t)}#d(e,t){return ue._normalizePoint(e,t,this.#l,this.#h,this.#n)}isEmpty(){return!this.#i||this.#i.length===0}isCancellable(){return this.#a.length<=10}add(e,t){[e,t]=this.#d(e,t);const[i,r,s,o]=this.#e.subarray(2,6),c=e-s,u=t-o;return Math.hypot(this.#l*c,this.#h*u)<=2?null:(this.#a.push(e,t),isNaN(i)?(this.#e.set([s,o,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([i,r,s,o,e,t],0),this.#t.push(...ue.createBezierPoints(i,r,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(this.#a.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){this.#l=i,this.#h=r,this.#n=s,[e,t]=this.#d(e,t);const o=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#a=[e,t];const c=this.#i.at(-1);return c&&(c.line=new Float32Array(c.line),c.points=new Float32Array(c.points)),this.#i.push({line:o,points:this.#a}),this.#e.set(o,0),this.#o=0,this.toSVGPath(),null}getLastElement(){return this.#i.at(-1)}setLastElement(e){return this.#i?(this.#i.push(e),this.#t=e.line,this.#a=e.points,this.#o=0,{path:{d:this.toSVGPath()}}):this.#c.setLastElement(e)}removeLastElement(){if(!this.#i)return this.#c.removeLastElement();this.#i.pop(),this.#r="";for(let e=0,t=this.#i.length;e<t;e++){const{line:i,points:r}=this.#i[e];this.#t=i,this.#a=r,this.#o=0,this.toSVGPath()}return{path:{d:this.#r}}}toSVGPath(){const e=ue.svgRound(this.#t[4]),t=ue.svgRound(this.#t[5]);if(this.#a.length===2)return this.#r=`${this.#r} M ${e} ${t} Z`,this.#r;if(this.#a.length<=6){const r=this.#r.lastIndexOf("M");this.#r=`${this.#r.slice(0,r)} M ${e} ${t}`,this.#o=6}if(this.#a.length===4){const r=ue.svgRound(this.#t[10]),s=ue.svgRound(this.#t[11]);return this.#r=`${this.#r} L ${r} ${s}`,this.#o=12,this.#r}const i=[];this.#o===0&&(i.push(`M ${e} ${t}`),this.#o=6);for(let r=this.#o,s=this.#t.length;r<s;r+=6){const[o,c,u,h,f,p]=this.#t.slice(r,r+6).map(ue.svgRound);i.push(`C${o} ${c} ${u} ${h} ${f} ${p}`)}return this.#r+=i.join(" "),this.#o=this.#t.length,this.#r}getOutlines(e,t,i,r){const s=this.#i.at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),this.#c.build(this.#i,e,t,i,this.#n,this.#s,r),this.#e=null,this.#t=null,this.#i=null,this.#r=null,this.#c}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Jc extends ue{#e;#t=0;#i;#n;#s;#a;#r;#o;#c;build(e,t,i,r,s,o,c){this.#s=t,this.#a=i,this.#r=r,this.#o=s,this.#c=o,this.#i=c??0,this.#n=e,this.#d()}get thickness(){return this.#c}setLastElement(e){return this.#n.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#n.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#n){if(e.push(`M${ue.svgRound(t[4])} ${ue.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${ue.svgRound(t[10])} ${ue.svgRound(t[11])}`);continue}for(let i=6,r=t.length;i<r;i+=6){const[s,o,c,u,h,f]=t.subarray(i,i+6).map(ue.svgRound);e.push(`C${s} ${o} ${c} ${u} ${h} ${f}`)}}return e.join("")}serialize([e,t,i,r],s){const o=[],c=[],[u,h,f,p]=this.#h();let g,v,w,b,A,S,M,_,D;switch(this.#o){case 0:D=ue._rescale,g=e,v=t+r,w=i,b=-r,A=e+u*i,S=t+(1-h-p)*r,M=e+(u+f)*i,_=t+(1-h)*r;break;case 90:D=ue._rescaleAndSwap,g=e,v=t,w=i,b=r,A=e+h*i,S=t+u*r,M=e+(h+p)*i,_=t+(u+f)*r;break;case 180:D=ue._rescale,g=e+i,v=t,w=-i,b=r,A=e+(1-u-f)*i,S=t+h*r,M=e+(1-u)*i,_=t+(h+p)*r;break;case 270:D=ue._rescaleAndSwap,g=e+i,v=t+r,w=-i,b=-r,A=e+(1-h-p)*i,S=t+(1-u-f)*r,M=e+(1-h)*i,_=t+(1-u)*r;break}for(const{line:T,points:P}of this.#n)o.push(D(T,g,v,w,b,s?new Array(T.length):null)),c.push(D(P,g,v,w,b,s?new Array(P.length):null));return{lines:o,points:c,rect:[A,S,M,_]}}static deserialize(e,t,i,r,s,{paths:{lines:o,points:c},rotation:u,thickness:h}){const f=[];let p,g,v,w,b;switch(u){case 0:b=ue._rescale,p=-e/i,g=t/r+1,v=1/i,w=-1/r;break;case 90:b=ue._rescaleAndSwap,p=-t/r,g=-e/i,v=1/r,w=1/i;break;case 180:b=ue._rescale,p=e/i+1,g=-t/r,v=-1/i,w=1/r;break;case 270:b=ue._rescaleAndSwap,p=t/r+1,g=e/i+1,v=-1/r,w=-1/i;break}if(!o){o=[];for(const S of c){const M=S.length;if(M===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1]]));continue}if(M===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,S[0],S[1],NaN,NaN,NaN,NaN,S[2],S[3]]));continue}const _=new Float32Array(3*(M-2));o.push(_);let[D,T,P,R]=S.subarray(0,4);_.set([NaN,NaN,NaN,NaN,D,T],0);for(let N=4;N<M;N+=2){const I=S[N],W=S[N+1];_.set(ue.createBezierPoints(D,T,P,R,I,W),(N-2)*3),[D,T,P,R]=[P,R,I,W]}}}for(let S=0,M=o.length;S<M;S++)f.push({line:b(o[S].map(_=>_??NaN),p,g,v,w),points:b(c[S].map(_=>_??NaN),p,g,v,w)});const A=new this.prototype.constructor;return A.build(f,i,r,1,u,h,s),A}#l(e=this.#c){const t=this.#i+e/2*this.#r;return this.#o%180===0?[t/this.#s,t/this.#a]:[t/this.#a,t/this.#s]}#h(){const[e,t,i,r]=this.#e,[s,o]=this.#l(0);return[e+s,t+o,i-2*s,r-2*o]}#d(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:r}of this.#n){if(r.length<=12){for(let c=4,u=r.length;c<u;c+=6)fe.pointBoundingBox(r[c],r[c+1],e);continue}let s=r[4],o=r[5];for(let c=6,u=r.length;c<u;c+=6){const[h,f,p,g,v,w]=r.subarray(c,c+6);fe.bezierBoundingBox(s,o,h,f,p,g,v,w,e),s=v,o=w}}const[t,i]=this.#l();e[0]=xn(e[0]-t,0,1),e[1]=xn(e[1]-i,0,1),e[2]=xn(e[2]+t,0,1),e[3]=xn(e[3]+i,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,i]=this.#l();this.#c=e;const[r,s]=this.#l(),[o,c]=[r-t,s-i],u=this.#e;return u[0]-=o,u[1]-=c,u[2]+=2*o,u[3]+=2*c,u}updateParentDimensions([e,t],i){const[r,s]=this.#l();this.#s=e,this.#a=t,this.#r=i;const[o,c]=this.#l(),u=o-r,h=c-s,f=this.#e;return f[0]-=u,f[1]-=h,f[2]+=2*u,f[3]+=2*h,f}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(ue.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let i=0,r=0,s=0,o=0,c=0,u=0;switch(this.#t){case 90:r=t/e,s=-e/t,c=e;break;case 180:i=-1,o=-1,c=e,u=t;break;case 270:r=-t/e,s=e/t,u=t;break;default:return""}return`matrix(${i} ${r} ${s} ${o} ${ue.svgRound(c)} ${ue.svgRound(u)})`}getPathResizingSVGProperties([e,t,i,r]){const[s,o]=this.#l(),[c,u,h,f]=this.#e;if(Math.abs(h-s)<=ue.PRECISION||Math.abs(f-o)<=ue.PRECISION){const b=e+i/2-(c+h/2),A=t+r/2-(u+f/2);return{path:{"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`,transform:`${this.rotationTransform} translate(${b} ${A})`}}}const p=(i-2*s)/(h-2*s),g=(r-2*o)/(f-2*o),v=h/i,w=f/r;return{path:{"transform-origin":`${ue.svgRound(c)} ${ue.svgRound(u)}`,transform:`${this.rotationTransform} scale(${v} ${w}) translate(${ue.svgRound(s)} ${ue.svgRound(o)}) scale(${p} ${g}) translate(${ue.svgRound(-s)} ${ue.svgRound(-o)})`}}}getPathResizedSVGProperties([e,t,i,r]){const[s,o]=this.#l(),c=this.#e,[u,h,f,p]=c;if(c[0]=e,c[1]=t,c[2]=i,c[3]=r,Math.abs(f-s)<=ue.PRECISION||Math.abs(p-o)<=ue.PRECISION){const A=e+i/2-(u+f/2),S=t+r/2-(h+p/2);for(const{line:M,points:_}of this.#n)ue._translate(M,A,S,M),ue._translate(_,A,S,_);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const g=(i-2*s)/(f-2*s),v=(r-2*o)/(p-2*o),w=-g*(u+s)+e+s,b=-v*(h+o)+t+o;if(g!==1||v!==1||w!==0||b!==0)for(const{line:A,points:S}of this.#n)ue._rescale(A,w,b,g,v,A),ue._rescale(S,w,b,g,v,S);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],i){const[r,s]=i,o=this.#e,c=e-o[0],u=t-o[1];if(this.#s===r&&this.#a===s)for(const{line:h,points:f}of this.#n)ue._translate(h,c,u,h),ue._translate(f,c,u,f);else{const h=this.#s/r,f=this.#a/s;this.#s=r,this.#a=s;for(const{line:p,points:g}of this.#n)ue._rescale(p,c,u,h,f,p),ue._rescale(g,c,u,h,f,g);o[2]*=h,o[3]*=f}return o[0]=e,o[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(e)} ${ue.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${ue.svgRound(e[0])} ${ue.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class Mf extends oM{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:ye._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new Mf(this._viewParameters);return e.updateAll(this),e}}class d0 extends qe{static _type="ink";static _editorType=Te.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){ye.initialize(e,t),this._defaultDrawingOptions=new Mf(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ce(this,"typesMap",new Map([[Ie.INK_THICKNESS,"stroke-width"],[Ie.INK_COLOR,"stroke"],[Ie.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,i,r,s){return new D4(e,t,i,r,s,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,i,r,s,o){return Jc.deserialize(e,t,i,r,s,o)}static async deserialize(e,t,i){let r=null;if(e instanceof c0){const{data:{inkLists:o,rect:c,rotation:u,id:h,color:f,opacity:p,borderStyle:{rawWidth:g},popupRef:v,richText:w,contentsObj:b,creationDate:A,modificationDate:S},parent:{page:{pageNumber:M}}}=e;r=e={annotationType:Te.INK,color:Array.from(f),thickness:g,opacity:p,paths:{points:o},boxes:null,pageIndex:M-1,rect:c.slice(0),rotation:u,annotationElementId:h,id:h,deleted:!1,popupRef:v,richText:w,comment:b?.str||null,creationDate:A,modificationDate:S}}const s=await super.deserialize(e,t,i);return s._initialData=r,e.comment&&s.setCommentData(e),s}get toolbarButtons(){return this._colorPicker||=new Mc(this),[["colorPicker",this._colorPicker]]}get colorType(){return Ie.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:i}=this;t.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:i}){this._drawingOptions=d0.getDefaultDrawingOptions({stroke:fe.makeHexColor(...e),"stroke-width":t,"stroke-opacity":i})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:i}=this.serializeDraw(e),{_drawingOptions:{stroke:r,"stroke-opacity":s,"stroke-width":o}}=this,c=Object.assign(super.serialize(e),{color:ye._colorManager.convert(r),opacity:s,thickness:o,paths:{lines:t,points:i}});return this.addComment(c),e?(c.isCopy=!0,c):this.annotationElementId&&!this.#e(c)?null:(c.id=this.annotationElementId,c)}#e(e){const{color:t,thickness:i,opacity:r,pageIndex:s}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||e.color.some((o,c)=>o!==t[c])||e.thickness!==i||e.opacity!==r||e.pageIndex!==s}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;const{points:t,rect:i}=this.serializeDraw(!1);return e.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:t,popup:this.comment}),null}}class qy extends Jc{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const Xd=8,oc=3;class _o{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r}static#i=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#n(e,t,i,r,s,o,c){const u=this.#t(i,r,s,o);for(let h=0;h<8;h++){const f=(-h+u-c+16)%8,p=this.#i[2*f],g=this.#i[2*f+1];if(e[(i+p)*t+(r+g)]!==0)return f}return-1}static#s(e,t,i,r,s,o,c){const u=this.#t(i,r,s,o);for(let h=0;h<8;h++){const f=(h+u+c+16)%8,p=this.#i[2*f],g=this.#i[2*f+1];if(e[(i+p)*t+(r+g)]!==0)return f}return-1}static#a(e,t,i,r){const s=e.length,o=new Int32Array(s);for(let f=0;f<s;f++)o[f]=e[f]<=r?1:0;for(let f=1;f<i-1;f++)o[f*t]=o[f*t+t-1]=0;for(let f=0;f<t;f++)o[f]=o[t*i-1-f]=0;let c=1,u;const h=[];for(let f=1;f<i-1;f++){u=1;for(let p=1;p<t-1;p++){const g=f*t+p,v=o[g];if(v===0)continue;let w=f,b=p;if(v===1&&o[g-1]===0)c+=1,b-=1;else if(v>=1&&o[g+1]===0)c+=1,b+=1,v>1&&(u=v);else{v!==1&&(u=Math.abs(v));continue}const A=[p,f],S=b===p+1,M={isHole:S,points:A,id:c,parent:0};h.push(M);let _;for(const U of h)if(U.id===u){_=U;break}_?_.isHole?M.parent=S?_.parent:u:M.parent=S?u:_.parent:M.parent=S?u:0;const D=this.#n(o,t,f,p,w,b,0);if(D===-1){o[g]=-c,o[g]!==1&&(u=Math.abs(o[g]));continue}let T=this.#i[2*D],P=this.#i[2*D+1];const R=f+T,N=p+P;w=R,b=N;let I=f,W=p;for(;;){const U=this.#s(o,t,I,W,w,b,1);T=this.#i[2*U],P=this.#i[2*U+1];const K=I+T,se=W+P;A.push(se,K);const oe=I*t+W;if(o[oe+1]===0?o[oe]=-c:o[oe]===1&&(o[oe]=c),K===f&&se===p&&I===R&&W===N){o[g]!==1&&(u=Math.abs(o[g]));break}else w=I,b=W,I=K,W=se}}}return h}static#r(e,t,i,r){if(i-t<=4){for(let R=t;R<i-2;R+=2)r.push(e[R],e[R+1]);return}const s=e[t],o=e[t+1],c=e[i-4]-s,u=e[i-3]-o,h=Math.hypot(c,u),f=c/h,p=u/h,g=f*o-p*s,v=u/c,w=1/h,b=Math.atan(v),A=Math.cos(b),S=Math.sin(b),M=w*(Math.abs(A)+Math.abs(S)),_=w*(1-M+M**2),D=Math.max(Math.atan(Math.abs(S+A)*_),Math.atan(Math.abs(S-A)*_));let T=0,P=t;for(let R=t+2;R<i-2;R+=2){const N=Math.abs(g-f*e[R+1]+p*e[R]);N>T&&(P=R,T=N)}T>(h*D)**2?(this.#r(e,t,P+2,r),this.#r(e,P,i,r)):r.push(s,o)}static#o(e){const t=[],i=e.length;return this.#r(e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t}static#c(e,t,i,r,s,o){const c=new Float32Array(o**2),u=-2*r**2,h=o>>1;for(let b=0;b<o;b++){const A=(b-h)**2;for(let S=0;S<o;S++)c[b*o+S]=Math.exp((A+(S-h)**2)/u)}const f=new Float32Array(256),p=-2*s**2;for(let b=0;b<256;b++)f[b]=Math.exp(b**2/p);const g=e.length,v=new Uint8Array(g),w=new Uint32Array(256);for(let b=0;b<i;b++)for(let A=0;A<t;A++){const S=b*t+A,M=e[S];let _=0,D=0;for(let P=0;P<o;P++){const R=b+P-h;if(!(R<0||R>=i))for(let N=0;N<o;N++){const I=A+N-h;if(I<0||I>=t)continue;const W=e[R*t+I],U=c[P*o+N]*f[Math.abs(W-M)];_+=W*U,D+=U}}const T=v[S]=Math.round(_/D);w[T]++}return[v,w]}static#l(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t}static#h(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let c=0,u=i.length;c<u;c++){const h=i[c]=e[c<<2];r=Math.max(r,h),s=Math.min(s,h)}const o=255/(r-s);for(let c=0,u=i.length;c<u;c++)i[c]=(i[c]-s)*o;return i}static#d(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(u=>u!==0);let o=s,c=s;for(t=s;t<256;t++){const u=e[t];u>i&&(t-o>r&&(r=t-o,c=t-1),i=u,o=t)}for(t=c-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:i,height:r}=e,{maxDim:s}=this.#e;let o=i,c=r;if(i>s||r>s){let g=i,v=r,w=Math.log2(Math.max(i,r)/s);const b=Math.floor(w);w=w===b?b-1:b;for(let S=0;S<w;S++){o=Math.ceil(g/2),c=Math.ceil(v/2);const M=new OffscreenCanvas(o,c);M.getContext("2d").drawImage(e,0,0,g,v,0,0,o,c),g=o,v=c,e!==t&&e.close(),e=M.transferToImageBitmap()}const A=Math.min(s/o,s/c);o=Math.round(o*A),c=Math.round(c*A)}const h=new OffscreenCanvas(o,c).getContext("2d",{willReadFrequently:!0});h.fillStyle="white",h.fillRect(0,0,o,c),h.filter="grayscale(1)",h.drawImage(e,0,0,e.width,e.height,0,0,o,c);const f=h.getImageData(0,0,o,c).data;return[this.#h(f),o,c]}static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,o,c,u){let h=new OffscreenCanvas(1,1),f=h.getContext("2d",{alpha:!1});const p=200,g=f.font=`${i} ${r} ${p}px ${t}`,{actualBoundingBoxLeft:v,actualBoundingBoxRight:w,actualBoundingBoxAscent:b,actualBoundingBoxDescent:A,fontBoundingBoxAscent:S,fontBoundingBoxDescent:M,width:_}=f.measureText(e),D=1.5,T=Math.ceil(Math.max(Math.abs(v)+Math.abs(w)||0,_)*D),P=Math.ceil(Math.max(Math.abs(b)+Math.abs(A)||p,Math.abs(S)+Math.abs(M)||p)*D);h=new OffscreenCanvas(T,P),f=h.getContext("2d",{alpha:!0,willReadFrequently:!0}),f.font=g,f.filter="grayscale(1)",f.fillStyle="white",f.fillRect(0,0,T,P),f.fillStyle="black",f.fillText(e,T*(D-1)/2,P*(3-D)/2);const R=this.#h(f.getImageData(0,0,T,P).data),N=this.#l(R),I=this.#d(N),W=this.#a(R,T,P,I);return this.processDrawnLines({lines:{curves:W,width:T,height:P},pageWidth:s,pageHeight:o,rotation:c,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[o,c,u]=this.#f(e),[h,f]=this.#c(o,c,u,Math.hypot(c,u)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),p=this.#d(f),g=this.#a(h,c,u,p);return this.processDrawnLines({lines:{curves:g,width:c,height:u},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:o,areContours:c}){r%180!==0&&([t,i]=[i,t]);const{curves:u,width:h,height:f}=e,p=e.thickness??0,g=[],v=Math.min(t/h,i/f),w=v/t,b=v/i,A=[];for(const{points:M}of u){const _=o?this.#o(M):M;if(!_)continue;A.push(_);const D=_.length,T=new Float32Array(D),P=new Float32Array(3*(D===2?2:D-2));if(g.push({line:P,points:T}),D===2){T[0]=_[0]*w,T[1]=_[1]*b,P.set([NaN,NaN,NaN,NaN,T[0],T[1]],0);continue}let[R,N,I,W]=_;R*=w,N*=b,I*=w,W*=b,T.set([R,N,I,W],0),P.set([NaN,NaN,NaN,NaN,R,N],0);for(let U=4;U<D;U+=2){const K=T[U]=_[U]*w,se=T[U+1]=_[U+1]*b;P.set(ue.createBezierPoints(R,N,I,W,K,se),(U-2)*3),[R,N,I,W]=[I,W,K,se]}}if(g.length===0)return null;const S=c?new qy:new Jc;return S.build(g,t,i,1,r,c?0:p,s),{outline:S,newCurves:A,areContours:c,thickness:p,width:h,height:f}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let o=1/0,c=-1/0,u=0;for(const _ of e){u+=_.length;for(let D=2,T=_.length;D<T;D++){const P=_[D]-_[D-2];o=Math.min(o,P),c=Math.max(c,P)}}let h;o>=-128&&c<=127?h=Int8Array:o>=-32768&&c<=32767?h=Int16Array:h=Int32Array;const f=e.length,p=Xd+oc*f,g=new Uint32Array(p);let v=0;g[v++]=p*Uint32Array.BYTES_PER_ELEMENT+(u-2*f)*h.BYTES_PER_ELEMENT,g[v++]=0,g[v++]=r,g[v++]=s,g[v++]=t?0:1,g[v++]=Math.max(0,Math.floor(i??0)),g[v++]=f,g[v++]=h.BYTES_PER_ELEMENT;for(const _ of e)g[v++]=_.length-2,g[v++]=_[0],g[v++]=_[1];const w=new CompressionStream("deflate-raw"),b=w.writable.getWriter();await b.ready,b.write(g);const A=h.prototype.constructor;for(const _ of e){const D=new A(_.length-2);for(let T=2,P=_.length;T<P;T++)D[T-2]=_[T]-_[T-2];b.write(D)}b.close();const S=await new Response(w.readable).arrayBuffer(),M=new Uint8Array(S);return k2(M)}static async decompressSignature(e){try{const t=Y3(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,c=0;for await(const _ of i)o||=new Uint8Array(new Uint32Array(_.buffer,0,4)[0]),o.set(_,c),c+=_.length;const u=new Uint32Array(o.buffer,0,o.length>>2),h=u[1];if(h!==0)throw new Error(`Invalid version: ${h}`);const f=u[2],p=u[3],g=u[4]===0,v=u[5],w=u[6],b=u[7],A=[],S=(Xd+oc*w)*Uint32Array.BYTES_PER_ELEMENT;let M;switch(b){case Int8Array.BYTES_PER_ELEMENT:M=new Int8Array(o.buffer,S);break;case Int16Array.BYTES_PER_ELEMENT:M=new Int16Array(o.buffer,S);break;case Int32Array.BYTES_PER_ELEMENT:M=new Int32Array(o.buffer,S);break}c=0;for(let _=0;_<w;_++){const D=u[oc*_+Xd],T=new Float32Array(D+2);A.push(T);for(let P=0;P<oc-1;P++)T[P]=u[oc*_+Xd+P+1];for(let P=0;P<D;P++)T[P+2]=T[P]+M[c++]}return{areContours:g,thickness:v,outlines:A,width:f,height:p}}catch(t){return _e(`decompressSignature: ${t}`),null}}}class h0 extends oM{constructor(){super(),super.updateProperties({fill:ye._defaultLineColor,"stroke-width":0})}clone(){const e=new h0;return e.updateAll(this),e}}class f0 extends Mf{constructor(e){super(e),super.updateProperties({stroke:ye._defaultLineColor,"stroke-width":1})}clone(){const e=new f0(this._viewParameters);return e.updateAll(this),e}}class Qi extends qe{#e=!1;#t=null;#i=null;#n=null;static _type="signature";static _editorType=Te.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#i=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){ye.initialize(e,t),this._defaultDrawingOptions=new h0,this._defaultDrawnSignatureOptions=new f0(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Ce(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:i}=this;if(i&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#i){const{lines:r,mustSmooth:s,areContours:o,description:c,uuid:u,heightInPage:h}=this.#i,{rawDims:{pageWidth:f,pageHeight:p},rotation:g}=this.parent.viewport,v=_o.processDrawnLines({lines:r,pageWidth:f,pageHeight:p,rotation:g,innerMargin:Qi._INNER_MARGIN,mustSmooth:s,areContours:o});this.addSignature(v,h,c,u)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:this.#t||""}));return i&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#n=e,this.addEditToolbar()}getUuid(){return this.#n}get description(){return this.#t}set description(e){this.#t=e,this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:e})),super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)}))}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:i,width:r,height:s}=this.#i,o=Math.max(r,s),c=_o.processDrawnLines({lines:{curves:e.map(u=>({points:u})),thickness:i,width:r,height:s},pageWidth:o,pageHeight:o,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:c.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,i,r){const{x:s,y:o}=this,{outline:c}=this.#i=e;this.#e=c instanceof qy,this.description=i;let u;this.#e?u=Qi.getDefaultDrawingOptions():(u=Qi._defaultDrawnSignatureOptions.clone(),u.updateProperties({"stroke-width":c.thickness})),this._addOutlines({drawOutlines:c,drawingOptions:u});const[,h]=this.pageDimensions;let f=t/h;f=f>=1?.5:f,this.width*=f/this.height,this.width>=1&&(f*=.9/this.width,this.width=.9),this.height=f,this.setDims(),this.x=s,this.y=o,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(r),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!r,hasDescription:!!i}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:i},rotation:r}=this.parent.viewport;return _o.process(e,t,i,r,Qi._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return _o.extractContoursFromText(e,t,i,r,s,Qi._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:i},rotation:r}=this.parent.viewport;return _o.processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:Qi._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=Qi.getDefaultDrawingOptions():(this._drawingOptions=Qi._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:i}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":r}}=this,s=Object.assign(super.serialize(e),{isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:r});return this.addComment(s),e?(s.paths={lines:t,points:i},s.uuid=this.#n,s.isCopy=!0):s.lines=t,this.#t&&(s.accessibilityData={type:"Figure",alt:this.#t}),s}static deserializeDraw(e,t,i,r,s,o){return o.areContours?qy.deserialize(e,t,i,r,s,o):Jc.deserialize(e,t,i,r,s,o)}static async deserialize(e,t,i){const r=await super.deserialize(e,t,i);return r.#e=e.areContours,r.description=e.accessibilityData?.alt||"",r.#n=e.uuid,r}}class k4 extends ye{#e=null;#t=null;#i=null;#n=null;#s=null;#a="";#r=null;#o=!1;#c=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Te.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#n=e.bitmapUrl,this.#s=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){ye.initialize(e,t)}static isHandlingMimeForPasting(e){return jy.includes(e)}static paste(e,t){t.pasteEditor({mode:Te.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#d(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#a=e.file.name),this.#m()}#f(){if(this.#i=null,this._uiManager.enableWaiting(!1),!!this.#r){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:s,height:o}=e||this.copyCanvas(null,null,!0).imageData,c=await i.guess({name:"altText",request:{data:r,width:s,height:o,channels:r.length/(s*o)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");const u=c.output;return await this.setGuessedAltText(u),t&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}#g(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#d(i,!0)).finally(()=>this.#f());return}if(this.#n){const i=this.#n;this.#n=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromUrl(i).then(r=>this.#d(r)).finally(()=>this.#f());return}if(this.#s){const i=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#i=this._uiManager.imageManager.getFromFile(i).then(r=>this.#d(r)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=jy.join(",");const t=this._uiManager._signal;this.#i=new Promise(i=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const r=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#d(r)}i()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#r?.remove(),this.#r=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#g();return}super.rebuild(),this.div!==null&&(this.#t&&this.#r===null&&this.#g(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#i||this.#e||this.#n||this.#s||this.#t||this.#o)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#o||(this.#e?this.#m():this.#g()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:i,bitmap:r}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),i&&this._uiManager.imageManager.isValidId(i)&&(this.#t=i,r&&(this.#e=r),this.#o=!1,this.#m())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#c!==null&&clearTimeout(this.#c);const e=200;this.#c=setTimeout(()=>{this.#c=null,this.#p()},e)}#m(){const{div:e}=this;let{width:t,height:i}=this.#e;const[r,s]=this.pageDimensions,o=.75;if(this.width)t=this.width*r,i=this.height*s;else if(t>o*r||i>o*s){const u=Math.min(o*r/t,o*s/i);t*=u,i*=u}this._uiManager.enableWaiting(!1);const c=this.#r=document.createElement("canvas");c.setAttribute("role","img"),this.addContainer(c),this.width=t/r,this.height=i/s,this.setDims(),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#p(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#a&&this.div.setAttribute("aria-description",this.#a),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,i=!1){e||(e=224);const{width:r,height:s}=this.#e,o=new nr;let c=this.#e,u=r,h=s,f=null;if(t){if(r>t||s>t){const P=Math.min(t/r,t/s);u=Math.floor(r*P),h=Math.floor(s*P)}f=document.createElement("canvas");const g=f.width=Math.ceil(u*o.sx),v=f.height=Math.ceil(h*o.sy);this.#l||(c=this.#u(g,v));const w=f.getContext("2d");w.filter=this._uiManager.hcmFilter;let b="white",A="#cfcfd8";this._uiManager.hcmFilter!=="none"?A="black":J3.isDarkMode&&(b="#8f8f9d",A="#42414d");const S=15,M=S*o.sx,_=S*o.sy,D=new OffscreenCanvas(M*2,_*2),T=D.getContext("2d");T.fillStyle=b,T.fillRect(0,0,M*2,_*2),T.fillStyle=A,T.fillRect(0,0,M,_),T.fillRect(M,_,M,_),w.fillStyle=w.createPattern(D,"repeat"),w.fillRect(0,0,g,v),w.drawImage(c,0,0,c.width,c.height,0,0,g,v)}let p=null;if(i){let g,v;if(o.symmetric&&c.width<e&&c.height<e)g=c.width,v=c.height;else if(c=this.#e,r>e||s>e){const A=Math.min(e/r,e/s);g=Math.floor(r*A),v=Math.floor(s*A),this.#l||(c=this.#u(g,v))}const b=new OffscreenCanvas(g,v).getContext("2d",{willReadFrequently:!0});b.drawImage(c,0,0,c.width,c.height,0,0,g,v),p={width:g,height:v,data:b.getImageData(0,0,g,v).data}}return{canvas:f,width:u,height:h,imageData:p}}#u(e,t){const{width:i,height:r}=this.#e;let s=i,o=r,c=this.#e;for(;s>2*e||o>2*t;){const u=s,h=o;s>2*e&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2)),o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(s,o);f.getContext("2d").drawImage(c,0,0,u,h,0,0,s,o),c=f.transferToImageBitmap()}return c}#p(){const[e,t]=this.parentDimensions,{width:i,height:r}=this,s=new nr,o=Math.ceil(i*e*s.sx),c=Math.ceil(r*t*s.sy),u=this.#r;if(!u||u.width===o&&u.height===c)return;u.width=o,u.height=c;const h=this.#l?this.#e:this.#u(o,c),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,c)}#v(e){if(e){if(this.#l){const r=this._uiManager.imageManager.getSvgUrl(this.#t);if(r)return r}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,i]=this.pageDimensions,r=Math.round(this.width*t*zo.PDF_TO_CSS_UNITS),s=Math.round(this.height*i*zo.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(r,s);return o.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,r,s),o.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,i){let r=null,s=!1;if(e instanceof aM){const{data:{rect:b,rotation:A,id:S,structParent:M,popupRef:_,richText:D,contentsObj:T,creationDate:P,modificationDate:R},container:N,parent:{page:{pageNumber:I}},canvas:W}=e;let U,K;W?(delete e.canvas,{id:U,bitmap:K}=i.imageManager.getFromCanvas(N.id,W),W.remove()):(s=!0,e._hasNoCanvas=!0);const se=(await t._structTree.getAriaAttributes(`${To}${S}`))?.get("aria-label")||"";r=e={annotationType:Te.STAMP,bitmapId:U,bitmap:K,pageIndex:I-1,rect:b.slice(0),rotation:A,annotationElementId:S,id:S,deleted:!1,accessibilityData:{decorative:!1,altText:se},isSvg:!1,structParent:M,popupRef:_,richText:D,comment:T?.str||null,creationDate:P,modificationDate:R}}const o=await super.deserialize(e,t,i),{rect:c,bitmap:u,bitmapUrl:h,bitmapId:f,isSvg:p,accessibilityData:g}=e;s?(i.addMissingCanvas(e.id,o),o.#o=!0):f&&i.imageManager.isValidId(f)?(o.#t=f,u&&(o.#e=u)):o.#n=h,o.#l=p;const[v,w]=o.pageDimensions;return o.width=(c[2]-c[0])/v,o.height=(c[3]-c[1])/w,g&&(o.altTextData=g),o._initialData=r,e.comment&&o.setCommentData(e),o.#h=!!r,o}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Object.assign(super.serialize(e),{bitmapId:this.#t,isSvg:this.#l});if(this.addComment(i),e)return i.bitmapUrl=this.#v(!0),i.accessibilityData=this.serializeAltText(!0),i.isCopy=!0,i;const{decorative:r,altText:s}=this.serializeAltText(!1);if(!r&&s&&(i.accessibilityData={type:"Figure",alt:s}),this.annotationElementId){const c=this.#b(i);return c.isSame?null:(c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1,i.id=this.annotationElementId,delete i.bitmapId,i)}if(t===null)return i;t.stamps||=new Map;const o=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:o,serialized:i}),i.bitmap=this.#v(!1);else if(this.#l){const c=t.stamps.get(this.#t);o>c.area&&(c.area=o,c.serialized.bitmap.close(),c.serialized.bitmap=this.#v(!1))}return i}#b(e){const{pageIndex:t,accessibilityData:{altText:i}}=this._initialData,r=e.pageIndex===t,s=(e.accessibilityData?.alt||"")===i;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&r&&s,isSameAltText:s}}renderAnnotationElement(e){return this.deleted?(e.hide(),null):(e.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}class Tr{#e;#t=!1;#i=null;#n=null;#s=null;#a=new Map;#r=!1;#o=!1;#c=!1;#l=null;#h=null;#d=null;#f=null;#g=null;#m=-1;#u;static _initialized=!1;static#p=new Map([Gt,d0,k4,St,Qi].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:c,textLayer:u,viewport:h,l10n:f}){const p=[...Tr.#p.values()];if(!Tr._initialized){Tr._initialized=!0;for(const g of p)g.initialize(f,e)}e.registerEditorTypes(p),this.#u=e,this.pageIndex=t,this.div=i,this.#e=s,this.#i=o,this.viewport=h,this.#d=u,this.drawLayer=c,this._structTree=r,this.#u.addLayer(this)}get isEmpty(){return this.#a.size===0}get isInvisible(){return this.isEmpty&&this.#u.getMode()===Te.NONE}updateToolbar(e){this.#u.updateToolbar(e)}updateMode(e=this.#u.getMode()){switch(this.#w(),e){case Te.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Te.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Te.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===Te.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of Tr.#p.values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){return e===this.#d?.div}setEditingState(e){this.#u.setEditingState(e)}addCommands(e){this.#u.addCommands(e)}cleanUndoStack(e){this.#u.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#i?.togglePointerEvents(e)}get#v(){return this.#a.size!==0?this.#a.values():this.#u.getEditors(this.pageIndex)}async enable(){this.#c=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),this.#g?.abort(),this.#g=null;const e=new Set;for(const i of this.#v)i.enableEditing(),i.show(!0),i.annotationElementId&&(this.#u.removeChangedExistingAnnotation(i),e.add(i.annotationElementId));const t=this.#i;if(t)for(const i of t.getEditableAnnotations()){if(i.hide(),this.#u.isDeletedAnnotationElement(i.data.id)||e.has(i.data.id))continue;const r=await this.deserialize(i);r&&(this.addOrRebuild(r),r.enableEditing())}this.#c=!1,this.#u._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){if(this.#o=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),this.#d&&!this.#g){this.#g=new AbortController;const r=this.#u.combinedSignal(this.#g);this.#d.div.addEventListener("pointerdown",s=>{const{clientX:c,clientY:u,timeStamp:h}=s,f=this.#m;if(h-f>500){this.#m=h;return}this.#m=-1;const{classList:p}=this.div;p.toggle("getElements",!0);const g=document.elementsFromPoint(c,u);if(p.toggle("getElements",!1),!this.div.contains(g[0]))return;let v;const w=new RegExp(`^${_c}[0-9]+$`);for(const A of g)if(w.test(A.id)){v=A.id;break}if(!v)return;const b=this.#a.get(v);b?.annotationElementId===null&&(s.stopPropagation(),s.preventDefault(),b.dblclick(s))},{signal:r,capture:!0})}const e=this.#i,t=[];if(e){const r=new Map,s=new Map;for(const c of this.#v){if(c.disableEditing(),!c.annotationElementId){t.push(c);continue}if(c.serialize()!==null){r.set(c.annotationElementId,c);continue}else s.set(c.annotationElementId,c);this.getEditableAnnotation(c.annotationElementId)?.show(),c.remove()}const o=e.getEditableAnnotations();for(const c of o){const{id:u}=c.data;if(this.#u.isDeletedAnnotationElement(u)){c.updateEdited({deleted:!0});continue}let h=s.get(u);if(h){h.resetAnnotationElement(c),h.show(!1),c.show();continue}h=r.get(u),h&&(this.#u.addChangedExistingAnnotation(h),h.renderAnnotationElement(c)&&h.show(!1)),c.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:i}=this.div;for(const r of Tr.#p.values())i.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),e?.updateFakeAnnotations(t),this.#o=!1}getEditableAnnotation(e){return this.#i?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#u.getActive()!==e&&this.#u.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#d?.div&&!this.#f){this.#f=new AbortController;const e=this.#u.combinedSignal(this.#f);this.#d.div.addEventListener("pointerdown",this.#b.bind(this),{signal:e}),this.#d.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#d?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#d.div.classList.remove("highlighting"))}#b(e){this.#u.unselectAll();const{target:t}=e;if(t===this.#d.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#d.div.contains(t)){const{isMac:i}=hn.platform;if(e.button!==0||e.ctrlKey&&i)return;this.#u.showAllEditors("highlight",!0,!0),this.#d.div.classList.add("free"),this.toggleDrawing(),St.startHighlighting(this,this.#u.direction==="ltr",{target:this.#d.div,x:e.x,y:e.y}),this.#d.div.addEventListener("pointerup",()=>{this.#d.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#u._signal}),e.preventDefault()}}enableClick(){if(this.#n)return;this.#n=new AbortController;const e=this.#u.combinedSignal(this.#n);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#n?.abort(),this.#n=null}attach(e){this.#a.set(e.id,e);const{annotationElementId:t}=e;t&&this.#u.isDeletedAnnotationElement(t)&&this.#u.removeDeletedAnnotationElement(e)}detach(e){this.#a.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#o&&e.annotationElementId&&this.#u.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#u.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#u.addDeletedAnnotationElement(e),ye.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#u.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#c),this.#u.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#s&&(e._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#u._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of this.#a.values())if(t.uid===e)return t;return null}getNextId(){return this.#u.getId()}get#y(){return Tr.#p.get(this.#u.getMode())}combinedSignal(e){return this.#u.combinedSignal(e)}#_(e){const t=this.#y;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#y?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#u.updateMode(e.mode);const{offsetX:i,offsetY:r}=this.#S(),s=this.getNextId(),o=this.#_({parent:this,id:s,x:i,y:r,uiManager:this.#u,isCentered:!0,...t});o&&this.add(o)}async deserialize(e){return await Tr.#p.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#u)||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=this.#_({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:this.#u,isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}#S(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),c=Math.min(window.innerWidth,e+i),u=Math.min(window.innerHeight,t+r),h=(s+c)/2-e,f=(o+u)/2-t,[p,g]=this.viewport.rotation%180===0?[h,f]:[f,h];return{offsetX:p,offsetY:g}}addNewEditor(e={}){this.createAndAddNewEditor(this.#S(),!0,e)}setSelected(e){this.#u.setSelected(e)}toggleSelected(e){this.#u.toggleSelected(e)}unselect(e){this.#u.unselect(e)}pointerup(e){const{isMac:t}=hn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#r||(this.#r=!1,this.#y?.isDrawer&&this.#y.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const i=this.#u.getMode();if(i===Te.STAMP||i===Te.SIGNATURE){this.#u.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#u.getMode()===Te.HIGHLIGHT&&this.enableTextSelection(),this.#r){this.#r=!1;return}const{isMac:t}=hn.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#r=!0,this.#y?.isDrawer){this.startDrawingSession(e);return}const i=this.#u.getActive();this.#t=!i||i.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#y.startDrawing(this,this.#u,!1,e);return}this.#u.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#u.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#y.startDrawing(this,this.#u,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#u.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#y.endDrawing(e)):null}findNewParent(e,t,i){const r=this.#u.findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#y.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#u.getActive()?.parent===this&&(this.#u.commitOrRemove(),this.#u.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(const e of this.#a.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#a.clear(),this.#u.removeLayer(this)}#w(){for(const e of this.#a.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,bs(this.div,e);for(const t of this.#u.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#u.commitOrRemove(),this.#w();const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,bs(this.div,{rotation:i}),t!==i)for(const r of this.#a.values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#u.viewParameters.realScale}}class on{#e=null;#t=new Map;#i=new Map;static#n=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Ce(this,"_svgFactory",new Th)}static#s(e,[t,i,r,s]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`}#a(){const e=on._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#r(e,t){const i=on._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=on._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r}#o(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)}draw(e,t=!1,i=!1){const r=on.#n++,s=this.#a(),o=on._svgFactory.createElement("defs");s.append(o);const c=on._svgFactory.createElement("path");o.append(c);const u=`path_p${this.pageIndex}_${r}`;c.setAttribute("id",u),c.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#i.set(r,c);const h=i?this.#r(o,u):null,f=on._svgFactory.createElement("use");return s.append(f),f.setAttribute("href",`#${u}`),this.updateProperties(s,e),this.#t.set(r,s),{id:r,clipPathId:`url(#${h})`}}drawOutline(e,t){const i=on.#n++,r=this.#a(),s=on._svgFactory.createElement("defs");r.append(s);const o=on._svgFactory.createElement("path");s.append(o);const c=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",c),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){const p=on._svgFactory.createElement("mask");s.append(p),u=`mask_p${this.pageIndex}_${i}`,p.setAttribute("id",u),p.setAttribute("maskUnits","objectBoundingBox");const g=on._svgFactory.createElement("rect");p.append(g),g.setAttribute("width","1"),g.setAttribute("height","1"),g.setAttribute("fill","white");const v=on._svgFactory.createElement("use");p.append(v),v.setAttribute("href",`#${c}`),v.setAttribute("stroke","none"),v.setAttribute("fill","black"),v.setAttribute("fill-rule","nonzero"),v.classList.add("mask")}const h=on._svgFactory.createElement("use");r.append(h),h.setAttribute("href",`#${c}`),u&&h.setAttribute("mask",`url(#${u})`);const f=h.cloneNode();return r.append(f),h.classList.add("mainOutline"),f.classList.add("secondaryOutline"),this.updateProperties(r,e),this.#t.set(i,r),i}finalizeDraw(e,t){this.#i.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:i,bbox:r,rootClass:s,path:o}=t,c=typeof e=="number"?this.#t.get(e):e;if(c){if(i&&this.#o(c,i),r&&on.#s(c,r),s){const{classList:u}=c;for(const[h,f]of Object.entries(s))u.toggle(h,f)}if(o){const h=c.firstElementChild.firstElementChild;this.#o(h,o)}}}updateParent(e,t){if(t===this)return;const i=this.#t.get(e);i&&(t.#e.append(i),this.#t.delete(e),t.#t.set(e,i))}remove(e){this.#i.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#i.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:Hy};globalThis.pdfjsLib={AbortException:Ra,AnnotationEditorLayer:Tr,AnnotationEditorParamsType:Ie,AnnotationEditorType:Te,AnnotationEditorUIManager:Na,AnnotationLayer:u0,AnnotationMode:Ma,AnnotationType:Rt,applyOpacity:tz,build:l4,ColorPicker:wi,createValidAbsoluteUrl:O2,CSSConstants:ez,DOMSVGFactory:Th,DrawLayer:on,FeatureTest:hn,fetchData:Xc,findContrastColor:nz,getDocument:Z2,getFilenameFromUrl:X3,getPdfFilenameFromUrl:W3,getRGB:Kc,getUuid:D2,getXfaPageViewport:Z3,GlobalWorkerOptions:jo,ImageKind:gh,InvalidPDFException:Ry,isDataScheme:Cf,isPdfFile:e0,isValidExplicitDest:hz,MathClamp:xn,noContextMenu:_i,normalizeUnicode:G3,OPS:Cc,OutputScale:nr,PasswordResponses:L3,PDFDataRangeTransport:Q2,PDFDateString:Ny,PDFWorker:Oc,PermissionFlag:j3,PixelsPerInch:zo,RenderingCancelledException:Jb,renderRichText:N2,ResponseException:_h,setLayerDimensions:bs,shadow:Ce,SignatureExtractor:_o,stopEvent:xt,SupportedImageMimeTypes:jy,TextLayer:yn,TouchManager:Tf,updateUrlHash:M2,Util:fe,VerbosityLevel:Sf,version:o4,XfaLayer:R2};const R4="/SwimScore/assets/pdf.worker.min-CXgfMxHN.mjs";jo.workerSrc=R4;async function N4(n){const e=await n.arrayBuffer(),t=await Z2({data:e}).promise,i=[];let r="";for(let s=1;s<=t.numPages;s++){const u=(await(await t.getPage(s)).getTextContent()).items.map(h=>h.str).join(" ");i.push(u),r+=u+`

`}return{text:r,pageCount:t.numPages,pages:i}}const Ms=b3()(A3((n,e)=>({meet:null,rawText:"",parseError:null,isLoading:!1,scoringConfig:_3(),availablePresets:_2,clubStandings:[],swimmerStandings:[],loadPDF:async t=>{n({isLoading:!0,parseError:null});try{const i=await N4(t);n({rawText:i.text});const r=T3(i.text);if(r.length===0)throw new Error("No events found in the PDF. Please check the format.");const s=new Date().getFullYear(),{events:o}=N3(r,s),c={id:`meet-${Date.now()}`,name:t.name.replace(".pdf",""),date:new Date().toISOString().split("T")[0],events:o,scoringConfigId:e().scoringConfig.id},u=bE(c,e().scoringConfig,s),h=xE(u),f=wE(u);n({meet:u,clubStandings:h,swimmerStandings:f,isLoading:!1})}catch(i){n({parseError:i instanceof Error?i.message:"Unknown error parsing PDF",isLoading:!1})}},clearMeet:()=>{n({meet:null,rawText:"",parseError:null,clubStandings:[],swimmerStandings:[]})},setScoringConfig:t=>{E3(t),n({scoringConfig:t});const{meet:i}=e();i&&e().recalculateScores()},setPreset:t=>{const i=e().availablePresets[t];i&&e().setScoringConfig(i)},recalculateScores:()=>{const{meet:t,scoringConfig:i}=e();if(!t)return;const r=new Date().getFullYear(),s=bE(t,i,r),o=xE(s),c=wE(s);n({meet:s,clubStandings:o,swimmerStandings:c})}}),{name:"swimming-scorer-storage",partialize:n=>({scoringConfig:n.scoringConfig})})),j4={es:{nav:{dashboard:"Panel Principal",upload:"Subir Datos",events:"Pruebas",swimmers:"Nadadores",clubs:"Clubes",settings:"Configuracin"},settings:{title:"Configuracin de Puntuacin",subtitle:"Configurar reglas de puntuacin y distribuciones",unsavedChanges:"Tienes cambios sin guardar",discard:"Descartar",save:"Guardar y Recalcular",tabs:{presets:"Preajustes",points:"Distribucin de Puntos",categories:"Categoras",bonus:"Puntos Extra"},presets:{title:"Preajustes de Puntuacin",description:"Selecciona una configuracin predefinida o personaliza tus propias reglas.",noLimit:" Sin lmite por club",limitPerClub:" {n} nadadores/club",categoriesCount:"{n} categoras"},points:{title:"Distribucin de Puntos",individual:"Puntos Prueba Individual (Posicin 1-16)",relay:"Puntos Relevos (Posicin 1-16)",commaSeparated:"Valores separados por coma para posiciones 1 a 16",clubLimit:"Mximo Nadadores por Club por Prueba",noLimitPlaceholder:"Sin lmite",redistribute:"Redistribuir puntos al siguiente elegible"},categories:{title:"Categoras de Edad",add:"Aadir Categora",description:"Definir categoras de edad y dnde pueden puntuar.",name:"Nombre",minAge:"Edad Mn",maxAge:"Edad Mx",canScoreIn:"Punta En",none:"Ninguna"},bonus:{title:"Puntos Extra por Rcords",enable:"Habilitar Puntos Extra por Rcords",regionalBest:"Mejor Marca Regional",championshipRecord:"Rcord del Campeonato",absoluteRegional:"Rcord Absoluto Regional",nationalBest:"Mejor Marca Nacional"},summary:{title:"Resumen de Configuracin Actual",configName:"Nombre Config:",individualPoints:"Puntos Individuales:",clubLimit:"Lmite Club:",categories:"Categoras:",defined:"{n} definidas",perEvent:"por Prueba"},language:{title:"Idioma",select:"Seleccionar Idioma del Sistema"}},dashboard:{welcome:{title:"Bienvenido a SwimScore",message:"Sube un archivo PDF para comenzar a analizar los resultados de la competicin y ver clasificaciones profesionales."},empty:{title:"Bienvenido a SwimScore",message:"Sube un archivo PDF para comenzar."},stats:{events:"Pruebas",clubs:"Clubes",swimmers:"Nadadores",athletes:"Atletas",totalPoints:"Puntos Totales"},podium:{title:"Podio de Clubes",viewFull:"Ver Clasificacin Completa",pts:"PTS"},charts:{pointsVariance:"Varianza de Puntos"},topAthletes:{title:"Mejores Atletas",seeAll:"Ver Todos los Rankings"},ready:{title:"Listo para Analizar?",message:"Importa tu PDF de Splash Meet Manager para desbloquear insights profesionales."},live:"RESULTADOS EN VIVO",topClubs:{title:"Top 5 Clubes",viewAll:"Ver Todos"},topSwimmers:{title:"Top 5 Nadadores",viewAll:"Ver Todos"}},clubRankings:{title:"Clasificacin de Clubes",subtitle:"Ver clasificaciones de clubes basadas en resultados de competicin",subtitleWithMeet:"{meet}  {count} clubes  Puntuacin: {scoring}",empty:{title:"Ninguna Competicin Cargada",message:"Sube un archivo PDF para ver las clasificaciones de clubes y comparar el rendimiento de los equipos."},filters:{search:"Buscar",searchPlaceholder:"Buscar clubes...",category:"Categora",gender:"Gnero"},table:{individual:"Individual",relay:"Relevo",total:"Total",medals:"Medallas",swimmers:"Nadadores"},stats:{totalPointsView:"Puntos Totales (Vista Actual)",goldMedalsView:"Medallas de Oro (Vista Actual)"}},swimmerRankings:{title:"Clasificacin de Nadadores",subtitle:"Ver clasificaciones individuales de nadadores",empty:{title:"Ninguna Competicin Cargada",message:"Sube un archivo PDF para ver las clasificaciones de nadadores y rendimientos individuales."},filters:{search:"Buscar Nadadores",searchPlaceholder:"Buscar por nombre...",club:"Club",pointsView:"Vista de Puntos",allClubs:"Todos los Clubes"},table:{year:"Ao",cat:"Cat",evts:"Evts",avgPos:"PosMed",openPts:"Pts Open",catPts:"Pts Cat",totalPts:"Puntos"},stats:{totalSwimmers:"Total Nadadores",goldWinners:"Ganadores de Oro",avgEvents:"Media Pruebas/Nadador"}},eventDetails:{noMeet:"No hay competicin cargada",goHome:"Ir a Inicio",notFound:"Prueba no encontrado",backToEvents:"Volver a Pruebas",entries:"{n} inscripciones totales",relayEvent:"Prueba de Relevos",individualEvent:"Prueba Individual",table:{clubTeam:"Club / Equipo",time:"Tiempo",status:"Estado"},status:{scoringOpenCat:"Punta (Open & Cat)",scoringOpen:"Punta (Slo Open)",scoringCat:"Punta (Slo Cat)",notEligible:"No Elegible (Open)",noPoints:"Sin Puntos",seePoints:"Ver Puntos",timeLimit:"NO MIN",clubLimit:"MAX CLUB",dq:"DQ"}},eventBrowser:{title:"Explorador de Pruebas",subtitle:"Explorar todos los Pruebas y resultados",subtitleWithMeet:"{meet}  {n} Pruebas",empty:{title:"Ninguna Competicin Cargada",message:"Sube un archivo PDF para explorar Pruebas y ver resultados detallados."},filters:{stroke:"Estilo",allStrokes:"Todos los Estilos",freestyle:"Libre",backstroke:"Espalda",breaststroke:"Braza",butterfly:"Mariposa",medley:"Estilos",distance:"Distancia",allDist:"Todas",gender:"Gnero",type:"Tipo",allTypes:"Todos",individual:"Individual",relay:"Relevo",sortBy:"Ordenar Por",numberAsc:"Prueba # (Asc)",numberDesc:"Prueba # (Desc)",distanceAsc:"Distancia (Corta primero)",distanceDesc:"Distancia (Larga primero)",entriesDesc:"Ms Inscripciones",entriesAsc:"Menos Inscripciones"},showing:"Mostrando {n} de {m} Pruebas",table:{number:"#",gender:"Gnero",event:"Prueba",type:"Tipo",category:"Categora",entries:"Inscrip."},tags:{relay:"Relevo",indiv:"Indiv"},qualifyingTimes:{title:"Tiempos Mnimos (Minimas)",open:"OPEN:",age:"{age} aos:"}},upload:{title:"Subir PDF de Resultados",subtitle:"Sube un PDF de Splash Meet Manager para analizar los resultados",dropZone:{processing:"Procesando PDF...",extracting:"Extrayendo texto y analizando resultados",dragDrop:"Arrastra y Suelta el PDF Aqu",browse:"o haz clic para buscar archivos"},error:"Error al Analizar PDF",success:{title:"PDF Cargado con xito!",message:"Se encontraron {n} Pruebas con resultados",viewDashboard:"Ver Dashboard"},preview:{title:" Pruebas Analizados",raw:"Texto Crudo Extrado",hide:"Ocultar",show:"Mostrar"}},common:{pos:"Pos",club:"Club",swimmer:"Nadador",ind:"Ind.",relay:"Relevo",total:"Total",medals:"Medallas",events:"Pruebas",points:"Puntos",allCategories:"Todas las Categoras",allGenders:"Todos los Gneros",male:"Masculino",female:"Femenino",mixed:"Mixto",open:"Open",junior:"Junior",uploadPdf:"Subir PDF",team:"Equipo",unknown:"Desconocido"}},en:{nav:{dashboard:"Dashboard",upload:"Upload Data",events:"Events",swimmers:"Swimmers",clubs:"Clubs",settings:"Settings"},settings:{title:"Scoring Settings",subtitle:"Configure scoring rules and point distributions",unsavedChanges:"You have unsaved changes",discard:"Discard",save:"Save & Recalculate",tabs:{presets:"Presets",points:"Point Distribution",categories:"Categories",bonus:"Bonus Points"},presets:{title:"Scoring Presets",description:"Select a preset configuration or customize your own scoring rules.",noLimit:" No club limits",limitPerClub:" {n} swimmers/club",categoriesCount:"{n} categories"},points:{title:"Point Distribution",individual:"Individual Event Points (Position 1-16)",relay:"Relay Event Points (Position 1-16)",commaSeparated:"Comma-separated values for positions 1 through 16",clubLimit:"Max Swimmers per Club per Event",noLimitPlaceholder:"No limit",redistribute:"Redistribute points to next eligible"},categories:{title:"Age Categories",add:"Add Category",description:"Define age categories and which categories each can score in.",name:"Name",minAge:"Min Age",maxAge:"Max Age",canScoreIn:"Can Score In",none:"None"},bonus:{title:"Bonus Points for Records",enable:"Enable Bonus Points for Records",regionalBest:"Regional Best Time",championshipRecord:"Championship Record",absoluteRegional:"Absolute Regional Record",nationalBest:"National Best Time"},summary:{title:"Current Configuration Summary",configName:"Config Name:",individualPoints:"Individual Points:",clubLimit:"Club Limit:",categories:"Categories:",defined:"{n} defined",perEvent:"per event"},language:{title:"Language",select:"Select System Language"}},dashboard:{welcome:{title:"Welcome to SwimScore",message:"Upload a PDF file to start analyzing competition results and view professional standings."},empty:{title:"Welcome to SwimScore",message:"Upload a PDF file to start."},stats:{events:"Events",clubs:"Clubs",swimmers:"Swimmers",athletes:"Athletes",totalPoints:"Total Points"},podium:{title:"Club Podium",viewFull:"View Full Standings",pts:"PTS"},charts:{pointsVariance:"Points Variance"},topAthletes:{title:"Top Athletes",seeAll:"See All Rankings"},ready:{title:"Ready to Analyze?",message:"Import your Splash Meet Manager PDF to unlock professional insights."},live:"LIVE RESULTS",topClubs:{title:"Top 5 Clubs",viewAll:"View All"},topSwimmers:{title:"Top 5 Swimmers",viewAll:"View All"}},clubRankings:{title:"Club Rankings",subtitle:"View club standings based on competition results",subtitleWithMeet:"{meet}  {count} clubs  Scoring: {scoring}",empty:{title:"No Meet Loaded",message:"Upload a PDF file to view club rankings and compare team performances."},filters:{search:"Search",searchPlaceholder:"Search clubs...",category:"Category",gender:"Gender"},table:{individual:"Individual",relay:"Relay",total:"Total",medals:"Medals",swimmers:"Swimmers"},stats:{totalPointsView:"Total Points (Current View)",goldMedalsView:"Gold Medals (Current View)"}},swimmerRankings:{title:"Swimmer Rankings",subtitle:"View individual swimmer standings",empty:{title:"No Meet Loaded",message:"Upload a PDF file to view swimmer rankings and individual performances."},filters:{search:"Search Swimmers",searchPlaceholder:"Search by name...",club:"Club",pointsView:"Points View",allClubs:"All Clubs"},table:{year:"Year",cat:"Cat",evts:"Evts",avgPos:"AvgPos",openPts:"Open Pts",catPts:"Cat Pts",totalPts:"Points"},stats:{totalSwimmers:"Total Swimmers",goldWinners:"Gold Medal Winners",avgEvents:"Avg Events/Swimmer"}},eventDetails:{noMeet:"No meet loaded",goHome:"Go Home",notFound:"Event not found",backToEvents:"Back to Events",entries:"{n} total entries",relayEvent:"Relay Event",individualEvent:"Individual Event",table:{clubTeam:"Club / Team",time:"Time",status:"Status"},status:{scoringOpenCat:"Scoring (Open & Cat)",scoringOpen:"Scoring (Open Only)",scoringCat:"Scoring (Category Only)",notEligible:"Not Eligible (Open)",noPoints:"No Points",seePoints:"See Points",timeLimit:"NO MIN",clubLimit:"MAX CLUB",dq:"DQ"}},eventBrowser:{title:"Event Browser",subtitle:"Browse all events and their results",subtitleWithMeet:"{meet}  {n} events",empty:{title:"No Meet Loaded",message:"Upload a PDF file to browse events and view detailed results."},filters:{stroke:"Stroke",allStrokes:"All Strokes",freestyle:"Freestyle",backstroke:"Backstroke",breaststroke:"Breaststroke",butterfly:"Butterfly",medley:"Medley",distance:"Distance",allDist:"All Dist",gender:"Gender",type:"Type",allTypes:"All Types",individual:"Individual",relay:"Relay",sortBy:"Sort By",numberAsc:"Event # (Asc)",numberDesc:"Event # (Desc)",distanceAsc:"Distance (Short first)",distanceDesc:"Distance (Long first)",entriesDesc:"Most Entries",entriesAsc:"Least Entries"},showing:"Showing {n} of {m} events",table:{number:"#",gender:"Gender",event:"Event",type:"Type",category:"Category",entries:"Entries"},tags:{relay:"Relay",indiv:"Indiv"},qualifyingTimes:{title:"Qualifying Times (Minimas)",open:"OPEN:",age:"{age}y:"}},upload:{title:"Upload Results PDF",subtitle:"Upload a Splash Meet Manager PDF to analyze competition results",dropZone:{processing:"Processing PDF...",extracting:"Extracting text and parsing results",dragDrop:"Drag & Drop PDF Here",browse:"or click to browse files"},error:"Error Parsing PDF",success:{title:"PDF Loaded Successfully!",message:"Found {n} events with results",viewDashboard:"View Dashboard"},preview:{title:" Parsed Events",raw:"Raw Extracted Text",hide:"Hide",show:"Show"}},common:{pos:"Pos",club:"Club",swimmer:"Swimmer",ind:"Ind.",relay:"Relay",total:"Total",medals:"Medals",events:"Events",points:"Points",allCategories:"All Categories",allGenders:"All Genders",male:"Male",female:"Female",mixed:"Mixed",open:"Open",junior:"Junior",uploadPdf:"Upload PDF",team:"Team",unknown:"Unknown"}}},lM=C.createContext(void 0);function L4({children:n}){const[e,t]=C.useState(()=>{const r=localStorage.getItem("language");return r==="en"||r==="es"?r:"es"});C.useEffect(()=>{localStorage.setItem("language",e),document.documentElement.lang=e},[e]);const i=(r,s)=>{const o=r.split(".");let c=j4[e];for(const h of o){if(c===void 0)return r;c=c[h]}if(typeof c!="string")return r;let u=c;return s&&Object.entries(s).forEach(([h,f])=>{u=u.replace(`{${h}}`,String(f))}),u};return E.jsx(lM.Provider,{value:{language:e,setLanguage:t,t:i},children:n})}function Ia(){const n=C.useContext(lM);if(n===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return n}function cM(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=cM(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function ct(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=cM(n))&&(i&&(i+=" "),i+=e);return i}var I4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function p0(n){if(typeof n!="string")return!1;var e=I4;return e.includes(n)}var B4=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],z4=new Set(B4);function uM(n){return typeof n!="string"?!1:z4.has(n)}function dM(n){return typeof n=="string"&&n.startsWith("data-")}function Br(n){if(typeof n!="object"||n===null)return{};var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(uM(t)||dM(t))&&(e[t]=n[t]);return e}function m0(n){if(n==null)return null;if(C.isValidElement(n)&&typeof n.props=="object"&&n.props!==null){var e=n.props;return Br(e)}return typeof n=="object"&&!Array.isArray(n)?Br(n):null}function Ci(n){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(uM(t)||dM(t)||p0(t))&&(e[t]=n[t]);return e}var F4=["children","width","height","viewBox","className","style","title","desc"];function Gy(){return Gy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Gy.apply(null,arguments)}function U4(n,e){if(n==null)return{};var t,i,r=H4(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function H4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var hM=C.forwardRef((n,e)=>{var{children:t,width:i,height:r,viewBox:s,className:o,style:c,title:u,desc:h}=n,f=U4(n,F4),p=s||{width:i,height:r,x:0,y:0},g=ct("recharts-surface",o);return C.createElement("svg",Gy({},Ci(f),{className:g,width:i,height:r,style:c,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),C.createElement("title",null,u),C.createElement("desc",null,h),t)}),$4=["children","className"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vy.apply(null,arguments)}function q4(n,e){if(n==null)return{};var t,i,r=G4(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function G4(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var zr=C.forwardRef((n,e)=>{var{children:t,className:i}=n,r=q4(n,$4),s=ct("recharts-layer",i);return C.createElement("g",Vy({className:s},Ci(r),{ref:e}),t)}),V4=C.createContext(null);function rt(n){return function(){return n}}const fM=Math.cos,Oh=Math.sin,$i=Math.sqrt,Mh=Math.PI,Pf=2*Mh,Yy=Math.PI,Xy=2*Yy,ss=1e-6,Y4=Xy-ss;function pM(n){this._+=n[0];for(let e=1,t=n.length;e<t;++e)this._+=arguments[e]+n[e]}function X4(n){let e=Math.floor(n);if(!(e>=0))throw new Error(`invalid digits: ${n}`);if(e>15)return pM;const t=10**e;return function(i){this._+=i[0];for(let r=1,s=i.length;r<s;++r)this._+=Math.round(arguments[r]*t)/t+i[r]}}class W4{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pM:X4(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,i,r){this._append`Q${+e},${+t},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(e,t,i,r,s,o){this._append`C${+e},${+t},${+i},${+r},${this._x1=+s},${this._y1=+o}`}arcTo(e,t,i,r,s){if(e=+e,t=+t,i=+i,r=+r,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,c=this._y1,u=i-e,h=r-t,f=o-e,p=c-t,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=t}`;else if(g>ss)if(!(Math.abs(p*u-h*f)>ss)||!s)this._append`L${this._x1=e},${this._y1=t}`;else{let v=i-o,w=r-c,b=u*u+h*h,A=v*v+w*w,S=Math.sqrt(b),M=Math.sqrt(g),_=s*Math.tan((Yy-Math.acos((b+g-A)/(2*S*M)))/2),D=_/M,T=_/S;Math.abs(D-1)>ss&&this._append`L${e+D*f},${t+D*p}`,this._append`A${s},${s},0,0,${+(p*v>f*w)},${this._x1=e+T*u},${this._y1=t+T*h}`}}arc(e,t,i,r,s,o){if(e=+e,t=+t,i=+i,o=!!o,i<0)throw new Error(`negative radius: ${i}`);let c=i*Math.cos(r),u=i*Math.sin(r),h=e+c,f=t+u,p=1^o,g=o?r-s:s-r;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>ss||Math.abs(this._y1-f)>ss)&&this._append`L${h},${f}`,i&&(g<0&&(g=g%Xy+Xy),g>Y4?this._append`A${i},${i},0,1,${p},${e-c},${t-u}A${i},${i},0,1,${p},${this._x1=h},${this._y1=f}`:g>ss&&this._append`A${i},${i},0,${+(g>=Yy)},${p},${this._x1=e+i*Math.cos(s)},${this._y1=t+i*Math.sin(s)}`)}rect(e,t,i,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function g0(n){let e=3;return n.digits=function(t){if(!arguments.length)return e;if(t==null)e=null;else{const i=Math.floor(t);if(!(i>=0))throw new RangeError(`invalid digits: ${t}`);e=i}return n},()=>new W4(e)}function v0(n){return typeof n=="object"&&"length"in n?n:Array.from(n)}function mM(n){this._context=n}mM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._context.lineTo(n,e);break}}};function Df(n){return new mM(n)}function gM(n){return n[0]}function vM(n){return n[1]}function yM(n,e){var t=rt(!0),i=null,r=Df,s=null,o=g0(c);n=typeof n=="function"?n:n===void 0?gM:rt(n),e=typeof e=="function"?e:e===void 0?vM:rt(e);function c(u){var h,f=(u=v0(u)).length,p,g=!1,v;for(i==null&&(s=r(v=o())),h=0;h<=f;++h)!(h<f&&t(p=u[h],h,u))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+n(p,h,u),+e(p,h,u));if(v)return s=null,v+""||null}return c.x=function(u){return arguments.length?(n=typeof u=="function"?u:rt(+u),c):n},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:rt(+u),c):e},c.defined=function(u){return arguments.length?(t=typeof u=="function"?u:rt(!!u),c):t},c.curve=function(u){return arguments.length?(r=u,i!=null&&(s=r(i)),c):r},c.context=function(u){return arguments.length?(u==null?i=s=null:s=r(i=u),c):i},c}function Wd(n,e,t){var i=null,r=rt(!0),s=null,o=Df,c=null,u=g0(h);n=typeof n=="function"?n:n===void 0?gM:rt(+n),e=typeof e=="function"?e:rt(e===void 0?0:+e),t=typeof t=="function"?t:t===void 0?vM:rt(+t);function h(p){var g,v,w,b=(p=v0(p)).length,A,S=!1,M,_=new Array(b),D=new Array(b);for(s==null&&(c=o(M=u())),g=0;g<=b;++g){if(!(g<b&&r(A=p[g],g,p))===S)if(S=!S)v=g,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),w=g-1;w>=v;--w)c.point(_[w],D[w]);c.lineEnd(),c.areaEnd()}S&&(_[g]=+n(A,g,p),D[g]=+e(A,g,p),c.point(i?+i(A,g,p):_[g],t?+t(A,g,p):D[g]))}if(M)return c=null,M+""||null}function f(){return yM().defined(r).curve(o).context(s)}return h.x=function(p){return arguments.length?(n=typeof p=="function"?p:rt(+p),i=null,h):n},h.x0=function(p){return arguments.length?(n=typeof p=="function"?p:rt(+p),h):n},h.x1=function(p){return arguments.length?(i=p==null?null:typeof p=="function"?p:rt(+p),h):i},h.y=function(p){return arguments.length?(e=typeof p=="function"?p:rt(+p),t=null,h):e},h.y0=function(p){return arguments.length?(e=typeof p=="function"?p:rt(+p),h):e},h.y1=function(p){return arguments.length?(t=p==null?null:typeof p=="function"?p:rt(+p),h):t},h.lineX0=h.lineY0=function(){return f().x(n).y(e)},h.lineY1=function(){return f().x(n).y(t)},h.lineX1=function(){return f().x(i).y(e)},h.defined=function(p){return arguments.length?(r=typeof p=="function"?p:rt(!!p),h):r},h.curve=function(p){return arguments.length?(o=p,s!=null&&(c=o(s)),h):o},h.context=function(p){return arguments.length?(p==null?s=c=null:c=o(s=p),h):s},h}class bM{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t);break}}this._x0=e,this._y0=t}}function K4(n){return new bM(n,!0)}function Z4(n){return new bM(n,!1)}const y0={draw(n,e){const t=$i(e/Mh);n.moveTo(t,0),n.arc(0,0,t,0,Pf)}},Q4={draw(n,e){const t=$i(e/5)/2;n.moveTo(-3*t,-t),n.lineTo(-t,-t),n.lineTo(-t,-3*t),n.lineTo(t,-3*t),n.lineTo(t,-t),n.lineTo(3*t,-t),n.lineTo(3*t,t),n.lineTo(t,t),n.lineTo(t,3*t),n.lineTo(-t,3*t),n.lineTo(-t,t),n.lineTo(-3*t,t),n.closePath()}},xM=$i(1/3),J4=xM*2,eF={draw(n,e){const t=$i(e/J4),i=t*xM;n.moveTo(0,-t),n.lineTo(i,0),n.lineTo(0,t),n.lineTo(-i,0),n.closePath()}},tF={draw(n,e){const t=$i(e),i=-t/2;n.rect(i,i,t,t)}},nF=.8908130915292852,wM=Oh(Mh/10)/Oh(7*Mh/10),iF=Oh(Pf/10)*wM,rF=-fM(Pf/10)*wM,aF={draw(n,e){const t=$i(e*nF),i=iF*t,r=rF*t;n.moveTo(0,-t),n.lineTo(i,r);for(let s=1;s<5;++s){const o=Pf*s/5,c=fM(o),u=Oh(o);n.lineTo(u*t,-c*t),n.lineTo(c*i-u*r,u*i+c*r)}n.closePath()}},Wg=$i(3),sF={draw(n,e){const t=-$i(e/(Wg*3));n.moveTo(0,t*2),n.lineTo(-Wg*t,-t),n.lineTo(Wg*t,-t),n.closePath()}},yi=-.5,bi=$i(3)/2,Wy=1/$i(12),oF=(Wy/2+1)*3,lF={draw(n,e){const t=$i(e/oF),i=t/2,r=t*Wy,s=i,o=t*Wy+t,c=-s,u=o;n.moveTo(i,r),n.lineTo(s,o),n.lineTo(c,u),n.lineTo(yi*i-bi*r,bi*i+yi*r),n.lineTo(yi*s-bi*o,bi*s+yi*o),n.lineTo(yi*c-bi*u,bi*c+yi*u),n.lineTo(yi*i+bi*r,yi*r-bi*i),n.lineTo(yi*s+bi*o,yi*o-bi*s),n.lineTo(yi*c+bi*u,yi*u-bi*c),n.closePath()}};function cF(n,e){let t=null,i=g0(r);n=typeof n=="function"?n:rt(n||y0),e=typeof e=="function"?e:rt(e===void 0?64:+e);function r(){let s;if(t||(t=s=i()),n.apply(this,arguments).draw(t,+e.apply(this,arguments)),s)return t=null,s+""||null}return r.type=function(s){return arguments.length?(n=typeof s=="function"?s:rt(s),r):n},r.size=function(s){return arguments.length?(e=typeof s=="function"?s:rt(+s),r):e},r.context=function(s){return arguments.length?(t=s??null,r):t},r}function Ph(){}function Dh(n,e,t){n._context.bezierCurveTo((2*n._x0+n._x1)/3,(2*n._y0+n._y1)/3,(n._x0+2*n._x1)/3,(n._y0+2*n._y1)/3,(n._x0+4*n._x1+e)/6,(n._y0+4*n._y1+t)/6)}function AM(n){this._context=n}AM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dh(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dh(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function uF(n){return new AM(n)}function SM(n){this._context=n}SM.prototype={areaStart:Ph,areaEnd:Ph,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._x2=n,this._y2=e;break;case 1:this._point=2,this._x3=n,this._y3=e;break;case 2:this._point=3,this._x4=n,this._y4=e,this._context.moveTo((this._x0+4*this._x1+n)/6,(this._y0+4*this._y1+e)/6);break;default:Dh(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function dF(n){return new SM(n)}function EM(n){this._context=n}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var t=(this._x0+4*this._x1+n)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 3:this._point=4;default:Dh(this,n,e);break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e}};function hF(n){return new EM(n)}function _M(n){this._context=n}_M.prototype={areaStart:Ph,areaEnd:Ph,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(n,e){n=+n,e=+e,this._point?this._context.lineTo(n,e):(this._point=1,this._context.moveTo(n,e))}};function fF(n){return new _M(n)}function XE(n){return n<0?-1:1}function WE(n,e,t){var i=n._x1-n._x0,r=e-n._x1,s=(n._y1-n._y0)/(i||r<0&&-0),o=(t-n._y1)/(r||i<0&&-0),c=(s*r+o*i)/(i+r);return(XE(s)+XE(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(c))||0}function KE(n,e){var t=n._x1-n._x0;return t?(3*(n._y1-n._y0)/t-e)/2:e}function Kg(n,e,t){var i=n._x0,r=n._y0,s=n._x1,o=n._y1,c=(s-i)/3;n._context.bezierCurveTo(i+c,r+c*e,s-c,o-c*t,s,o)}function kh(n){this._context=n}kh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Kg(this,this._t0,KE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(n,e){var t=NaN;if(n=+n,e=+e,!(n===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;break;case 2:this._point=3,Kg(this,KE(this,t=WE(this,n,e)),t);break;default:Kg(this,this._t0,t=WE(this,n,e));break}this._x0=this._x1,this._x1=n,this._y0=this._y1,this._y1=e,this._t0=t}}};function CM(n){this._context=new TM(n)}(CM.prototype=Object.create(kh.prototype)).point=function(n,e){kh.prototype.point.call(this,e,n)};function TM(n){this._context=n}TM.prototype={moveTo:function(n,e){this._context.moveTo(e,n)},closePath:function(){this._context.closePath()},lineTo:function(n,e){this._context.lineTo(e,n)},bezierCurveTo:function(n,e,t,i,r,s){this._context.bezierCurveTo(e,n,i,t,s,r)}};function pF(n){return new kh(n)}function mF(n){return new CM(n)}function OM(n){this._context=n}OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var n=this._x,e=this._y,t=n.length;if(t)if(this._line?this._context.lineTo(n[0],e[0]):this._context.moveTo(n[0],e[0]),t===2)this._context.lineTo(n[1],e[1]);else for(var i=ZE(n),r=ZE(e),s=0,o=1;o<t;++s,++o)this._context.bezierCurveTo(i[0][s],r[0][s],i[1][s],r[1][s],n[o],e[o]);(this._line||this._line!==0&&t===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(n,e){this._x.push(+n),this._y.push(+e)}};function ZE(n){var e,t=n.length-1,i,r=new Array(t),s=new Array(t),o=new Array(t);for(r[0]=0,s[0]=2,o[0]=n[0]+2*n[1],e=1;e<t-1;++e)r[e]=1,s[e]=4,o[e]=4*n[e]+2*n[e+1];for(r[t-1]=2,s[t-1]=7,o[t-1]=8*n[t-1]+n[t],e=1;e<t;++e)i=r[e]/s[e-1],s[e]-=i,o[e]-=i*o[e-1];for(r[t-1]=o[t-1]/s[t-1],e=t-2;e>=0;--e)r[e]=(o[e]-r[e+1])/s[e];for(s[t-1]=(n[t]+r[t-1])/2,e=0;e<t-1;++e)s[e]=2*n[e+1]-r[e+1];return[r,s]}function gF(n){return new OM(n)}function kf(n,e){this._context=n,this._t=e}kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(n,e);else{var t=this._x*(1-this._t)+n*this._t;this._context.lineTo(t,this._y),this._context.lineTo(t,e)}break}}this._x=n,this._y=e}};function vF(n){return new kf(n,.5)}function yF(n){return new kf(n,0)}function bF(n){return new kf(n,1)}function Fo(n,e){if((o=n.length)>1)for(var t=1,i,r,s=n[e[0]],o,c=s.length;t<o;++t)for(r=s,s=n[e[t]],i=0;i<c;++i)s[i][1]+=s[i][0]=isNaN(r[i][1])?r[i][0]:r[i][1]}function Ky(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}function xF(n,e){return n[e]}function wF(n){const e=[];return e.key=n,e}function AF(){var n=rt([]),e=Ky,t=Fo,i=xF;function r(s){var o=Array.from(n.apply(this,arguments),wF),c,u=o.length,h=-1,f;for(const p of s)for(c=0,++h;c<u;++c)(o[c][h]=[0,+i(p,o[c].key,h,s)]).data=p;for(c=0,f=v0(e(o));c<u;++c)o[f[c]].index=c;return t(o,f),o}return r.keys=function(s){return arguments.length?(n=typeof s=="function"?s:rt(Array.from(s)),r):n},r.value=function(s){return arguments.length?(i=typeof s=="function"?s:rt(+s),r):i},r.order=function(s){return arguments.length?(e=s==null?Ky:typeof s=="function"?s:rt(Array.from(s)),r):e},r.offset=function(s){return arguments.length?(t=s??Fo,r):t},r}function SF(n,e){if((i=n.length)>0){for(var t,i,r=0,s=n[0].length,o;r<s;++r){for(o=t=0;t<i;++t)o+=n[t][r][1]||0;if(o)for(t=0;t<i;++t)n[t][r][1]/=o}Fo(n,e)}}function EF(n,e){if((r=n.length)>0){for(var t=0,i=n[e[0]],r,s=i.length;t<s;++t){for(var o=0,c=0;o<r;++o)c+=n[o][t][1]||0;i[t][1]+=i[t][0]=-c/2}Fo(n,e)}}function _F(n,e){if(!(!((o=n.length)>0)||!((s=(r=n[e[0]]).length)>0))){for(var t=0,i=1,r,s,o;i<s;++i){for(var c=0,u=0,h=0;c<o;++c){for(var f=n[e[c]],p=f[i][1]||0,g=f[i-1][1]||0,v=(p-g)/2,w=0;w<c;++w){var b=n[e[w]],A=b[i][1]||0,S=b[i-1][1]||0;v+=A-S}u+=p,h+=v*p}r[i-1][1]+=r[i-1][0]=t,u&&(t-=h/u)}r[i-1][1]+=r[i-1][0]=t,Fo(n,e)}}var Zg={},Qg={},QE;function CF(){return QE||(QE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==="__proto__"}n.isUnsafeProperty=e})(Qg)),Qg}var Jg={},JE;function MM(){return JE||(JE=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){switch(typeof t){case"number":case"symbol":return!1;case"string":return t.includes(".")||t.includes("[")||t.includes("]")}}n.isDeepKey=e})(Jg)),Jg}var ev={},e_;function b0(){return e_||(e_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="string"||typeof t=="symbol"?t:Object.is(t?.valueOf?.(),-0)?"-0":String(t)}n.toKey=e})(ev)),ev}var tv={},nv={},t_;function TF(){return t_||(t_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map(e).join(",");const i=String(t);return i==="0"&&Object.is(Number(t),-0)?"-0":i}n.toString=e})(nv)),nv}var n_;function x0(){return n_||(n_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=TF(),t=b0();function i(r){if(Array.isArray(r))return r.map(t.toKey);if(typeof r=="symbol")return[r];r=e.toString(r);const s=[],o=r.length;if(o===0)return s;let c=0,u="",h="",f=!1;for(r.charCodeAt(0)===46&&(s.push(""),c++);c<o;){const p=r[c];h?p==="\\"&&c+1<o?(c++,u+=r[c]):p===h?h="":u+=p:f?p==='"'||p==="'"?h=p:p==="]"?(f=!1,s.push(u),u=""):u+=p:p==="["?(f=!0,u&&(s.push(u),u="")):p==="."?u&&(s.push(u),u=""):u+=p,c++}return u&&s.push(u),s}n.toPath=i})(tv)),tv}var i_;function w0(){return i_||(i_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=CF(),t=MM(),i=b0(),r=x0();function s(c,u,h){if(c==null)return h;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return h;const f=c[u];return f===void 0?t.isDeepKey(u)?s(c,r.toPath(u),h):h:f}case"number":case"symbol":{typeof u=="number"&&(u=i.toKey(u));const f=c[u];return f===void 0?h:f}default:{if(Array.isArray(u))return o(c,u,h);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return h;const f=c[u];return f===void 0?h:f}}}function o(c,u,h){if(u.length===0)return h;let f=c;for(let p=0;p<u.length;p++){if(f==null||e.isUnsafeProperty(u[p]))return h;f=f[u[p]]}return f===void 0?h:f}n.get=s})(Zg)),Zg}var iv,r_;function OF(){return r_||(r_=1,iv=w0().get),iv}var MF=OF();const Uo=Yr(MF);var Bn=n=>n===0?0:n>0?1:-1,zi=n=>typeof n=="number"&&n!=+n,Fr=n=>typeof n=="string"&&n.indexOf("%")===n.length-1,ge=n=>(typeof n=="number"||n instanceof Number)&&!zi(n),ir=n=>ge(n)||typeof n=="string",PF=0,Pc=n=>{var e=++PF;return"".concat(n||"").concat(e)},Fi=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ge(e)&&typeof e!="string")return i;var s;if(Fr(e)){if(t==null)return i;var o=e.indexOf("%");s=t*parseFloat(e.slice(0,o))/100}else s=+e;return zi(s)&&(s=i),r&&t!=null&&s>t&&(s=t),s},PM=n=>{if(!Array.isArray(n))return!1;for(var e=n.length,t={},i=0;i<e;i++)if(!t[n[i]])t[n[i]]=!0;else return!0;return!1};function un(n,e,t){return ge(n)&&ge(e)?n+t*(e-n):e}function DF(n,e,t){if(!(!n||!n.length))return n.find(i=>i&&(typeof e=="function"?e(i):Uo(i,e))===t)}var Wt=n=>n===null||typeof n>"u",eu=n=>Wt(n)?n:"".concat(n.charAt(0).toUpperCase()).concat(n.slice(1));function kF(n){return n!=null}function tu(){}var RF=["type","size","sizeType"];function Zy(){return Zy=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Zy.apply(null,arguments)}function a_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function s_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?a_(Object(t),!0).forEach(function(i){NF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function NF(n,e,t){return(e=jF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function jF(n){var e=LF(n,"string");return typeof e=="symbol"?e:e+""}function LF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function IF(n,e){if(n==null)return{};var t,i,r=BF(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function BF(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var DM={symbolCircle:y0,symbolCross:Q4,symbolDiamond:eF,symbolSquare:tF,symbolStar:aF,symbolTriangle:sF,symbolWye:lF},zF=Math.PI/180,FF=n=>{var e="symbol".concat(eu(n));return DM[e]||y0},UF=(n,e,t)=>{if(e==="area")return n;switch(t){case"cross":return 5*n*n/9;case"diamond":return .5*n*n/Math.sqrt(3);case"square":return n*n;case"star":{var i=18*zF;return 1.25*n*n*(Math.tan(i)-Math.tan(i*2)*Math.tan(i)**2)}case"triangle":return Math.sqrt(3)*n*n/4;case"wye":return(21-10*Math.sqrt(3))*n*n/8;default:return Math.PI*n*n/4}},HF=(n,e)=>{DM["symbol".concat(eu(n))]=e},kM=n=>{var{type:e="circle",size:t=64,sizeType:i="area"}=n,r=IF(n,RF),s=s_(s_({},r),{},{type:e,size:t,sizeType:i}),o="circle";typeof e=="string"&&(o=e);var c=()=>{var g=FF(o),v=cF().type(g).size(UF(t,i,o)),w=v();if(w!==null)return w},{className:u,cx:h,cy:f}=s,p=Ci(s);return ge(h)&&ge(f)&&ge(t)?C.createElement("path",Zy({},p,{className:ct("recharts-symbols",u),transform:"translate(".concat(h,", ").concat(f,")"),d:c()})):null};kM.registerSymbol=HF;var RM=n=>"radius"in n&&"startAngle"in n&&"endAngle"in n,$F=(n,e)=>{if(!n||typeof n=="function"||typeof n=="boolean")return null;var t=n;if(C.isValidElement(n)&&(t=n.props),typeof t!="object"&&typeof t!="function")return null;var i={};return Object.keys(t).forEach(r=>{p0(r)&&(i[r]=(s=>t[r](t,s)))}),i},qF=(n,e,t)=>i=>(n(e,t,i),null),A0=(n,e,t)=>{if(n===null||typeof n!="object"&&typeof n!="function")return null;var i=null;return Object.keys(n).forEach(r=>{var s=n[r];p0(r)&&typeof s=="function"&&(i||(i={}),i[r]=qF(s,e,t))}),i};function o_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function GF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(t),!0).forEach(function(i){VF(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):o_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VF(n,e,t){return(e=YF(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YF(n){var e=XF(n,"string");return typeof e=="symbol"?e:e+""}function XF(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function ai(n,e){var t=GF({},n),i=e,r=Object.keys(e),s=r.reduce((o,c)=>(o[c]===void 0&&i[c]!==void 0&&(o[c]=i[c]),o),t);return s}var rv={},av={},l_;function WF(){return l_||(l_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){const r=new Map;for(let s=0;s<t.length;s++){const o=t[s],c=i(o);r.has(c)||r.set(c,o)}return Array.from(r.values())}n.uniqBy=e})(av)),av}var sv={},c_;function NM(){return c_||(c_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t}n.identity=e})(sv)),sv}var ov={},lv={},cv={},u_;function KF(){return u_||(u_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Number.isSafeInteger(t)&&t>=0}n.isLength=e})(cv)),cv}var d_;function S0(){return d_||(d_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=KF();function t(i){return i!=null&&typeof i!="function"&&e.isLength(i.length)}n.isArrayLike=t})(lv)),lv}var uv={},h_;function ZF(){return h_||(h_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="object"&&t!==null}n.isObjectLike=e})(uv)),uv}var f_;function QF(){return f_||(f_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=S0(),t=ZF();function i(r){return t.isObjectLike(r)&&e.isArrayLike(r)}n.isArrayLikeObject=i})(ov)),ov}var dv={},hv={},p_;function JF(){return p_||(p_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=w0();function t(i){return function(r){return e.get(r,i)}}n.property=t})(hv)),hv}var fv={},pv={},mv={},gv={},m_;function jM(){return m_||(m_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t!==null&&(typeof t=="object"||typeof t=="function")}n.isObject=e})(gv)),gv}var vv={},g_;function LM(){return g_||(g_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null||typeof t!="object"&&typeof t!="function"}n.isPrimitive=e})(vv)),vv}var yv={},v_;function IM(){return v_||(v_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i){return t===i||Number.isNaN(t)&&Number.isNaN(i)}n.eq=e})(yv)),yv}var y_;function e5(){return y_||(y_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=jM(),t=LM(),i=IM();function r(f,p,g){return typeof g!="function"?r(f,p,()=>{}):s(f,p,function v(w,b,A,S,M,_){const D=g(w,b,A,S,M,_);return D!==void 0?!!D:s(w,b,v,_)},new Map)}function s(f,p,g,v){if(p===f)return!0;switch(typeof p){case"object":return o(f,p,g,v);case"function":return Object.keys(p).length>0?s(f,{...p},g,v):i.eq(f,p);default:return e.isObject(f)?typeof p=="string"?p==="":!0:i.eq(f,p)}}function o(f,p,g,v){if(p==null)return!0;if(Array.isArray(p))return u(f,p,g,v);if(p instanceof Map)return c(f,p,g,v);if(p instanceof Set)return h(f,p,g,v);const w=Object.keys(p);if(f==null)return w.length===0;if(w.length===0)return!0;if(v?.has(p))return v.get(p)===f;v?.set(p,f);try{for(let b=0;b<w.length;b++){const A=w[b];if(!t.isPrimitive(f)&&!(A in f)||p[A]===void 0&&f[A]!==void 0||p[A]===null&&f[A]!==null||!g(f[A],p[A],A,f,p,v))return!1}return!0}finally{v?.delete(p)}}function c(f,p,g,v){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,b]of p.entries()){const A=f.get(w);if(g(A,b,w,f,p,v)===!1)return!1}return!0}function u(f,p,g,v){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let b=0;b<p.length;b++){const A=p[b];let S=!1;for(let M=0;M<f.length;M++){if(w.has(M))continue;const _=f[M];let D=!1;if(g(_,A,b,f,p,v)&&(D=!0),D){w.add(M),S=!0;break}}if(!S)return!1}return!0}function h(f,p,g,v){return p.size===0?!0:f instanceof Set?u([...f],[...p],g,v):!1}n.isMatchWith=r,n.isSetMatch=h})(mv)),mv}var b_;function BM(){return b_||(b_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=e5();function t(i,r){return e.isMatchWith(i,r,()=>{})}n.isMatch=t})(pv)),pv}var bv={},xv={},wv={},x_;function t5(){return x_||(x_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Object.getOwnPropertySymbols(t).filter(i=>Object.prototype.propertyIsEnumerable.call(t,i))}n.getSymbols=e})(wv)),wv}var Av={},w_;function zM(){return w_||(w_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}n.getTag=e})(Av)),Av}var Sv={},A_;function FM(){return A_||(A_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",t="[object String]",i="[object Number]",r="[object Boolean]",s="[object Arguments]",o="[object Symbol]",c="[object Date]",u="[object Map]",h="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",v="[object Object]",w="[object Error]",b="[object DataView]",A="[object Uint8Array]",S="[object Uint8ClampedArray]",M="[object Uint16Array]",_="[object Uint32Array]",D="[object BigUint64Array]",T="[object Int8Array]",P="[object Int16Array]",R="[object Int32Array]",N="[object BigInt64Array]",I="[object Float32Array]",W="[object Float64Array]";n.argumentsTag=s,n.arrayBufferTag=g,n.arrayTag=f,n.bigInt64ArrayTag=N,n.bigUint64ArrayTag=D,n.booleanTag=r,n.dataViewTag=b,n.dateTag=c,n.errorTag=w,n.float32ArrayTag=I,n.float64ArrayTag=W,n.functionTag=p,n.int16ArrayTag=P,n.int32ArrayTag=R,n.int8ArrayTag=T,n.mapTag=u,n.numberTag=i,n.objectTag=v,n.regexpTag=e,n.setTag=h,n.stringTag=t,n.symbolTag=o,n.uint16ArrayTag=M,n.uint32ArrayTag=_,n.uint8ArrayTag=A,n.uint8ClampedArrayTag=S})(Sv)),Sv}var Ev={},S_;function n5(){return S_||(S_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}n.isTypedArray=e})(Ev)),Ev}var E_;function UM(){return E_||(E_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=t5(),t=zM(),i=FM(),r=LM(),s=n5();function o(f,p){return c(f,void 0,f,new Map,p)}function c(f,p,g,v=new Map,w=void 0){const b=w?.(f,p,g,v);if(b!==void 0)return b;if(r.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const A=new Array(f.length);v.set(f,A);for(let S=0;S<f.length;S++)A[S]=c(f[S],S,g,v,w);return Object.hasOwn(f,"index")&&(A.index=f.index),Object.hasOwn(f,"input")&&(A.input=f.input),A}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const A=new RegExp(f.source,f.flags);return A.lastIndex=f.lastIndex,A}if(f instanceof Map){const A=new Map;v.set(f,A);for(const[S,M]of f)A.set(S,c(M,S,g,v,w));return A}if(f instanceof Set){const A=new Set;v.set(f,A);for(const S of f)A.add(c(S,void 0,g,v,w));return A}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const A=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,A);for(let S=0;S<f.length;S++)A[S]=c(f[S],S,g,v,w);return A}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const A=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,A),u(A,f,g,v,w),A}if(typeof File<"u"&&f instanceof File){const A=new File([f],f.name,{type:f.type});return v.set(f,A),u(A,f,g,v,w),A}if(typeof Blob<"u"&&f instanceof Blob){const A=new Blob([f],{type:f.type});return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof Error){const A=new f.constructor;return v.set(f,A),A.message=f.message,A.name=f.name,A.stack=f.stack,A.cause=f.cause,u(A,f,g,v,w),A}if(f instanceof Boolean){const A=new Boolean(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof Number){const A=new Number(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(f instanceof String){const A=new String(f.valueOf());return v.set(f,A),u(A,f,g,v,w),A}if(typeof f=="object"&&h(f)){const A=Object.create(Object.getPrototypeOf(f));return v.set(f,A),u(A,f,g,v,w),A}return f}function u(f,p,g=f,v,w){const b=[...Object.keys(p),...e.getSymbols(p)];for(let A=0;A<b.length;A++){const S=b[A],M=Object.getOwnPropertyDescriptor(f,S);(M==null||M.writable)&&(f[S]=c(p[S],S,g,v,w))}}function h(f){switch(t.getTag(f)){case i.argumentsTag:case i.arrayTag:case i.arrayBufferTag:case i.dataViewTag:case i.booleanTag:case i.dateTag:case i.float32ArrayTag:case i.float64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.mapTag:case i.numberTag:case i.objectTag:case i.regexpTag:case i.setTag:case i.stringTag:case i.symbolTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:return!0;default:return!1}}n.cloneDeepWith=o,n.cloneDeepWithImpl=c,n.copyProperties=u})(xv)),xv}var __;function i5(){return __||(__=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=UM();function t(i){return e.cloneDeepWithImpl(i,void 0,i,new Map,void 0)}n.cloneDeep=t})(bv)),bv}var C_;function r5(){return C_||(C_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=BM(),t=i5();function i(r){return r=t.cloneDeep(r),s=>e.isMatch(s,r)}n.matches=i})(fv)),fv}var _v={},Cv={},Tv={},T_;function a5(){return T_||(T_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=UM(),t=FM();function i(r,s){return e.cloneDeepWith(r,(o,c,u,h)=>{const f=s?.(o,c,u,h);if(f!==void 0)return f;if(typeof r=="object")switch(Object.prototype.toString.call(r)){case t.numberTag:case t.stringTag:case t.booleanTag:{const p=new r.constructor(r?.valueOf());return e.copyProperties(p,r),p}case t.argumentsTag:{const p={};return e.copyProperties(p,r),p.length=r.length,p[Symbol.iterator]=r[Symbol.iterator],p}default:return}})}n.cloneDeepWith=i})(Tv)),Tv}var O_;function s5(){return O_||(O_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=a5();function t(i){return e.cloneDeepWith(i)}n.cloneDeep=t})(Cv)),Cv}var Ov={},Mv={},M_;function HM(){return M_||(M_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function t(i,r=Number.MAX_SAFE_INTEGER){switch(typeof i){case"number":return Number.isInteger(i)&&i>=0&&i<r;case"symbol":return!1;case"string":return e.test(i)}}n.isIndex=t})(Mv)),Mv}var Pv={},P_;function o5(){return P_||(P_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=zM();function t(i){return i!==null&&typeof i=="object"&&e.getTag(i)==="[object Arguments]"}n.isArguments=t})(Pv)),Pv}var D_;function l5(){return D_||(D_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=MM(),t=HM(),i=o5(),r=x0();function s(o,c){let u;if(Array.isArray(c)?u=c:typeof c=="string"&&e.isDeepKey(c)&&o?.[c]==null?u=r.toPath(c):u=[c],u.length===0)return!1;let h=o;for(let f=0;f<u.length;f++){const p=u[f];if((h==null||!Object.hasOwn(h,p))&&!((Array.isArray(h)||i.isArguments(h))&&t.isIndex(p)&&p<h.length))return!1;h=h[p]}return!0}n.has=s})(Ov)),Ov}var k_;function c5(){return k_||(k_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=BM(),t=b0(),i=s5(),r=w0(),s=l5();function o(c,u){switch(typeof c){case"object":{Object.is(c?.valueOf(),-0)&&(c="-0");break}case"number":{c=t.toKey(c);break}}return u=i.cloneDeep(u),function(h){const f=r.get(h,c);return f===void 0?s.has(h,c):u===void 0?f===void 0:e.isMatch(f,u)}}n.matchesProperty=o})(_v)),_v}var R_;function u5(){return R_||(R_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=NM(),t=JF(),i=r5(),r=c5();function s(o){if(o==null)return e.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?r.matchesProperty(o[0],o[1]):i.matches(o);case"string":case"symbol":case"number":return t.property(o)}}n.iteratee=s})(dv)),dv}var N_;function d5(){return N_||(N_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=WF(),t=NM(),i=QF(),r=u5();function s(o,c=t.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),r.iteratee(c)):[]}n.uniqBy=s})(rv)),rv}var Dv,j_;function h5(){return j_||(j_=1,Dv=d5().uniqBy),Dv}var f5=h5();const L_=Yr(f5);function p5(n,e,t){return e===!0?L_(n,t):typeof e=="function"?L_(n,e):n}var kv={exports:{}},Rv={},Nv={exports:{}},jv={};var I_;function m5(){if(I_)return jv;I_=1;var n=Zo();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var t=typeof Object.is=="function"?Object.is:e,i=n.useState,r=n.useEffect,s=n.useLayoutEffect,o=n.useDebugValue;function c(p,g){var v=g(),w=i({inst:{value:v,getSnapshot:g}}),b=w[0].inst,A=w[1];return s(function(){b.value=v,b.getSnapshot=g,u(b)&&A({inst:b})},[p,v,g]),r(function(){return u(b)&&A({inst:b}),p(function(){u(b)&&A({inst:b})})},[p]),o(v),v}function u(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!t(p,v)}catch{return!0}}function h(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return jv.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:f,jv}var B_;function g5(){return B_||(B_=1,Nv.exports=m5()),Nv.exports}var z_;function v5(){if(z_)return Rv;z_=1;var n=Zo(),e=g5();function t(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var i=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=n.useRef,o=n.useEffect,c=n.useMemo,u=n.useDebugValue;return Rv.useSyncExternalStoreWithSelector=function(h,f,p,g,v){var w=s(null);if(w.current===null){var b={hasValue:!1,value:null};w.current=b}else b=w.current;w=c(function(){function S(P){if(!M){if(M=!0,_=P,P=g(P),v!==void 0&&b.hasValue){var R=b.value;if(v(R,P))return D=R}return D=P}if(R=D,i(_,P))return R;var N=g(P);return v!==void 0&&v(R,N)?(_=P,R):(_=P,D=N)}var M=!1,_,D,T=p===void 0?null:p;return[function(){return S(f())},T===null?void 0:function(){return S(T())}]},[f,p,g,v]);var A=r(h,w[0],w[1]);return o(function(){b.hasValue=!0,b.value=A},[A]),u(A),A},Rv}var F_;function y5(){return F_||(F_=1,kv.exports=v5()),kv.exports}var b5=y5(),E0=C.createContext(null),x5=n=>n,Ct=()=>{var n=C.useContext(E0);return n?n.store.dispatch:x5},bh=()=>{},w5=()=>bh,A5=(n,e)=>n===e;function be(n){var e=C.useContext(E0);return b5.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:w5,e?e.store.getState:bh,e?e.store.getState:bh,e?n:bh,A5)}function S5(n,e=`expected a function, instead received ${typeof n}`){if(typeof n!="function")throw new TypeError(e)}function E5(n,e=`expected an object, instead received ${typeof n}`){if(typeof n!="object")throw new TypeError(e)}function _5(n,e="expected all items to be functions, instead received the following types: "){if(!n.every(t=>typeof t=="function")){const t=n.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${e}[${t}]`)}}var U_=n=>Array.isArray(n)?n:[n];function C5(n){const e=Array.isArray(n[0])?n[0]:n;return _5(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function T5(n,e){const t=[],{length:i}=n;for(let r=0;r<i;r++)t.push(n[r].apply(null,e));return t}var O5=class{constructor(n){this.value=n}deref(){return this.value}},M5=typeof WeakRef<"u"?WeakRef:O5,P5=0,H_=1;function Kd(){return{s:P5,v:void 0,o:null,p:null}}function $M(n,e={}){let t=Kd();const{resultEqualityCheck:i}=e;let r,s=0;function o(){let c=t;const{length:u}=arguments;for(let p=0,g=u;p<g;p++){const v=arguments[p];if(typeof v=="function"||typeof v=="object"&&v!==null){let w=c.o;w===null&&(c.o=w=new WeakMap);const b=w.get(v);b===void 0?(c=Kd(),w.set(v,c)):c=b}else{let w=c.p;w===null&&(c.p=w=new Map);const b=w.get(v);b===void 0?(c=Kd(),w.set(v,c)):c=b}}const h=c;let f;if(c.s===H_)f=c.v;else if(f=n.apply(null,arguments),s++,i){const p=r?.deref?.()??r;p!=null&&i(p,f)&&(f=p,s!==0&&s--),r=typeof f=="object"&&f!==null||typeof f=="function"?new M5(f):f}return h.s=H_,h.v=f,f}return o.clearCache=()=>{t=Kd(),o.resetResultsCount()},o.resultsCount=()=>s,o.resetResultsCount=()=>{s=0},o}function D5(n,...e){const t=typeof n=="function"?{memoize:n,memoizeOptions:e}:n,i=(...r)=>{let s=0,o=0,c,u={},h=r.pop();typeof h=="object"&&(u=h,h=r.pop()),S5(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const f={...t,...u},{memoize:p,memoizeOptions:g=[],argsMemoize:v=$M,argsMemoizeOptions:w=[]}=f,b=U_(g),A=U_(w),S=C5(r),M=p(function(){return s++,h.apply(null,arguments)},...b),_=v(function(){o++;const T=T5(S,arguments);return c=M.apply(null,T),c},...A);return Object.assign(_,{resultFunc:h,memoizedResultFunc:M,dependencies:S,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>c,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:p,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var X=D5($M),k5=Object.assign((n,e=X)=>{E5(n,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof n}`);const t=Object.keys(n),i=t.map(s=>n[s]);return e(i,(...s)=>s.reduce((o,c,u)=>(o[t[u]]=c,o),{}))},{withTypes:()=>k5}),Lv={},Iv={},Bv={},$_;function R5(){return $_||($_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(i){return typeof i=="symbol"?1:i===null?2:i===void 0?3:i!==i?4:0}const t=(i,r,s)=>{if(i!==r){const o=e(i),c=e(r);if(o===c&&o===0){if(i<r)return s==="desc"?1:-1;if(i>r)return s==="desc"?-1:1}return s==="desc"?c-o:o-c}return 0};n.compareValues=t})(Bv)),Bv}var zv={},Fv={},q_;function qM(){return q_||(q_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return typeof t=="symbol"||t instanceof Symbol}n.isSymbol=e})(Fv)),Fv}var G_;function N5(){return G_||(G_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qM(),t=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,o){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(i.test(s)||!t.test(s))||o!=null&&Object.hasOwn(o,s)}n.isKey=r})(zv)),zv}var V_;function j5(){return V_||(V_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=R5(),t=N5(),i=x0();function r(s,o,c,u){if(s==null)return[];c=u?void 0:c,Array.isArray(s)||(s=Object.values(s)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(c)||(c=c==null?[]:[c]),c=c.map(v=>String(v));const h=(v,w)=>{let b=v;for(let A=0;A<w.length&&b!=null;++A)b=b[w[A]];return b},f=(v,w)=>w==null||v==null?w:typeof v=="object"&&"key"in v?Object.hasOwn(w,v.key)?w[v.key]:h(w,v.path):typeof v=="function"?v(w):Array.isArray(v)?h(w,v):typeof w=="object"?w[v]:w,p=o.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||t.isKey(v)?v:{key:v,path:i.toPath(v)}));return s.map(v=>({original:v,criteria:p.map(w=>f(w,v))})).slice().sort((v,w)=>{for(let b=0;b<p.length;b++){const A=e.compareValues(v.criteria[b],w.criteria[b],c[b]);if(A!==0)return A}return 0}).map(v=>v.original)}n.orderBy=r})(Iv)),Iv}var Uv={},Y_;function L5(){return Y_||(Y_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i=1){const r=[],s=Math.floor(i),o=(c,u)=>{for(let h=0;h<c.length;h++){const f=c[h];Array.isArray(f)&&u<s?o(f,u+1):r.push(f)}};return o(t,0),r}n.flatten=e})(Uv)),Uv}var Hv={},X_;function GM(){return X_||(X_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=HM(),t=S0(),i=jM(),r=IM();function s(o,c,u){return i.isObject(u)&&(typeof c=="number"&&t.isArrayLike(u)&&e.isIndex(c)&&c<u.length||typeof c=="string"&&c in u)?r.eq(u[c],o):!1}n.isIterateeCall=s})(Hv)),Hv}var W_;function I5(){return W_||(W_=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=j5(),t=L5(),i=GM();function r(s,...o){const c=o.length;return c>1&&i.isIterateeCall(s,o[0],o[1])?o=[]:c>2&&i.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),e.orderBy(s,t.flatten(o),["asc"])}n.sortBy=r})(Lv)),Lv}var $v,K_;function B5(){return K_||(K_=1,$v=I5().sortBy),$v}var z5=B5();const Rf=Yr(z5);var VM=n=>n.legend.settings,F5=n=>n.legend.size,U5=n=>n.legend.payload;X([U5,VM],(n,e)=>{var{itemSorter:t}=e,i=n.flat(1);return t?Rf(i,t):i});var Zd=1;function H5(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,t]=C.useState({height:0,left:0,top:0,width:0}),i=C.useCallback(r=>{if(r!=null){var s=r.getBoundingClientRect(),o={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(o.height-e.height)>Zd||Math.abs(o.left-e.left)>Zd||Math.abs(o.top-e.top)>Zd||Math.abs(o.width-e.width)>Zd)&&t({height:o.height,left:o.left,top:o.top,width:o.width})}},[e.width,e.height,e.top,e.left,...n]);return[e,i]}function ln(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var $5=typeof Symbol=="function"&&Symbol.observable||"@@observable",Z_=$5,qv=()=>Math.random().toString(36).substring(7).split("").join("."),q5={INIT:`@@redux/INIT${qv()}`,REPLACE:`@@redux/REPLACE${qv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${qv()}`},Rh=q5;function _0(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function YM(n,e,t){if(typeof n!="function")throw new Error(ln(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(ln(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(ln(1));return t(YM)(n,e)}let i=n,r=e,s=new Map,o=s,c=0,u=!1;function h(){o===s&&(o=new Map,s.forEach((A,S)=>{o.set(S,A)}))}function f(){if(u)throw new Error(ln(3));return r}function p(A){if(typeof A!="function")throw new Error(ln(4));if(u)throw new Error(ln(5));let S=!0;h();const M=c++;return o.set(M,A),function(){if(S){if(u)throw new Error(ln(6));S=!1,h(),o.delete(M),s=null}}}function g(A){if(!_0(A))throw new Error(ln(7));if(typeof A.type>"u")throw new Error(ln(8));if(typeof A.type!="string")throw new Error(ln(17));if(u)throw new Error(ln(9));try{u=!0,r=i(r,A)}finally{u=!1}return(s=o).forEach(M=>{M()}),A}function v(A){if(typeof A!="function")throw new Error(ln(10));i=A,g({type:Rh.REPLACE})}function w(){const A=p;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(ln(11));function M(){const D=S;D.next&&D.next(f())}return M(),{unsubscribe:A(M)}},[Z_](){return this}}}return g({type:Rh.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:v,[Z_]:w}}function G5(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:Rh.INIT})>"u")throw new Error(ln(12));if(typeof t(void 0,{type:Rh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ln(13))})}function XM(n){const e=Object.keys(n),t={};for(let s=0;s<e.length;s++){const o=e[s];typeof n[o]=="function"&&(t[o]=n[o])}const i=Object.keys(t);let r;try{G5(t)}catch(s){r=s}return function(o={},c){if(r)throw r;let u=!1;const h={};for(let f=0;f<i.length;f++){const p=i[f],g=t[p],v=o[p],w=g(v,c);if(typeof w>"u")throw c&&c.type,new Error(ln(14));h[p]=w,u=u||w!==v}return u=u||i.length!==Object.keys(o).length,u?h:o}}function Nh(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function V5(...n){return e=>(t,i)=>{const r=e(t,i);let s=()=>{throw new Error(ln(15))};const o={getState:r.getState,dispatch:(u,...h)=>s(u,...h)},c=n.map(u=>u(o));return s=Nh(...c)(r.dispatch),{...r,dispatch:s}}}function WM(n){return _0(n)&&"type"in n&&typeof n.type=="string"}var KM=Symbol.for("immer-nothing"),Q_=Symbol.for("immer-draftable"),_n=Symbol.for("immer-state");function Ni(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ni=Object,Ho=ni.getPrototypeOf,jh="constructor",Nf="prototype",Qy="configurable",Lh="enumerable",xh="writable",Dc="value",Ur=n=>!!n&&!!n[_n];function Ui(n){return n?ZM(n)||jf(n)||!!n[Q_]||!!n[jh]?.[Q_]||Lf(n)||If(n):!1}var Y5=ni[Nf][jh].toString(),J_=new WeakMap;function ZM(n){if(!n||!C0(n))return!1;const e=Ho(n);if(e===null||e===ni[Nf])return!0;const t=ni.hasOwnProperty.call(e,jh)&&e[jh];if(t===Object)return!0;if(!Co(t))return!1;let i=J_.get(t);return i===void 0&&(i=Function.toString.call(t),J_.set(t,i)),i===Y5}function nu(n,e,t=!0){iu(n)===0?(t?Reflect.ownKeys(n):ni.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function iu(n){const e=n[_n];return e?e.type_:jf(n)?1:Lf(n)?2:If(n)?3:0}var eC=(n,e,t=iu(n))=>t===2?n.has(e):ni[Nf].hasOwnProperty.call(n,e),Jy=(n,e,t=iu(n))=>t===2?n.get(e):n[e],Ih=(n,e,t,i=iu(n))=>{i===2?n.set(e,t):i===3?n.add(t):n[e]=t};function X5(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}var jf=Array.isArray,Lf=n=>n instanceof Map,If=n=>n instanceof Set,C0=n=>typeof n=="object",Co=n=>typeof n=="function",Gv=n=>typeof n=="boolean",Or=n=>n.copy_||n.base_,T0=n=>n.modified_?n.copy_:n.base_;function eb(n,e){if(Lf(n))return new Map(n);if(If(n))return new Set(n);if(jf(n))return Array[Nf].slice.call(n);const t=ZM(n);if(e===!0||e==="class_only"&&!t){const i=ni.getOwnPropertyDescriptors(n);delete i[_n];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const o=r[s],c=i[o];c[xh]===!1&&(c[xh]=!0,c[Qy]=!0),(c.get||c.set)&&(i[o]={[Qy]:!0,[xh]:!0,[Lh]:c[Lh],[Dc]:n[o]})}return ni.create(Ho(n),i)}else{const i=Ho(n);if(i!==null&&t)return{...n};const r=ni.create(i);return ni.assign(r,n)}}function O0(n,e=!1){return Bf(n)||Ur(n)||!Ui(n)||(iu(n)>1&&ni.defineProperties(n,{set:Qd,add:Qd,clear:Qd,delete:Qd}),ni.freeze(n),e&&nu(n,(t,i)=>{O0(i,!0)},!1)),n}function W5(){Ni(2)}var Qd={[Dc]:W5};function Bf(n){return n===null||!C0(n)?!0:ni.isFrozen(n)}var Bh="MapSet",tb="Patches",QM={};function $o(n){const e=QM[n];return e||Ni(0,n),e}var K5=n=>!!QM[n],kc,JM=()=>kc,Z5=(n,e)=>({drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:K5(Bh)?$o(Bh):void 0});function tC(n,e){e&&(n.patchPlugin_=$o(tb),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function nb(n){ib(n),n.drafts_.forEach(Q5),n.drafts_=null}function ib(n){n===kc&&(kc=n.parent_)}var nC=n=>kc=Z5(kc,n);function Q5(n){const e=n[_n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function iC(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];if(n!==void 0&&n!==t){t[_n].modified_&&(nb(e),Ni(4)),Ui(n)&&(n=rC(e,n));const{patchPlugin_:r}=e;r&&r.generateReplacementPatches_(t[_n].base_,n,e)}else n=rC(e,t);return J5(e,n,!0),nb(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==KM?n:void 0}function rC(n,e){if(Bf(e))return e;const t=e[_n];if(!t)return M0(e,n.handledSet_,n);if(!zf(t,n))return e;if(!t.modified_)return t.base_;if(!t.finalized_){const{callbacks_:i}=t;if(i)for(;i.length>0;)i.pop()(n);nP(t,n)}return t.copy_}function J5(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&O0(e,t)}function eP(n){n.finalized_=!0,n.scope_.unfinalizedDrafts_--}var zf=(n,e)=>n.scope_===e,eU=[];function tP(n,e,t,i){const r=Or(n),s=n.type_;if(i!==void 0&&Jy(r,i,s)===e){Ih(r,i,t,s);return}if(!n.draftLocations_){const c=n.draftLocations_=new Map;nu(r,(u,h)=>{if(Ur(h)){const f=c.get(h)||[];f.push(u),c.set(h,f)}})}const o=n.draftLocations_.get(e)??eU;for(const c of o)Ih(r,c,t,s)}function tU(n,e,t){n.callbacks_.push(function(r){const s=e;if(!s||!zf(s,r))return;r.mapSetPlugin_?.fixSetContents(s);const o=T0(s);tP(n,s.draft_??s,o,t),nP(s,r)})}function nP(n,e){if(n.modified_&&!n.finalized_&&(n.type_===3||(n.assigned_?.size??0)>0)){const{patchPlugin_:i}=e;if(i){const r=i.getPath(n);r&&i.generatePatches_(n,r,e)}eP(n)}}function nU(n,e,t){const{scope_:i}=n;if(Ur(t)){const r=t[_n];zf(r,i)&&r.callbacks_.push(function(){wh(n);const o=T0(r);tP(n,t,o,e)})}else Ui(t)&&n.callbacks_.push(function(){const s=Or(n);Jy(s,e,n.type_)===t&&i.drafts_.length>1&&(n.assigned_.get(e)??!1)===!0&&n.copy_&&M0(Jy(n.copy_,e,n.type_),i.handledSet_,i)})}function M0(n,e,t){return!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||Ur(n)||e.has(n)||!Ui(n)||Bf(n)||(e.add(n),nu(n,(i,r)=>{if(Ur(r)){const s=r[_n];if(zf(s,t)){const o=T0(s);Ih(n,i,o,n.type_),eP(s)}}else Ui(r)&&M0(r,e,t)})),n}function iU(n,e){const t=jf(n),i={type_:t?1:0,scope_:e?e.scope_:JM(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let r=i,s=P0;t&&(r=[i],s=Rc);const{revoke:o,proxy:c}=Proxy.revocable(r,s);return i.draft_=c,i.revoke_=o,[c,i]}var P0={get(n,e){if(e===_n)return n;const t=Or(n);if(!eC(t,e,n.type_))return rU(n,t,e);const i=t[e];if(n.finalized_||!Ui(i))return i;if(i===Vv(n.base_,e)){wh(n);const r=n.type_===1?+e:e,s=ab(n.scope_,i,n,r);return n.copy_[r]=s}return i},has(n,e){return e in Or(n)},ownKeys(n){return Reflect.ownKeys(Or(n))},set(n,e,t){const i=iP(Or(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=Vv(Or(n),e),s=r?.[_n];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_.set(e,!1),!0;if(X5(t,r)&&(t!==void 0||eC(n.base_,e,n.type_)))return!0;wh(n),rb(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_.set(e,!0),nU(n,e,t)),!0},deleteProperty(n,e){return wh(n),Vv(n.base_,e)!==void 0||e in n.base_?(n.assigned_.set(e,!1),rb(n)):n.assigned_.delete(e),n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Or(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{[xh]:!0,[Qy]:n.type_!==1||e!=="length",[Lh]:i[Lh],[Dc]:t[e]}},defineProperty(){Ni(11)},getPrototypeOf(n){return Ho(n.base_)},setPrototypeOf(){Ni(12)}},Rc={};nu(P0,(n,e)=>{Rc[n]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}});Rc.deleteProperty=function(n,e){return Rc.set.call(this,n,e,void 0)};Rc.set=function(n,e,t){return P0.set.call(this,n[0],e,t,n[0])};function Vv(n,e){const t=n[_n];return(t?Or(t):n)[e]}function rU(n,e,t){const i=iP(e,t);return i?Dc in i?i[Dc]:i.get?.call(n.draft_):void 0}function iP(n,e){if(!(e in n))return;let t=Ho(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Ho(t)}}function rb(n){n.modified_||(n.modified_=!0,n.parent_&&rb(n.parent_))}function wh(n){n.copy_||(n.assigned_=new Map,n.copy_=eb(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var aU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,i,r)=>{if(Co(t)&&!Co(i)){const o=i;i=t;const c=this;return function(h=o,...f){return c.produce(h,p=>i.call(this,p,...f))}}Co(i)||Ni(6),r!==void 0&&!Co(r)&&Ni(7);let s;if(Ui(t)){const o=nC(this),c=ab(o,t,void 0);let u=!0;try{s=i(c),u=!1}finally{u?nb(o):ib(o)}return tC(o,r),iC(s,o)}else if(!t||!C0(t)){if(s=i(t),s===void 0&&(s=t),s===KM&&(s=void 0),this.autoFreeze_&&O0(s,!0),r){const o=[],c=[];$o(tb).generateReplacementPatches_(t,s,{patches_:o,inversePatches_:c}),r(o,c)}return s}else Ni(1,t)},this.produceWithPatches=(t,i)=>{if(Co(t))return(c,...u)=>this.produceWithPatches(c,h=>t(h,...u));let r,s;return[this.produce(t,i,(c,u)=>{r=c,s=u}),r,s]},Gv(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),Gv(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),Gv(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ui(e)||Ni(8),Ur(e)&&(e=Bi(e));const t=nC(this),i=ab(t,e,void 0);return i[_n].isManual_=!0,ib(t),i}finishDraft(e,t){const i=e&&e[_n];(!i||!i.isManual_)&&Ni(9);const{scope_:r}=i;return tC(r,t),iC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let i;for(i=t.length-1;i>=0;i--){const s=t[i];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}i>-1&&(t=t.slice(i+1));const r=$o(tb).applyPatches_;return Ur(e)?r(e,t):this.produce(e,s=>r(s,t))}};function ab(n,e,t,i){const[r,s]=Lf(e)?$o(Bh).proxyMap_(e,t):If(e)?$o(Bh).proxySet_(e,t):iU(e,t);return(t?.scope_??JM()).drafts_.push(r),s.callbacks_=t?.callbacks_??[],s.key_=i,t&&i!==void 0?tU(t,s,i):s.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(s);const{patchPlugin_:h}=u;s.modified_&&h&&h.generatePatches_(s,[],u)}),r}function Bi(n){return Ur(n)||Ni(10,n),rP(n)}function rP(n){if(!Ui(n)||Bf(n))return n;const e=n[_n];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=eb(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=eb(n,!0);return nu(t,(r,s)=>{Ih(t,r,rP(s))},i),e&&(e.finalized_=!1),t}var sU=new aU,aP=sU.produce;function sP(n){return({dispatch:t,getState:i})=>r=>s=>typeof s=="function"?s(t,i,n):r(s)}var oU=sP(),lU=sP,cU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nh:Nh.apply(null,arguments)};function Ti(n,e){function t(...i){if(e){let r=e(...i);if(!r)throw new Error(ii(0));return{type:n,payload:r.payload,..."meta"in r&&{meta:r.meta},..."error"in r&&{error:r.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>WM(i)&&i.type===n,t}var oP=class xc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,xc.prototype)}static get[Symbol.species](){return xc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new xc(...e[0].concat(this)):new xc(...e.concat(this))}};function aC(n){return Ui(n)?aP(n,()=>{}):n}function Jd(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function uU(n){return typeof n=="boolean"}var dU=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=e??{};let o=new oP;return t&&(uU(t)?o.push(oU):o.push(lU(t.extraArgument))),o},lP="RTK_autoBatch",ft=()=>n=>({payload:n,meta:{[lP]:!0}}),sC=n=>e=>{setTimeout(e,n)},cP=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let r=!0,s=!1,o=!1;const c=new Set,u=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:sC(10):n.type==="callback"?n.queueNotification:sC(n.timeout),h=()=>{o=!1,s&&(s=!1,c.forEach(f=>f()))};return Object.assign({},i,{subscribe(f){const p=()=>r&&f(),g=i.subscribe(p);return c.add(f),()=>{g(),c.delete(f)}},dispatch(f){try{return r=!f?.meta?.[lP],s=!r,s&&(o||(o=!0,u(h))),i.dispatch(f)}finally{r=!0}}})},hU=n=>function(t){const{autoBatch:i=!0}=t??{};let r=new oP(n);return i&&r.push(cP(typeof i=="object"?i:void 0)),r};function fU(n){const e=dU(),{reducer:t=void 0,middleware:i,devTools:r=!0,preloadedState:s=void 0,enhancers:o=void 0}=n||{};let c;if(typeof t=="function")c=t;else if(_0(t))c=XM(t);else throw new Error(ii(1));let u;typeof i=="function"?u=i(e):u=e();let h=Nh;r&&(h=cU({trace:!1,...typeof r=="object"&&r}));const f=V5(...u),p=hU(f);let g=typeof o=="function"?o(p):p();const v=h(...g);return YM(c,s,v)}function uP(n){const e={},t=[];let i;const r={addCase(s,o){const c=typeof s=="string"?s:s.type;if(!c)throw new Error(ii(28));if(c in e)throw new Error(ii(29));return e[c]=o,r},addAsyncThunk(s,o){return o.pending&&(e[s.pending.type]=o.pending),o.rejected&&(e[s.rejected.type]=o.rejected),o.fulfilled&&(e[s.fulfilled.type]=o.fulfilled),o.settled&&t.push({matcher:s.settled,reducer:o.settled}),r},addMatcher(s,o){return t.push({matcher:s,reducer:o}),r},addDefaultCase(s){return i=s,r}};return n(r),[e,t,i]}function pU(n){return typeof n=="function"}function mU(n,e){let[t,i,r]=uP(e),s;if(pU(n))s=()=>aC(n());else{const c=aC(n);s=()=>c}function o(c=s(),u){let h=[t[u.type],...i.filter(({matcher:f})=>f(u)).map(({reducer:f})=>f)];return h.filter(f=>!!f).length===0&&(h=[r]),h.reduce((f,p)=>{if(p)if(Ur(f)){const v=p(f,u);return v===void 0?f:v}else{if(Ui(f))return aP(f,g=>p(g,u));{const g=p(f,u);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},c)}return o.getInitialState=s,o}var gU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",vU=(n=21)=>{let e="",t=n;for(;t--;)e+=gU[Math.random()*64|0];return e},yU=Symbol.for("rtk-slice-createasyncthunk");function bU(n,e){return`${n}/${e}`}function xU({creators:n}={}){const e=n?.asyncThunk?.[yU];return function(i){const{name:r,reducerPath:s=r}=i;if(!r)throw new Error(ii(11));const o=(typeof i.reducers=="function"?i.reducers(AU()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(_,D){const T=typeof _=="string"?_:_.type;if(!T)throw new Error(ii(12));if(T in u.sliceCaseReducersByType)throw new Error(ii(13));return u.sliceCaseReducersByType[T]=D,h},addMatcher(_,D){return u.sliceMatchers.push({matcher:_,reducer:D}),h},exposeAction(_,D){return u.actionCreators[_]=D,h},exposeCaseReducer(_,D){return u.sliceCaseReducersByName[_]=D,h}};c.forEach(_=>{const D=o[_],T={reducerName:_,type:bU(r,_),createNotation:typeof i.reducers=="function"};EU(D)?CU(T,D,h,e):SU(T,D,h)});function f(){const[_={},D=[],T=void 0]=typeof i.extraReducers=="function"?uP(i.extraReducers):[i.extraReducers],P={..._,...u.sliceCaseReducersByType};return mU(i.initialState,R=>{for(let N in P)R.addCase(N,P[N]);for(let N of u.sliceMatchers)R.addMatcher(N.matcher,N.reducer);for(let N of D)R.addMatcher(N.matcher,N.reducer);T&&R.addDefaultCase(T)})}const p=_=>_,g=new Map,v=new WeakMap;let w;function b(_,D){return w||(w=f()),w(_,D)}function A(){return w||(w=f()),w.getInitialState()}function S(_,D=!1){function T(R){let N=R[_];return typeof N>"u"&&D&&(N=Jd(v,T,A)),N}function P(R=p){const N=Jd(g,D,()=>new WeakMap);return Jd(N,R,()=>{const I={};for(const[W,U]of Object.entries(i.selectors??{}))I[W]=wU(U,R,()=>Jd(v,R,A),D);return I})}return{reducerPath:_,getSelectors:P,get selectors(){return P(T)},selectSlice:T}}const M={name:r,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:A,...S(s),injectInto(_,{reducerPath:D,...T}={}){const P=D??s;return _.inject({reducerPath:P,reducer:b},T),{...M,...S(P,!0)}}};return M}}function wU(n,e,t,i){function r(s,...o){let c=e(s);return typeof c>"u"&&i&&(c=t()),n(c,...o)}return r.unwrapped=n,r}var Fn=xU();function AU(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function SU({type:n,reducerName:e,createNotation:t},i,r){let s,o;if("reducer"in i){if(t&&!_U(i))throw new Error(ii(17));s=i.reducer,o=i.prepare}else s=i;r.addCase(n,s).exposeCaseReducer(e,s).exposeAction(e,o?Ti(n,o):Ti(n))}function EU(n){return n._reducerDefinitionType==="asyncThunk"}function _U(n){return n._reducerDefinitionType==="reducerWithPrepare"}function CU({type:n,reducerName:e},t,i,r){if(!r)throw new Error(ii(18));const{payloadCreator:s,fulfilled:o,pending:c,rejected:u,settled:h,options:f}=t,p=r(n,s,f);i.exposeAction(e,p),o&&i.addCase(p.fulfilled,o),c&&i.addCase(p.pending,c),u&&i.addCase(p.rejected,u),h&&i.addMatcher(p.settled,h),i.exposeCaseReducer(e,{fulfilled:o||eh,pending:c||eh,rejected:u||eh,settled:h||eh})}function eh(){}var TU="task",dP="listener",hP="completed",D0="cancelled",OU=`task-${D0}`,MU=`task-${hP}`,sb=`${dP}-${D0}`,PU=`${dP}-${hP}`,Ff=class{constructor(n){this.code=n,this.message=`${TU} ${D0} (reason: ${n})`}name="TaskAbortError";message},k0=(n,e)=>{if(typeof n!="function")throw new TypeError(ii(32))},zh=()=>{},fP=(n,e=zh)=>(n.catch(e),n),pP=(n,e)=>(n.addEventListener("abort",e,{once:!0}),()=>n.removeEventListener("abort",e)),gs=n=>{if(n.aborted)throw new Ff(n.reason)};function mP(n,e){let t=zh;return new Promise((i,r)=>{const s=()=>r(new Ff(n.reason));if(n.aborted){s();return}t=pP(n,s),e.finally(()=>t()).then(i,r)}).finally(()=>{t=zh})}var DU=async(n,e)=>{try{return await Promise.resolve(),{status:"ok",value:await n()}}catch(t){return{status:t instanceof Ff?"cancelled":"rejected",error:t}}finally{e?.()}},Fh=n=>e=>fP(mP(n,e).then(t=>(gs(n),t))),gP=n=>{const e=Fh(n);return t=>e(new Promise(i=>setTimeout(i,t)))},{assign:Lo}=Object,oC={},Uf="listenerMiddleware",kU=(n,e)=>{const t=i=>pP(n,()=>i.abort(n.reason));return(i,r)=>{k0(i);const s=new AbortController;t(s);const o=DU(async()=>{gs(n),gs(s.signal);const c=await i({pause:Fh(s.signal),delay:gP(s.signal),signal:s.signal});return gs(s.signal),c},()=>s.abort(MU));return r?.autoJoin&&e.push(o.catch(zh)),{result:Fh(n)(o),cancel(){s.abort(OU)}}}},RU=(n,e)=>{const t=async(i,r)=>{gs(e);let s=()=>{};const c=[new Promise((u,h)=>{let f=n({predicate:i,effect:(p,g)=>{g.unsubscribe(),u([p,g.getState(),g.getOriginalState()])}});s=()=>{f(),h()}})];r!=null&&c.push(new Promise(u=>setTimeout(u,r,null)));try{const u=await mP(e,Promise.race(c));return gs(e),u}finally{s()}};return(i,r)=>fP(t(i,r))},vP=n=>{let{type:e,actionCreator:t,matcher:i,predicate:r,effect:s}=n;if(e)r=Ti(e).match;else if(t)e=t.type,r=t.match;else if(i)r=i;else if(!r)throw new Error(ii(21));return k0(s),{predicate:r,type:e,effect:s}},yP=Lo(n=>{const{type:e,predicate:t,effect:i}=vP(n);return{id:vU(),effect:i,type:e,predicate:t,pending:new Set,unsubscribe:()=>{throw new Error(ii(22))}}},{withTypes:()=>yP}),lC=(n,e)=>{const{type:t,effect:i,predicate:r}=vP(e);return Array.from(n.values()).find(s=>(typeof t=="string"?s.type===t:s.predicate===r)&&s.effect===i)},ob=n=>{n.pending.forEach(e=>{e.abort(sb)})},NU=(n,e)=>()=>{for(const t of e.keys())ob(t);n.clear()},cC=(n,e,t)=>{try{n(e,t)}catch(i){setTimeout(()=>{throw i},0)}},bP=Lo(Ti(`${Uf}/add`),{withTypes:()=>bP}),jU=Ti(`${Uf}/removeAll`),xP=Lo(Ti(`${Uf}/remove`),{withTypes:()=>xP}),LU=(...n)=>{console.error(`${Uf}/error`,...n)},ru=(n={})=>{const e=new Map,t=new Map,i=v=>{const w=t.get(v)??0;t.set(v,w+1)},r=v=>{const w=t.get(v)??1;w===1?t.delete(v):t.set(v,w-1)},{extra:s,onError:o=LU}=n;k0(o);const c=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),w=>{v.unsubscribe(),w?.cancelActive&&ob(v)}),u=v=>{const w=lC(e,v)??yP(v);return c(w)};Lo(u,{withTypes:()=>u});const h=v=>{const w=lC(e,v);return w&&(w.unsubscribe(),v.cancelActive&&ob(w)),!!w};Lo(h,{withTypes:()=>h});const f=async(v,w,b,A)=>{const S=new AbortController,M=RU(u,S.signal),_=[];try{v.pending.add(S),i(v),await Promise.resolve(v.effect(w,Lo({},b,{getOriginalState:A,condition:(D,T)=>M(D,T).then(Boolean),take:M,delay:gP(S.signal),pause:Fh(S.signal),extra:s,signal:S.signal,fork:kU(S.signal,_),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((D,T,P)=>{D!==S&&(D.abort(sb),P.delete(D))})},cancel:()=>{S.abort(sb),v.pending.delete(S)},throwIfCancelled:()=>{gs(S.signal)}})))}catch(D){D instanceof Ff||cC(o,D,{raisedBy:"effect"})}finally{await Promise.all(_),S.abort(PU),r(v),v.pending.delete(S)}},p=NU(e,t);return{middleware:v=>w=>b=>{if(!WM(b))return w(b);if(bP.match(b))return u(b.payload);if(jU.match(b)){p();return}if(xP.match(b))return h(b.payload);let A=v.getState();const S=()=>{if(A===oC)throw new Error(ii(23));return A};let M;try{if(M=w(b),e.size>0){const _=v.getState(),D=Array.from(e.values());for(const T of D){let P=!1;try{P=T.predicate(b,_,A)}catch(R){P=!1,cC(o,R,{raisedBy:"predicate"})}P&&f(T,b,v,S)}}}finally{A=oC}return M},startListening:u,stopListening:h,clearListeners:p}};function ii(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var IU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wP=Fn({name:"chartLayout",initialState:IU,reducers:{setLayout(n,e){n.layoutType=e.payload},setChartSize(n,e){n.width=e.payload.width,n.height=e.payload.height},setMargin(n,e){var t,i,r,s;n.margin.top=(t=e.payload.top)!==null&&t!==void 0?t:0,n.margin.right=(i=e.payload.right)!==null&&i!==void 0?i:0,n.margin.bottom=(r=e.payload.bottom)!==null&&r!==void 0?r:0,n.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(n,e){n.scale=e.payload}}}),{setMargin:BU,setLayout:zU,setChartSize:FU,setScale:UU}=wP.actions,HU=wP.reducer;function AP(n,e,t){return Array.isArray(n)&&n&&e+t!==0?n.slice(e,t+1):n}function uC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Po(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(t),!0).forEach(function(i){$U(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):uC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function $U(n,e,t){return(e=qU(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qU(n){var e=GU(n,"string");return typeof e=="symbol"?e:e+""}function GU(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function gn(n,e,t){return Wt(n)||Wt(e)?t:ir(e)?Uo(n,e,t):typeof e=="function"?e(n):t}var VU=(n,e,t)=>{if(e&&t){var{width:i,height:r}=t,{align:s,verticalAlign:o,layout:c}=e;if((c==="vertical"||c==="horizontal"&&o==="middle")&&s!=="center"&&ge(n[s]))return Po(Po({},n),{},{[s]:n[s]+(i||0)});if((c==="horizontal"||c==="vertical"&&s==="center")&&o!=="middle"&&ge(n[o]))return Po(Po({},n),{},{[o]:n[o]+(r||0)})}return n},Ps=(n,e)=>n==="horizontal"&&e==="xAxis"||n==="vertical"&&e==="yAxis"||n==="centric"&&e==="angleAxis"||n==="radial"&&e==="radiusAxis",SP=(n,e,t,i)=>{if(i)return n.map(c=>c.coordinate);var r,s,o=n.map(c=>(c.coordinate===e&&(r=!0),c.coordinate===t&&(s=!0),c.coordinate));return r||o.push(e),s||o.push(t),o},EP=(n,e,t)=>{if(!n)return null;var{duplicateDomain:i,type:r,range:s,scale:o,realScaleType:c,isCategorical:u,categoricalDomain:h,tickCount:f,ticks:p,niceTicks:g,axisType:v}=n;if(!o)return null;var w=c==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=r==="category"&&o.bandwidth?o.bandwidth()/w:0;if(b=v==="angleAxis"&&s&&s.length>=2?Bn(s[0]-s[1])*2*b:b,p||g){var A=(p||g||[]).map((S,M)=>{var _=i?i.indexOf(S):S;return{coordinate:o(_)+b,value:S,offset:b,index:M}});return A.filter(S=>!zi(S.coordinate))}return u&&h?h.map((S,M)=>({coordinate:o(S)+b,value:S,index:M,offset:b})):o.ticks&&f!=null?o.ticks(f).map((S,M)=>({coordinate:o(S)+b,value:S,offset:b,index:M})):o.domain().map((S,M)=>({coordinate:o(S)+b,value:i?i[S]:S,index:M,offset:b}))},dC=1e-4,YU=n=>{var e=n.domain();if(!(!e||e.length<=2)){var t=e.length,i=n.range(),r=Math.min(i[0],i[1])-dC,s=Math.max(i[0],i[1])+dC,o=n(e[0]),c=n(e[t-1]);(o<r||o>s||c<r||c>s)&&n.domain([e[0],e[t-1]])}},XU=(n,e)=>{if(!e||e.length!==2||!ge(e[0])||!ge(e[1]))return n;var t=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]),r=[n[0],n[1]];return(!ge(n[0])||n[0]<t)&&(r[0]=t),(!ge(n[1])||n[1]>i)&&(r[1]=i),r[0]>i&&(r[0]=i),r[1]<t&&(r[1]=t),r},WU=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0,o=0;o<e;++o){var c=zi(n[o][t][1])?n[o][t][0]:n[o][t][1];c>=0?(n[o][t][0]=r,n[o][t][1]=r+c,r=n[o][t][1]):(n[o][t][0]=s,n[o][t][1]=s+c,s=n[o][t][1])}},KU=n=>{var e=n.length;if(!(e<=0))for(var t=0,i=n[0].length;t<i;++t)for(var r=0,s=0;s<e;++s){var o=zi(n[s][t][1])?n[s][t][0]:n[s][t][1];o>=0?(n[s][t][0]=r,n[s][t][1]=r+o,r=n[s][t][1]):(n[s][t][0]=0,n[s][t][1]=0)}},ZU={sign:WU,expand:SF,none:Fo,silhouette:EF,wiggle:_F,positive:KU},QU=(n,e,t)=>{var i=ZU[t],r=AF().keys(e).value((s,o)=>Number(gn(s,o,0))).order(Ky).offset(i);return r(n)};function JU(n){return n==null?void 0:String(n)}var hC=n=>{var{axis:e,ticks:t,offset:i,bandSize:r,entry:s,index:o}=n;if(e.type==="category")return t[o]?t[o].coordinate+i:null;var c=gn(s,e.dataKey,e.scale.domain()[o]);return Wt(c)?null:e.scale(c)-r/2+i},e6=n=>{var{numericAxis:e}=n,t=e.scale.domain();if(e.type==="number"){var i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return i<=0&&r>=0?0:r<0?r:i}return t[0]},t6=n=>{var e=n.flat(2).filter(ge);return[Math.min(...e),Math.max(...e)]},n6=n=>[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]],i6=(n,e,t)=>{if(n!=null)return n6(Object.keys(n).reduce((i,r)=>{var s=n[r],{stackedData:o}=s,c=o.reduce((u,h)=>{var f=AP(h,e,t),p=t6(f);return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]))},fC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,pC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Uh=(n,e,t)=>{if(n&&n.scale&&n.scale.bandwidth){var i=n.scale.bandwidth();if(!t||i>0)return i}if(n&&e&&e.length>=2){for(var r=Rf(e,f=>f.coordinate),s=1/0,o=1,c=r.length;o<c;o++){var u=r[o],h=r[o-1];s=Math.min((u.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return t?void 0:0};function mC(n){var{tooltipEntrySettings:e,dataKey:t,payload:i,value:r,name:s}=n;return Po(Po({},e),{},{dataKey:t,payload:i,value:r,name:s})}function _P(n,e){if(n)return String(n);if(typeof e=="string")return e}var r6=(n,e)=>{if(e==="horizontal")return n.chartX;if(e==="vertical")return n.chartY},a6=(n,e)=>e==="centric"?n.angle:n.radius,Xr=n=>n.layout.width,Wr=n=>n.layout.height,s6=n=>n.layout.scale,CP=n=>n.layout.margin,Hf=X(n=>n.cartesianAxis.xAxis,n=>Object.values(n)),$f=X(n=>n.cartesianAxis.yAxis,n=>Object.values(n)),o6="data-recharts-item-index",l6="data-recharts-item-data-key",au=60;function gC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function th(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(t),!0).forEach(function(i){c6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):gC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function c6(n,e,t){return(e=u6(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u6(n){var e=d6(n,"string");return typeof e=="symbol"?e:e+""}function d6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var h6=n=>n.brush.height;function f6(n){var e=$f(n);return e.reduce((t,i)=>{if(i.orientation==="left"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:au;return t+r}return t},0)}function p6(n){var e=$f(n);return e.reduce((t,i)=>{if(i.orientation==="right"&&!i.mirror&&!i.hide){var r=typeof i.width=="number"?i.width:au;return t+r}return t},0)}function m6(n){var e=Hf(n);return e.reduce((t,i)=>i.orientation==="top"&&!i.mirror&&!i.hide?t+i.height:t,0)}function g6(n){var e=Hf(n);return e.reduce((t,i)=>i.orientation==="bottom"&&!i.mirror&&!i.hide?t+i.height:t,0)}var Kt=X([Xr,Wr,CP,h6,f6,p6,m6,g6,VM,F5],(n,e,t,i,r,s,o,c,u,h)=>{var f={left:(t.left||0)+r,right:(t.right||0)+s},p={top:(t.top||0)+o,bottom:(t.bottom||0)+c},g=th(th({},p),f),v=g.bottom;g.bottom+=i,g=VU(g,u,h);var w=n-g.left-g.right,b=e-g.top-g.bottom;return th(th({brushBottom:v},g),{},{width:Math.max(w,0),height:Math.max(b,0)})}),v6=X(Kt,n=>({x:n.left,y:n.top,width:n.width,height:n.height})),R0=X(Xr,Wr,(n,e)=>({x:0,y:0,width:n,height:e})),y6=C.createContext(null),Un=()=>C.useContext(y6)!=null,qf=n=>n.brush,Gf=X([qf,Kt,CP],(n,e,t)=>({height:n.height,x:ge(n.x)?n.x:e.left,y:ge(n.y)?n.y:e.top+e.height+e.brushBottom-(t?.bottom||0),width:ge(n.width)?n.width:e.width})),Yv={},Xv={},Wv={},vC;function b6(){return vC||(vC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t,i,{signal:r,edges:s}={}){let o,c=null;const u=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),f=()=>{c!==null&&(t.apply(o,c),o=void 0,c=null)},p=()=>{h&&f(),b()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},i)},w=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{w(),o=void 0,c=null},A=()=>{f()},S=function(...M){if(r?.aborted)return;o=this,c=M;const _=g==null;v(),u&&_&&f()};return S.schedule=v,S.cancel=b,S.flush=A,r?.addEventListener("abort",b,{once:!0}),S}n.debounce=e})(Wv)),Wv}var yC;function x6(){return yC||(yC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=b6();function t(i,r=0,s={}){typeof s!="object"&&(s={});const{leading:o=!1,trailing:c=!0,maxWait:u}=s,h=Array(2);o&&(h[0]="leading"),c&&(h[1]="trailing");let f,p=null;const g=e.debounce(function(...b){f=i.apply(this,b),p=null},r,{edges:h}),v=function(...b){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(f=i.apply(this,b),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,b),f)},w=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=w,v}n.debounce=t})(Xv)),Xv}var bC;function w6(){return bC||(bC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=x6();function t(i,r=0,s={}){const{leading:o=!0,trailing:c=!0}=s;return e.debounce(i,r,{leading:o,maxWait:r,trailing:c})}n.throttle=t})(Yv)),Yv}var Kv,xC;function A6(){return xC||(xC=1,Kv=w6().throttle),Kv}var S6=A6();const E6=Yr(S6);var Hh=function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(t.replace(/%s/g,()=>r[o++]))}},TP=(n,e,t)=>{var{width:i="100%",height:r="100%",aspect:s,maxHeight:o}=t,c=Fr(i)?n:Number(i),u=Fr(r)?e:Number(r);return s&&s>0&&(c?u=c/s:u&&(c=u*s),o&&u!=null&&u>o&&(u=o)),{calculatedWidth:c,calculatedHeight:u}},_6={width:0,height:0,overflow:"visible"},C6={width:0,overflowX:"visible"},T6={height:0,overflowY:"visible"},O6={},M6=n=>{var{width:e,height:t}=n,i=Fr(e),r=Fr(t);return i&&r?_6:i?C6:r?T6:O6};function P6(n){var{width:e,height:t,aspect:i}=n,r=e,s=t;return r===void 0&&s===void 0?(r="100%",s="100%"):r===void 0?r=i&&i>0?void 0:"100%":s===void 0&&(s=i&&i>0?void 0:"100%"),{width:r,height:s}}function _t(n){return Number.isFinite(n)}function rr(n){return typeof n=="number"&&n>0&&Number.isFinite(n)}function lb(){return lb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},lb.apply(null,arguments)}function wC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function AC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wC(Object(t),!0).forEach(function(i){D6(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function D6(n,e,t){return(e=k6(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function k6(n){var e=R6(n,"string");return typeof e=="symbol"?e:e+""}function R6(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var OP=C.createContext({width:-1,height:-1});function N6(n){return rr(n.width)&&rr(n.height)}function MP(n){var{children:e,width:t,height:i}=n,r=C.useMemo(()=>({width:t,height:i}),[t,i]);return N6(r)?C.createElement(OP.Provider,{value:r},e):null}var N0=()=>C.useContext(OP),j6=C.forwardRef((n,e)=>{var{aspect:t,initialDimension:i={width:-1,height:-1},width:r,height:s,minWidth:o=0,minHeight:c,maxHeight:u,children:h,debounce:f=0,id:p,className:g,onResize:v,style:w={}}=n,b=C.useRef(null),A=C.useRef();A.current=v,C.useImperativeHandle(e,()=>b.current);var[S,M]=C.useState({containerWidth:i.width,containerHeight:i.height}),_=C.useCallback((N,I)=>{M(W=>{var U=Math.round(N),K=Math.round(I);return W.containerWidth===U&&W.containerHeight===K?W:{containerWidth:U,containerHeight:K}})},[]);C.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return tu;var N=K=>{var se,{width:oe,height:le}=K[0].contentRect;_(oe,le),(se=A.current)===null||se===void 0||se.call(A,oe,le)};f>0&&(N=E6(N,f,{trailing:!0,leading:!1}));var I=new ResizeObserver(N),{width:W,height:U}=b.current.getBoundingClientRect();return _(W,U),I.observe(b.current),()=>{I.disconnect()}},[_,f]);var{containerWidth:D,containerHeight:T}=S;Hh(!t||t>0,"The aspect(%s) must be greater than zero.",t);var{calculatedWidth:P,calculatedHeight:R}=TP(D,T,{width:r,height:s,aspect:t,maxHeight:u});return Hh(P!=null&&P>0||R!=null&&R>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,R,r,s,o,c,t),C.createElement("div",{id:p?"".concat(p):void 0,className:ct("recharts-responsive-container",g),style:AC(AC({},w),{},{width:r,height:s,minWidth:o,minHeight:c,maxHeight:u}),ref:b},C.createElement("div",{style:M6({width:r,height:s})},C.createElement(MP,{width:P,height:R},h)))}),L6=C.forwardRef((n,e)=>{var t=N0();if(rr(t.width)&&rr(t.height))return n.children;var{width:i,height:r}=P6({width:n.width,height:n.height,aspect:n.aspect}),{calculatedWidth:s,calculatedHeight:o}=TP(void 0,void 0,{width:i,height:r,aspect:n.aspect,maxHeight:n.maxHeight});return ge(s)&&ge(o)?C.createElement(MP,{width:s,height:o},n.children):C.createElement(j6,lb({},n,{width:i,height:r,ref:e}))});function PP(n){if(n)return{x:n.x,y:n.y,upperWidth:"upperWidth"in n?n.upperWidth:n.width,lowerWidth:"lowerWidth"in n?n.lowerWidth:n.width,width:n.width,height:n.height}}var Vf=()=>{var n,e=Un(),t=be(v6),i=be(Gf),r=(n=be(qf))===null||n===void 0?void 0:n.padding;return!e||!i||!r?t:{width:i.width-r.left-r.right,height:i.height-r.top-r.bottom,x:r.left,y:r.top}},I6={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},DP=()=>{var n;return(n=be(Kt))!==null&&n!==void 0?n:I6},kP=()=>be(Xr),RP=()=>be(Wr),We=n=>n.layout.layoutType,Yf=()=>be(We),B6=()=>{var n=Yf();return n!==void 0},Xf=n=>{var e=Ct(),t=Un(),{width:i,height:r}=n,s=N0(),o=i,c=r;return s&&(o=s.width>0?s.width:i,c=s.height>0?s.height:r),C.useEffect(()=>{!t&&rr(o)&&rr(c)&&e(FU({width:o,height:c}))},[e,t,o,c]),null},NP=Symbol.for("immer-nothing"),SC=Symbol.for("immer-draftable"),ri=Symbol.for("immer-state");function ji(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Nc=Object.getPrototypeOf;function qo(n){return!!n&&!!n[ri]}function ws(n){return n?jP(n)||Array.isArray(n)||!!n[SC]||!!n.constructor?.[SC]||su(n)||Kf(n):!1}var z6=Object.prototype.constructor.toString(),EC=new WeakMap;function jP(n){if(!n||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);if(e===null||e===Object.prototype)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(t===Object)return!0;if(typeof t!="function")return!1;let i=EC.get(t);return i===void 0&&(i=Function.toString.call(t),EC.set(t,i)),i===z6}function $h(n,e,t=!0){Wf(n)===0?(t?Reflect.ownKeys(n):Object.keys(n)).forEach(r=>{e(r,n[r],n)}):n.forEach((i,r)=>e(r,i,n))}function Wf(n){const e=n[ri];return e?e.type_:Array.isArray(n)?1:su(n)?2:Kf(n)?3:0}function cb(n,e){return Wf(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function LP(n,e,t){const i=Wf(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function F6(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function su(n){return n instanceof Map}function Kf(n){return n instanceof Set}function os(n){return n.copy_||n.base_}function ub(n,e){if(su(n))return new Map(n);if(Kf(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=jP(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[ri];let r=Reflect.ownKeys(i);for(let s=0;s<r.length;s++){const o=r[s],c=i[o];c.writable===!1&&(c.writable=!0,c.configurable=!0),(c.get||c.set)&&(i[o]={configurable:!0,writable:!0,enumerable:c.enumerable,value:n[o]})}return Object.create(Nc(n),i)}else{const i=Nc(n);if(i!==null&&t)return{...n};const r=Object.create(i);return Object.assign(r,n)}}function j0(n,e=!1){return Zf(n)||qo(n)||!ws(n)||(Wf(n)>1&&Object.defineProperties(n,{set:nh,add:nh,clear:nh,delete:nh}),Object.freeze(n),e&&Object.values(n).forEach(t=>j0(t,!0))),n}function U6(){ji(2)}var nh={value:U6};function Zf(n){return n===null||typeof n!="object"?!0:Object.isFrozen(n)}var H6={};function As(n){const e=H6[n];return e||ji(0,n),e}var jc;function IP(){return jc}function $6(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _C(n,e){e&&(As("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function db(n){hb(n),n.drafts_.forEach(q6),n.drafts_=null}function hb(n){n===jc&&(jc=n.parent_)}function CC(n){return jc=$6(jc,n)}function q6(n){const e=n[ri];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TC(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[ri].modified_&&(db(e),ji(4)),ws(n)&&(n=qh(e,n),e.parent_||Gh(e,n)),e.patches_&&As("Patches").generateReplacementPatches_(t[ri].base_,n,e.patches_,e.inversePatches_)):n=qh(e,t,[]),db(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==NP?n:void 0}function qh(n,e,t){if(Zf(e))return e;const i=n.immer_.shouldUseStrictIteration(),r=e[ri];if(!r)return $h(e,(s,o)=>OC(n,r,e,s,o,t),i),e;if(r.scope_!==n)return e;if(!r.modified_)return Gh(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let o=s,c=!1;r.type_===3&&(o=new Set(s),s.clear(),c=!0),$h(o,(u,h)=>OC(n,r,s,u,h,t,c),i),Gh(n,s,!1),t&&n.patches_&&As("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function OC(n,e,t,i,r,s,o){if(r==null||typeof r!="object"&&!o)return;const c=Zf(r);if(!(c&&!o)){if(qo(r)){const u=s&&e&&e.type_!==3&&!cb(e.assigned_,i)?s.concat(i):void 0,h=qh(n,r,u);if(LP(t,i,h),qo(h))n.canAutoFreeze_=!1;else return}else o&&t.add(r);if(ws(r)&&!c){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||e&&e.base_&&e.base_[i]===r&&c)return;qh(n,r),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&(su(t)?t.has(i):Object.prototype.propertyIsEnumerable.call(t,i))&&Gh(n,r)}}}function Gh(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&j0(e,t)}function G6(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:IP(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let r=i,s=L0;t&&(r=[i],s=Lc);const{revoke:o,proxy:c}=Proxy.revocable(r,s);return i.draft_=c,i.revoke_=o,c}var L0={get(n,e){if(e===ri)return n;const t=os(n);if(!cb(t,e))return V6(n,t,e);const i=t[e];return n.finalized_||!ws(i)?i:i===Zv(n.base_,e)?(Qv(n),n.copy_[e]=pb(i,n)):i},has(n,e){return e in os(n)},ownKeys(n){return Reflect.ownKeys(os(n))},set(n,e,t){const i=BP(os(n),e);if(i?.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const r=Zv(os(n),e),s=r?.[ri];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(F6(t,r)&&(t!==void 0||cb(n.base_,e)))return!0;Qv(n),fb(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Zv(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Qv(n),fb(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=os(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){ji(11)},getPrototypeOf(n){return Nc(n.base_)},setPrototypeOf(){ji(12)}},Lc={};$h(L0,(n,e)=>{Lc[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Lc.deleteProperty=function(n,e){return Lc.set.call(this,n,e,void 0)};Lc.set=function(n,e,t){return L0.set.call(this,n[0],e,t,n[0])};function Zv(n,e){const t=n[ri];return(t?os(t):n)[e]}function V6(n,e,t){const i=BP(e,t);return i?"value"in i?i.value:i.get?.call(n.draft_):void 0}function BP(n,e){if(!(e in n))return;let t=Nc(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Nc(t)}}function fb(n){n.modified_||(n.modified_=!0,n.parent_&&fb(n.parent_))}function Qv(n){n.copy_||(n.copy_=ub(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Y6=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(u=s,...h){return o.produce(u,f=>t.call(this,f,...h))}}typeof t!="function"&&ji(6),i!==void 0&&typeof i!="function"&&ji(7);let r;if(ws(e)){const s=CC(this),o=pb(e,void 0);let c=!0;try{r=t(o),c=!1}finally{c?db(s):hb(s)}return _C(s,i),TC(r,s)}else if(!e||typeof e!="object"){if(r=t(e),r===void 0&&(r=e),r===NP&&(r=void 0),this.autoFreeze_&&j0(r,!0),i){const s=[],o=[];As("Patches").generateReplacementPatches_(e,r,s,o),i(s,o)}return r}else ji(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...c)=>this.produceWithPatches(o,u=>e(u,...c));let i,r;return[this.produce(e,t,(o,c)=>{i=o,r=c}),i,r]},typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof n?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy),typeof n?.useStrictIteration=="boolean"&&this.setUseStrictIteration(n.useStrictIteration)}createDraft(n){ws(n)||ji(8),qo(n)&&(n=X6(n));const e=CC(this),t=pb(n,void 0);return t[ri].isManual_=!0,hb(e),t}finishDraft(n,e){const t=n&&n[ri];(!t||!t.isManual_)&&ji(9);const{scope_:i}=t;return _C(i,e),TC(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}setUseStrictIteration(n){this.useStrictIteration_=n}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const r=e[t];if(r.path.length===0&&r.op==="replace"){n=r.value;break}}t>-1&&(e=e.slice(t+1));const i=As("Patches").applyPatches_;return qo(n)?i(n,e):this.produce(n,r=>i(r,e))}};function pb(n,e){const t=su(n)?As("MapSet").proxyMap_(n,e):Kf(n)?As("MapSet").proxySet_(n,e):G6(n,e);return(e?e.scope_:IP()).drafts_.push(t),t}function X6(n){return qo(n)||ji(10,n),zP(n)}function zP(n){if(!ws(n)||Zf(n))return n;const e=n[ri];let t,i=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=ub(n,e.scope_.immer_.useStrictShallowCopy_),i=e.scope_.immer_.shouldUseStrictIteration()}else t=ub(n,!0);return $h(t,(r,s)=>{LP(t,r,zP(s))},i),e&&(e.finalized_=!1),t}var W6=new Y6;W6.produce;var K6={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},FP=Fn({name:"legend",initialState:K6,reducers:{setLegendSize(n,e){n.size.width=e.payload.width,n.size.height=e.payload.height},setLegendSettings(n,e){n.settings.align=e.payload.align,n.settings.layout=e.payload.layout,n.settings.verticalAlign=e.payload.verticalAlign,n.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(n,e){n.payload.push(e.payload)},prepare:ft()},replaceLegendPayload:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Bi(n).payload.indexOf(t);r>-1&&(n.payload[r]=i)},prepare:ft()},removeLegendPayload:{reducer(n,e){var t=Bi(n).payload.indexOf(e.payload);t>-1&&n.payload.splice(t,1)},prepare:ft()}}}),{setLegendSize:vQ,setLegendSettings:yQ,addLegendPayload:Z6,replaceLegendPayload:Q6,removeLegendPayload:J6}=FP.actions,e8=FP.reducer;function mb(){return mb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},mb.apply(null,arguments)}function MC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Jv(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MC(Object(t),!0).forEach(function(i){t8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function t8(n,e,t){return(e=n8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function n8(n){var e=i8(n,"string");return typeof e=="symbol"?e:e+""}function i8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function r8(n){return Array.isArray(n)&&ir(n[0])&&ir(n[1])?n.join(" ~ "):n}var a8=n=>{var{separator:e=" : ",contentStyle:t={},itemStyle:i={},labelStyle:r={},payload:s,formatter:o,itemSorter:c,wrapperClassName:u,labelClassName:h,label:f,labelFormatter:p,accessibilityLayer:g=!1}=n,v=()=>{if(s&&s.length){var T={padding:0,margin:0},P=(c?Rf(s,c):s).map((R,N)=>{if(R.type==="none")return null;var I=R.formatter||o||r8,{value:W,name:U}=R,K=W,se=U;if(I){var oe=I(W,U,R,N,s);if(Array.isArray(oe))[K,se]=oe;else if(oe!=null)K=oe;else return null}var le=Jv({display:"block",paddingTop:4,paddingBottom:4,color:R.color||"#000"},i);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:le},ir(se)?C.createElement("span",{className:"recharts-tooltip-item-name"},se):null,ir(se)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},K),C.createElement("span",{className:"recharts-tooltip-item-unit"},R.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:T},P)}return null},w=Jv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},t),b=Jv({margin:0},r),A=!Wt(f),S=A?f:"",M=ct("recharts-default-tooltip",u),_=ct("recharts-tooltip-label",h);A&&p&&s!==void 0&&s!==null&&(S=p(f,s));var D=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",mb({className:M,style:w},D),C.createElement("p",{className:_,style:b},C.isValidElement(S)?S:"".concat(S)),v())},lc="recharts-tooltip-wrapper",s8={visibility:"hidden"};function o8(n){var{coordinate:e,translateX:t,translateY:i}=n;return ct(lc,{["".concat(lc,"-right")]:ge(t)&&e&&ge(e.x)&&t>=e.x,["".concat(lc,"-left")]:ge(t)&&e&&ge(e.x)&&t<e.x,["".concat(lc,"-bottom")]:ge(i)&&e&&ge(e.y)&&i>=e.y,["".concat(lc,"-top")]:ge(i)&&e&&ge(e.y)&&i<e.y})}function PC(n){var{allowEscapeViewBox:e,coordinate:t,key:i,offsetTopLeft:r,position:s,reverseDirection:o,tooltipDimension:c,viewBox:u,viewBoxDimension:h}=n;if(s&&ge(s[i]))return s[i];var f=t[i]-c-(r>0?r:0),p=t[i]+r;if(e[i])return o[i]?f:p;var g=u[i];if(g==null)return 0;if(o[i]){var v=f,w=g;return v<w?Math.max(p,g):Math.max(f,g)}if(h==null)return 0;var b=p+c,A=g+h;return b>A?Math.max(f,g):Math.max(p,g)}function l8(n){var{translateX:e,translateY:t,useTranslate3d:i}=n;return{transform:i?"translate3d(".concat(e,"px, ").concat(t,"px, 0)"):"translate(".concat(e,"px, ").concat(t,"px)")}}function c8(n){var{allowEscapeViewBox:e,coordinate:t,offsetTopLeft:i,position:r,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:u}=n,h,f,p;return o.height>0&&o.width>0&&t?(f=PC({allowEscapeViewBox:e,coordinate:t,key:"x",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:o.width,viewBox:u,viewBoxDimension:u.width}),p=PC({allowEscapeViewBox:e,coordinate:t,key:"y",offsetTopLeft:i,position:r,reverseDirection:s,tooltipDimension:o.height,viewBox:u,viewBoxDimension:u.height}),h=l8({translateX:f,translateY:p,useTranslate3d:c})):h=s8,{cssProperties:h,cssClasses:o8({translateX:f,translateY:p,coordinate:t})}}function DC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ih(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?DC(Object(t),!0).forEach(function(i){gb(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):DC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gb(n,e,t){return(e=u8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u8(n){var e=d8(n,"string");return typeof e=="symbol"?e:e+""}function d8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class h8 extends C.PureComponent{constructor(){super(...arguments),gb(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),gb(this,"handleKeyDown",e=>{if(e.key==="Escape"){var t,i,r,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(t=(i=this.props.coordinate)===null||i===void 0?void 0:i.x)!==null&&t!==void 0?t:0,y:(r=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&r!==void 0?r:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((t=this.props.coordinate)===null||t===void 0?void 0:t.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:t,animationDuration:i,animationEasing:r,children:s,coordinate:o,hasPayload:c,isAnimationActive:u,offset:h,position:f,reverseDirection:p,useTranslate3d:g,viewBox:v,wrapperStyle:w,lastBoundingBox:b,innerRef:A,hasPortalFromProps:S}=this.props,{cssClasses:M,cssProperties:_}=c8({allowEscapeViewBox:t,coordinate:o,offsetTopLeft:h,position:f,reverseDirection:p,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:v}),D=S?{}:ih(ih({transition:u&&e?"transform ".concat(i,"ms ").concat(r):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&c?"visible":"hidden",position:"absolute",top:0,left:0}),T=ih(ih({},D),{},{visibility:!this.state.dismissed&&e&&c?"visible":"hidden"},w);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:M,style:T,ref:A},s)}}var UP=()=>{var n;return(n=be(e=>e.rootProps.accessibilityLayer))!==null&&n!==void 0?n:!0};function vb(){return vb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},vb.apply(null,arguments)}function kC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function RC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kC(Object(t),!0).forEach(function(i){f8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function f8(n,e,t){return(e=p8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function p8(n){var e=m8(n,"string");return typeof e=="symbol"?e:e+""}function m8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var NC={curveBasisClosed:dF,curveBasisOpen:hF,curveBasis:uF,curveBumpX:K4,curveBumpY:Z4,curveLinearClosed:fF,curveLinear:Df,curveMonotoneX:pF,curveMonotoneY:mF,curveNatural:gF,curveStep:vF,curveStepAfter:bF,curveStepBefore:yF},Vh=n=>_t(n.x)&&_t(n.y),jC=n=>n.base!=null&&Vh(n.base)&&Vh(n),cc=n=>n.x,uc=n=>n.y,g8=(n,e)=>{if(typeof n=="function")return n;var t="curve".concat(eu(n));return(t==="curveMonotone"||t==="curveBump")&&e?NC["".concat(t).concat(e==="vertical"?"Y":"X")]:NC[t]||Df},v8=n=>{var{type:e="linear",points:t=[],baseLine:i,layout:r,connectNulls:s=!1}=n,o=g8(e,r),c=s?t.filter(Vh):t,u;if(Array.isArray(i)){var h=t.map((v,w)=>RC(RC({},v),{},{base:i[w]}));r==="vertical"?u=Wd().y(uc).x1(cc).x0(v=>v.base.x):u=Wd().x(cc).y1(uc).y0(v=>v.base.y);var f=u.defined(jC).curve(o),p=s?h.filter(jC):h;return f(p)}r==="vertical"&&ge(i)?u=Wd().y(uc).x1(cc).x0(i):ge(i)?u=Wd().x(cc).y1(uc).y0(i):u=yM().x(cc).y(uc);var g=u.defined(Vh).curve(o);return g(c)},HP=n=>{var{className:e,points:t,path:i,pathRef:r}=n;if((!t||!t.length)&&!i)return null;var s=t&&t.length?v8(n):i;return C.createElement("path",vb({},Br(n),$F(n),{className:ct("recharts-curve",e),d:s===null?void 0:s,ref:r}))},y8=["x","y","top","left","width","height","className"];function yb(){return yb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yb.apply(null,arguments)}function LC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function b8(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LC(Object(t),!0).forEach(function(i){x8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function x8(n,e,t){return(e=w8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function w8(n){var e=A8(n,"string");return typeof e=="symbol"?e:e+""}function A8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function S8(n,e){if(n==null)return{};var t,i,r=E8(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function E8(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var _8=(n,e,t,i,r,s)=>"M".concat(n,",").concat(r,"v").concat(i,"M").concat(s,",").concat(e,"h").concat(t),C8=n=>{var{x:e=0,y:t=0,top:i=0,left:r=0,width:s=0,height:o=0,className:c}=n,u=S8(n,y8),h=b8({x:e,y:t,top:i,left:r,width:s,height:o},u);return!ge(e)||!ge(t)||!ge(s)||!ge(o)||!ge(i)||!ge(r)?null:C.createElement("path",yb({},Ci(h),{className:ct("recharts-cross",c),d:_8(e,t,s,o,i,r)}))};function T8(n,e,t,i){var r=i/2;return{stroke:"none",fill:"#ccc",x:n==="horizontal"?e.x-r:t.left+.5,y:n==="horizontal"?t.top+.5:e.y-r,width:n==="horizontal"?i:t.width-1,height:n==="horizontal"?t.height-1:i}}function IC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function BC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?IC(Object(t),!0).forEach(function(i){O8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):IC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function O8(n,e,t){return(e=M8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function M8(n){var e=P8(n,"string");return typeof e=="symbol"?e:e+""}function P8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var D8=n=>n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),$P=(n,e,t)=>n.map(i=>"".concat(D8(i)," ").concat(e,"ms ").concat(t)).join(","),k8=(n,e)=>[Object.keys(n),Object.keys(e)].reduce((t,i)=>t.filter(r=>i.includes(r))),Ic=(n,e)=>Object.keys(e).reduce((t,i)=>BC(BC({},t),{},{[i]:n(i,e[i])}),{});function zC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function It(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zC(Object(t),!0).forEach(function(i){R8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function R8(n,e,t){return(e=N8(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function N8(n){var e=j8(n,"string");return typeof e=="symbol"?e:e+""}function j8(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Yh=(n,e,t)=>n+(e-n)*t,bb=n=>{var{from:e,to:t}=n;return e!==t},qP=(n,e,t)=>{var i=Ic((r,s)=>{if(bb(s)){var[o,c]=n(s.from,s.to,s.velocity);return It(It({},s),{},{from:o,velocity:c})}return s},e);return t<1?Ic((r,s)=>bb(s)?It(It({},s),{},{velocity:Yh(s.velocity,i[r].velocity,t),from:Yh(s.from,i[r].from,t)}):s,e):qP(n,i,t-1)};function L8(n,e,t,i,r,s){var o,c=i.reduce((g,v)=>It(It({},g),{},{[v]:{from:n[v],velocity:0,to:e[v]}}),{}),u=()=>Ic((g,v)=>v.from,c),h=()=>!Object.values(c).filter(bb).length,f=null,p=g=>{o||(o=g);var v=g-o,w=v/t.dt;c=qP(t,c,w),r(It(It(It({},n),e),u())),o=g,h()||(f=s.setTimeout(p))};return()=>(f=s.setTimeout(p),()=>{var g;(g=f)===null||g===void 0||g()})}function I8(n,e,t,i,r,s,o){var c=null,u=r.reduce((p,g)=>It(It({},p),{},{[g]:[n[g],e[g]]}),{}),h,f=p=>{h||(h=p);var g=(p-h)/i,v=Ic((b,A)=>Yh(...A,t(g)),u);if(s(It(It(It({},n),e),v)),g<1)c=o.setTimeout(f);else{var w=Ic((b,A)=>Yh(...A,t(1)),u);s(It(It(It({},n),e),w))}};return()=>(c=o.setTimeout(f),()=>{var p;(p=c)===null||p===void 0||p()})}const B8=(n,e,t,i,r,s)=>{var o=k8(n,e);return t==null?()=>(r(It(It({},n),e)),()=>{}):t.isStepper===!0?L8(n,e,t,o,r,s):I8(n,e,t,i,o,r,s)};var Xh=1e-4,GP=(n,e)=>[0,3*n,3*e-6*n,3*n-3*e+1],VP=(n,e)=>n.map((t,i)=>t*e**i).reduce((t,i)=>t+i),FC=(n,e)=>t=>{var i=GP(n,e);return VP(i,t)},z8=(n,e)=>t=>{var i=GP(n,e),r=[...i.map((s,o)=>s*o).slice(1),0];return VP(r,t)},F8=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r,s=t[0].split("(");if(s[0]==="cubic-bezier"&&((r=s[1])===null||r===void 0?void 0:r.split(")")[0].split(",").length)===4){var o=s[1].split(")")[0].split(",").map(c=>parseFloat(c));return[o[0],o[1],o[2],o[3]]}}}return t.length===4?t:[0,0,1,1]},U8=(n,e,t,i)=>{var r=FC(n,t),s=FC(e,i),o=z8(n,t),c=h=>h>1?1:h<0?0:h,u=h=>{for(var f=h>1?1:h,p=f,g=0;g<8;++g){var v=r(p)-f,w=o(p);if(Math.abs(v-f)<Xh||w<Xh)return s(p);p=c(p-v/w)}return s(p)};return u.isStepper=!1,u},UC=function(){return U8(...F8(...arguments))},H8=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:i=8,dt:r=17}=e,s=(o,c,u)=>{var h=-(o-c)*t,f=u*i,p=u+(h-f)*r/1e3,g=u*r/1e3+o;return Math.abs(g-c)<Xh&&Math.abs(p)<Xh?[c,0]:[g,p]};return s.isStepper=!0,s.dt=r,s},$8=n=>{if(typeof n=="string")switch(n){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UC(n);case"spring":return H8();default:if(n.split("(")[0]==="cubic-bezier")return UC(n)}return typeof n=="function"?n:null};function q8(n){var e,t=()=>null,i=!1,r=null,s=o=>{if(!i){if(Array.isArray(o)){if(!o.length)return;var c=o,[u,...h]=c;if(typeof u=="number"){r=n.setTimeout(s.bind(null,h),u);return}s(u),r=n.setTimeout(s.bind(null,h));return}typeof o=="string"&&(e=o,t(e)),typeof o=="object"&&(e=o,t(e)),typeof o=="function"&&o()}};return{stop:()=>{i=!0},start:o=>{i=!1,r&&(r(),r=null),s(o)},subscribe:o=>(t=o,()=>{t=()=>null}),getTimeoutController:()=>n}}class G8{setTimeout(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=performance.now(),r=null,s=o=>{o-i>=t?e(o):typeof requestAnimationFrame=="function"&&(r=requestAnimationFrame(s))};return r=requestAnimationFrame(s),()=>{r!=null&&cancelAnimationFrame(r)}}}function V8(){return q8(new G8)}var Y8=C.createContext(V8);function X8(n,e){var t=C.useContext(Y8);return C.useMemo(()=>e??t(n),[n,e,t])}var W8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ou={devToolsEnabled:!1,isSsr:W8()},K8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},HC={t:0},ey={t:1};function I0(n){var e=ai(n,K8),{isActive:t,canBegin:i,duration:r,easing:s,begin:o,onAnimationEnd:c,onAnimationStart:u,children:h}=e,f=t==="auto"?!ou.isSsr:t,p=X8(e.animationId,e.animationManager),[g,v]=C.useState(f?HC:ey),w=C.useRef(null);return C.useEffect(()=>{f||v(ey)},[f]),C.useEffect(()=>{if(!f||!i)return tu;var b=B8(HC,ey,$8(s),r,v,p.getTimeoutController()),A=()=>{w.current=b()};return p.start([u,o,A,r,c]),()=>{p.stop(),w.current&&w.current(),c()}},[f,i,r,s,o,u,c,p]),h(g.t)}function B0(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",t=C.useRef(Pc(e)),i=C.useRef(n);return i.current!==n&&(t.current=Pc(e),i.current=n),t.current}var Z8=["radius"],Q8=["radius"];function $C(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function qC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$C(Object(t),!0).forEach(function(i){J8(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$C(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function J8(n,e,t){return(e=eH(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eH(n){var e=tH(n,"string");return typeof e=="symbol"?e:e+""}function tH(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Wh(){return Wh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Wh.apply(null,arguments)}function GC(n,e){if(n==null)return{};var t,i,r=nH(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function nH(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var VC=(n,e,t,i,r)=>{var s=Math.min(Math.abs(t)/2,Math.abs(i)/2),o=i>=0?1:-1,c=t>=0?1:-1,u=i>=0&&t>=0||i<0&&t<0?1:0,h;if(s>0&&r instanceof Array){for(var f=[0,0,0,0],p=0,g=4;p<g;p++)f[p]=r[p]>s?s:r[p];h="M".concat(n,",").concat(e+o*f[0]),f[0]>0&&(h+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(n+c*f[0],",").concat(e)),h+="L ".concat(n+t-c*f[1],",").concat(e),f[1]>0&&(h+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(n+t,",").concat(e+o*f[1])),h+="L ".concat(n+t,",").concat(e+i-o*f[2]),f[2]>0&&(h+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(n+t-c*f[2],",").concat(e+i)),h+="L ".concat(n+c*f[3],",").concat(e+i),f[3]>0&&(h+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(n,",").concat(e+i-o*f[3])),h+="Z"}else if(s>0&&r===+r&&r>0){var v=Math.min(s,r);h="M ".concat(n,",").concat(e+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(n+c*v,",").concat(e,`
            L `).concat(n+t-c*v,",").concat(e,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(n+t,",").concat(e+o*v,`
            L `).concat(n+t,",").concat(e+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(n+t-c*v,",").concat(e+i,`
            L `).concat(n+c*v,",").concat(e+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(n,",").concat(e+i-o*v," Z")}else h="M ".concat(n,",").concat(e," h ").concat(t," v ").concat(i," h ").concat(-t," Z");return h},YC={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YP=n=>{var e=ai(n,YC),t=C.useRef(null),[i,r]=C.useState(-1);C.useEffect(()=>{if(t.current&&t.current.getTotalLength)try{var H=t.current.getTotalLength();H&&r(H)}catch{}},[]);var{x:s,y:o,width:c,height:u,radius:h,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:v,isAnimationActive:w,isUpdateAnimationActive:b}=e,A=C.useRef(c),S=C.useRef(u),M=C.useRef(s),_=C.useRef(o),D=C.useMemo(()=>({x:s,y:o,width:c,height:u,radius:h}),[s,o,c,u,h]),T=B0(D,"rectangle-");if(s!==+s||o!==+o||c!==+c||u!==+u||c===0||u===0)return null;var P=ct("recharts-rectangle",f);if(!b){var R=Ci(e),{radius:N}=R,I=GC(R,Z8);return C.createElement("path",Wh({},I,{radius:typeof h=="number"?h:void 0,className:P,d:VC(s,o,c,u,h)}))}var W=A.current,U=S.current,K=M.current,se=_.current,oe="0px ".concat(i===-1?1:i,"px"),le="".concat(i,"px 0px"),B=$P(["strokeDasharray"],g,typeof p=="string"?p:YC.animationEasing);return C.createElement(I0,{animationId:T,key:T,canBegin:i>0,duration:g,easing:p,isActive:b,begin:v},H=>{var te=un(W,c,H),re=un(U,u,H),xe=un(K,s,H),L=un(se,o,H);t.current&&(A.current=te,S.current=re,M.current=xe,_.current=L);var V;w?H>0?V={transition:B,strokeDasharray:le}:V={strokeDasharray:oe}:V={strokeDasharray:le};var ne=Ci(e),{radius:ae}=ne,me=GC(ne,Q8);return C.createElement("path",Wh({},me,{radius:typeof h=="number"?h:void 0,className:P,d:VC(xe,L,te,re,h),ref:t,style:qC(qC({},V),e.style)}))})};function XC(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function WC(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XC(Object(t),!0).forEach(function(i){iH(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XC(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function iH(n,e,t){return(e=rH(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function rH(n){var e=aH(n,"string");return typeof e=="symbol"?e:e+""}function aH(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Kh=Math.PI/180,sH=n=>n*180/Math.PI,dn=(n,e,t,i)=>({x:n+Math.cos(-Kh*i)*t,y:e+Math.sin(-Kh*i)*t}),oH=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(i.left||0)-(i.right||0)),Math.abs(t-(i.top||0)-(i.bottom||0)))/2},lH=(n,e)=>{var{x:t,y:i}=n,{x:r,y:s}=e;return Math.sqrt((t-r)**2+(i-s)**2)},cH=(n,e)=>{var{x:t,y:i}=n,{cx:r,cy:s}=e,o=lH({x:t,y:i},{x:r,y:s});if(o<=0)return{radius:o,angle:0};var c=(t-r)/o,u=Math.acos(c);return i>s&&(u=2*Math.PI-u),{radius:o,angle:sH(u),angleInRadian:u}},uH=n=>{var{startAngle:e,endAngle:t}=n,i=Math.floor(e/360),r=Math.floor(t/360),s=Math.min(i,r);return{startAngle:e-s*360,endAngle:t-s*360}},dH=(n,e)=>{var{startAngle:t,endAngle:i}=e,r=Math.floor(t/360),s=Math.floor(i/360),o=Math.min(r,s);return n+o*360},hH=(n,e)=>{var{chartX:t,chartY:i}=n,{radius:r,angle:s}=cH({x:t,y:i},e),{innerRadius:o,outerRadius:c}=e;if(r<o||r>c||r===0)return null;var{startAngle:u,endAngle:h}=uH(e),f=s,p;if(u<=h){for(;f>h;)f-=360;for(;f<u;)f+=360;p=f>=u&&f<=h}else{for(;f>u;)f-=360;for(;f<h;)f+=360;p=f>=h&&f<=u}return p?WC(WC({},e),{},{radius:r,angle:dH(f,e)}):null};function XP(n){var{cx:e,cy:t,radius:i,startAngle:r,endAngle:s}=n,o=dn(e,t,i,r),c=dn(e,t,i,s);return{points:[o,c],cx:e,cy:t,radius:i,startAngle:r,endAngle:s}}function xb(){return xb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},xb.apply(null,arguments)}var fH=(n,e)=>{var t=Bn(e-n),i=Math.min(Math.abs(e-n),359.999);return t*i},rh=n=>{var{cx:e,cy:t,radius:i,angle:r,sign:s,isExternal:o,cornerRadius:c,cornerIsExternal:u}=n,h=c*(o?1:-1)+i,f=Math.asin(c/h)/Kh,p=u?r:r+s*f,g=dn(e,t,h,p),v=dn(e,t,i,p),w=u?r-s*f:r,b=dn(e,t,h*Math.cos(f*Kh),w);return{center:g,circleTangency:v,lineTangency:b,theta:f}},WP=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:s,endAngle:o}=n,c=fH(s,o),u=s+c,h=dn(e,t,r,s),f=dn(e,t,r,u),p="M ".concat(h.x,",").concat(h.y,`
    A `).concat(r,",").concat(r,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=dn(e,t,i,s),v=dn(e,t,i,u);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(e,",").concat(t," Z");return p},pH=n=>{var{cx:e,cy:t,innerRadius:i,outerRadius:r,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:h}=n,f=Bn(h-u),{circleTangency:p,lineTangency:g,theta:v}=rh({cx:e,cy:t,radius:r,angle:u,sign:f,cornerRadius:s,cornerIsExternal:c}),{circleTangency:w,lineTangency:b,theta:A}=rh({cx:e,cy:t,radius:r,angle:h,sign:-f,cornerRadius:s,cornerIsExternal:c}),S=c?Math.abs(u-h):Math.abs(u-h)-v-A;if(S<0)return o?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):WP({cx:e,cy:t,innerRadius:i,outerRadius:r,startAngle:u,endAngle:h});var M="M ".concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(r,",").concat(r,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(b.x,",").concat(b.y,`
  `);if(i>0){var{circleTangency:_,lineTangency:D,theta:T}=rh({cx:e,cy:t,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),{circleTangency:P,lineTangency:R,theta:N}=rh({cx:e,cy:t,radius:i,angle:h,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),I=c?Math.abs(u-h):Math.abs(u-h)-T-N;if(I<0&&s===0)return"".concat(M,"L").concat(e,",").concat(t,"Z");M+="L".concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(f<0),",").concat(D.x,",").concat(D.y,"Z")}else M+="L".concat(e,",").concat(t,"Z");return M},mH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},KP=n=>{var e=ai(n,mH),{cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:o,forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f,className:p}=e;if(s<r||h===f)return null;var g=ct("recharts-sector",p),v=s-r,w=Fi(o,v,0,!0),b;return w>0&&Math.abs(h-f)<360?b=pH({cx:t,cy:i,innerRadius:r,outerRadius:s,cornerRadius:Math.min(w,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:h,endAngle:f}):b=WP({cx:t,cy:i,innerRadius:r,outerRadius:s,startAngle:h,endAngle:f}),C.createElement("path",xb({},Ci(e),{className:g,d:b}))};function gH(n,e,t){if(n==="horizontal")return[{x:e.x,y:t.top},{x:e.x,y:t.top+t.height}];if(n==="vertical")return[{x:t.left,y:e.y},{x:t.left+t.width,y:e.y}];if(RM(e)){if(n==="centric"){var{cx:i,cy:r,innerRadius:s,outerRadius:o,angle:c}=e,u=dn(i,r,s,c),h=dn(i,r,o,c);return[{x:u.x,y:u.y},{x:h.x,y:h.y}]}return XP(e)}}var ty={},ny={},iy={},KC;function vH(){return KC||(KC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=qM();function t(i){return e.isSymbol(i)?NaN:Number(i)}n.toNumber=t})(iy)),iy}var ZC;function yH(){return ZC||(ZC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=vH();function t(i){return i?(i=e.toNumber(i),i===1/0||i===-1/0?(i<0?-1:1)*Number.MAX_VALUE:i===i?i:0):i===0?i:0}n.toFinite=t})(ny)),ny}var QC;function bH(){return QC||(QC=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=GM(),t=yH();function i(r,s,o){o&&typeof o!="number"&&e.isIterateeCall(r,s,o)&&(s=o=void 0),r=t.toFinite(r),s===void 0?(s=r,r=0):s=t.toFinite(s),o=o===void 0?r<s?1:-1:t.toFinite(o);const c=Math.max(Math.ceil((s-r)/(o||1)),0),u=new Array(c);for(let h=0;h<c;h++)u[h]=r,r+=o;return u}n.range=i})(ty)),ty}var ry,JC;function xH(){return JC||(JC=1,ry=bH().range),ry}var wH=xH();const ZP=Yr(wH);function ka(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function AH(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function z0(n){let e,t,i;n.length!==2?(e=ka,t=(c,u)=>ka(n(c),u),i=(c,u)=>n(c)-u):(e=n===ka||n===AH?n:SH,t=n,i=n);function r(c,u,h=0,f=c.length){if(h<f){if(e(u,u)!==0)return f;do{const p=h+f>>>1;t(c[p],u)<0?h=p+1:f=p}while(h<f)}return h}function s(c,u,h=0,f=c.length){if(h<f){if(e(u,u)!==0)return f;do{const p=h+f>>>1;t(c[p],u)<=0?h=p+1:f=p}while(h<f)}return h}function o(c,u,h=0,f=c.length){const p=r(c,u,h,f-1);return p>h&&i(c[p-1],u)>-i(c[p],u)?p-1:p}return{left:r,center:o,right:s}}function SH(){return 0}function QP(n){return n===null?NaN:+n}function*EH(n,e){for(let t of n)t!=null&&(t=+t)>=t&&(yield t)}const _H=z0(ka),lu=_H.right;z0(QP).center;class eT extends Map{constructor(e,t=OH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),e!=null)for(const[i,r]of e)this.set(i,r)}get(e){return super.get(tT(this,e))}has(e){return super.has(tT(this,e))}set(e,t){return super.set(CH(this,e),t)}delete(e){return super.delete(TH(this,e))}}function tT({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):t}function CH({_intern:n,_key:e},t){const i=e(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function TH({_intern:n,_key:e},t){const i=e(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function OH(n){return n!==null&&typeof n=="object"?n.valueOf():n}function MH(n=ka){if(n===ka)return JP;if(typeof n!="function")throw new TypeError("compare is not a function");return(e,t)=>{const i=n(e,t);return i||i===0?i:(n(t,t)===0)-(n(e,e)===0)}}function JP(n,e){return(n==null||!(n>=n))-(e==null||!(e>=e))||(n<e?-1:n>e?1:0)}const PH=Math.sqrt(50),DH=Math.sqrt(10),kH=Math.sqrt(2);function Zh(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),o=s>=PH?10:s>=DH?5:s>=kH?2:1;let c,u,h;return r<0?(h=Math.pow(10,-r)/o,c=Math.round(n*h),u=Math.round(e*h),c/h<n&&++c,u/h>e&&--u,h=-h):(h=Math.pow(10,r)*o,c=Math.round(n/h),u=Math.round(e/h),c*h<n&&++c,u*h>e&&--u),u<c&&.5<=t&&t<2?Zh(n,e,t*2):[c,u,h]}function wb(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,o]=i?Zh(e,n,t):Zh(n,e,t);if(!(s>=r))return[];const c=s-r+1,u=new Array(c);if(i)if(o<0)for(let h=0;h<c;++h)u[h]=(s-h)/-o;else for(let h=0;h<c;++h)u[h]=(s-h)*o;else if(o<0)for(let h=0;h<c;++h)u[h]=(r+h)/-o;else for(let h=0;h<c;++h)u[h]=(r+h)*o;return u}function Ab(n,e,t){return e=+e,n=+n,t=+t,Zh(n,e,t)[2]}function Sb(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?Ab(e,n,t):Ab(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function nT(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function iT(n,e){let t;for(const i of n)i!=null&&(t>i||t===void 0&&i>=i)&&(t=i);return t}function eD(n,e,t=0,i=1/0,r){if(e=Math.floor(e),t=Math.floor(Math.max(0,t)),i=Math.floor(Math.min(n.length-1,i)),!(t<=e&&e<=i))return n;for(r=r===void 0?JP:MH(r);i>t;){if(i-t>600){const u=i-t+1,h=e-t+1,f=Math.log(u),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(u-p)/u)*(h-u/2<0?-1:1),v=Math.max(t,Math.floor(e-h*p/u+g)),w=Math.min(i,Math.floor(e+(u-h)*p/u+g));eD(n,e,v,w,r)}const s=n[e];let o=t,c=i;for(dc(n,t,e),r(n[i],s)>0&&dc(n,t,i);o<c;){for(dc(n,o,c),++o,--c;r(n[o],s)<0;)++o;for(;r(n[c],s)>0;)--c}r(n[t],s)===0?dc(n,t,c):(++c,dc(n,c,i)),c<=e&&(t=c+1),e<=c&&(i=c-1)}return n}function dc(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function RH(n,e,t){if(n=Float64Array.from(EH(n)),!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return iT(n);if(e>=1)return nT(n);var i,r=(i-1)*e,s=Math.floor(r),o=nT(eD(n,s).subarray(0,s+1)),c=iT(n.subarray(s+1));return o+(c-o)*(r-s)}}function NH(n,e,t=QP){if(!(!(i=n.length)||isNaN(e=+e))){if(e<=0||i<2)return+t(n[0],0,n);if(e>=1)return+t(n[i-1],i-1,n);var i,r=(i-1)*e,s=Math.floor(r),o=+t(n[s],s,n),c=+t(n[s+1],s+1,n);return o+(c-o)*(r-s)}}function jH(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function Mi(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function Kr(n,e){switch(arguments.length){case 0:break;case 1:{typeof n=="function"?this.interpolator(n):this.range(n);break}default:{this.domain(n),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Eb=Symbol("implicit");function F0(){var n=new eT,e=[],t=[],i=Eb;function r(s){let o=n.get(s);if(o===void 0){if(i!==Eb)return i;n.set(s,o=e.push(s)-1)}return t[o%t.length]}return r.domain=function(s){if(!arguments.length)return e.slice();e=[],n=new eT;for(const o of s)n.has(o)||n.set(o,e.push(o)-1);return r},r.range=function(s){return arguments.length?(t=Array.from(s),r):t.slice()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return F0(e,t).unknown(i)},Mi.apply(r,arguments),r}function U0(){var n=F0().unknown(void 0),e=n.domain,t=n.range,i=0,r=1,s,o,c=!1,u=0,h=0,f=.5;delete n.unknown;function p(){var g=e().length,v=r<i,w=v?r:i,b=v?i:r;s=(b-w)/Math.max(1,g-u+h*2),c&&(s=Math.floor(s)),w+=(b-w-s*(g-u))*f,o=s*(1-u),c&&(w=Math.round(w),o=Math.round(o));var A=jH(g).map(function(S){return w+s*S});return t(v?A.reverse():A)}return n.domain=function(g){return arguments.length?(e(g),p()):e()},n.range=function(g){return arguments.length?([i,r]=g,i=+i,r=+r,p()):[i,r]},n.rangeRound=function(g){return[i,r]=g,i=+i,r=+r,c=!0,p()},n.bandwidth=function(){return o},n.step=function(){return s},n.round=function(g){return arguments.length?(c=!!g,p()):c},n.padding=function(g){return arguments.length?(u=Math.min(1,h=+g),p()):u},n.paddingInner=function(g){return arguments.length?(u=Math.min(1,g),p()):u},n.paddingOuter=function(g){return arguments.length?(h=+g,p()):h},n.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},n.copy=function(){return U0(e(),[i,r]).round(c).paddingInner(u).paddingOuter(h).align(f)},Mi.apply(p(),arguments)}function tD(n){var e=n.copy;return n.padding=n.paddingOuter,delete n.paddingInner,delete n.paddingOuter,n.copy=function(){return tD(e())},n}function LH(){return tD(U0.apply(null,arguments).paddingInner(1))}function H0(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function nD(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function cu(){}var Bc=.7,Qh=1/Bc,Io="\\s*([+-]?\\d+)\\s*",zc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IH=/^#([0-9a-f]{3,8})$/,BH=new RegExp(`^rgb\\(${Io},${Io},${Io}\\)$`),zH=new RegExp(`^rgb\\(${tr},${tr},${tr}\\)$`),FH=new RegExp(`^rgba\\(${Io},${Io},${Io},${zc}\\)$`),UH=new RegExp(`^rgba\\(${tr},${tr},${tr},${zc}\\)$`),HH=new RegExp(`^hsl\\(${zc},${tr},${tr}\\)$`),$H=new RegExp(`^hsla\\(${zc},${tr},${tr},${zc}\\)$`),rT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};H0(cu,Fc,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:aT,formatHex:aT,formatHex8:qH,formatHsl:GH,formatRgb:sT,toString:sT});function aT(){return this.rgb().formatHex()}function qH(){return this.rgb().formatHex8()}function GH(){return iD(this).formatHsl()}function sT(){return this.rgb().formatRgb()}function Fc(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=IH.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?oT(e):t===3?new zn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?ah(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?ah(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=BH.exec(n))?new zn(e[1],e[2],e[3],1):(e=zH.exec(n))?new zn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=FH.exec(n))?ah(e[1],e[2],e[3],e[4]):(e=UH.exec(n))?ah(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=HH.exec(n))?uT(e[1],e[2]/100,e[3]/100,1):(e=$H.exec(n))?uT(e[1],e[2]/100,e[3]/100,e[4]):rT.hasOwnProperty(n)?oT(rT[n]):n==="transparent"?new zn(NaN,NaN,NaN,0):null}function oT(n){return new zn(n>>16&255,n>>8&255,n&255,1)}function ah(n,e,t,i){return i<=0&&(n=e=t=NaN),new zn(n,e,t,i)}function VH(n){return n instanceof cu||(n=Fc(n)),n?(n=n.rgb(),new zn(n.r,n.g,n.b,n.opacity)):new zn}function _b(n,e,t,i){return arguments.length===1?VH(n):new zn(n,e,t,i??1)}function zn(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}H0(zn,_b,nD(cu,{brighter(n){return n=n==null?Qh:Math.pow(Qh,n),new zn(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?Bc:Math.pow(Bc,n),new zn(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new zn(vs(this.r),vs(this.g),vs(this.b),Jh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:lT,formatHex:lT,formatHex8:YH,formatRgb:cT,toString:cT}));function lT(){return`#${us(this.r)}${us(this.g)}${us(this.b)}`}function YH(){return`#${us(this.r)}${us(this.g)}${us(this.b)}${us((isNaN(this.opacity)?1:this.opacity)*255)}`}function cT(){const n=Jh(this.opacity);return`${n===1?"rgb(":"rgba("}${vs(this.r)}, ${vs(this.g)}, ${vs(this.b)}${n===1?")":`, ${n})`}`}function Jh(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function vs(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function us(n){return n=vs(n),(n<16?"0":"")+n.toString(16)}function uT(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Li(n,e,t,i)}function iD(n){if(n instanceof Li)return new Li(n.h,n.s,n.l,n.opacity);if(n instanceof cu||(n=Fc(n)),!n)return new Li;if(n instanceof Li)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),o=NaN,c=s-r,u=(s+r)/2;return c?(e===s?o=(t-i)/c+(t<i)*6:t===s?o=(i-e)/c+2:o=(e-t)/c+4,c/=u<.5?s+r:2-s-r,o*=60):c=u>0&&u<1?0:o,new Li(o,c,u,n.opacity)}function XH(n,e,t,i){return arguments.length===1?iD(n):new Li(n,e,t,i??1)}function Li(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}H0(Li,XH,nD(cu,{brighter(n){return n=n==null?Qh:Math.pow(Qh,n),new Li(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?Bc:Math.pow(Bc,n),new Li(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new zn(ay(n>=240?n-240:n+120,r,i),ay(n,r,i),ay(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new Li(dT(this.h),sh(this.s),sh(this.l),Jh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Jh(this.opacity);return`${n===1?"hsl(":"hsla("}${dT(this.h)}, ${sh(this.s)*100}%, ${sh(this.l)*100}%${n===1?")":`, ${n})`}`}}));function dT(n){return n=(n||0)%360,n<0?n+360:n}function sh(n){return Math.max(0,Math.min(1,n||0))}function ay(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const $0=n=>()=>n;function WH(n,e){return function(t){return n+t*e}}function KH(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function ZH(n){return(n=+n)==1?rD:function(e,t){return t-e?KH(e,t,n):$0(isNaN(e)?t:e)}}function rD(n,e){var t=e-n;return t?WH(n,t):$0(isNaN(n)?e:n)}const hT=(function n(e){var t=ZH(e);function i(r,s){var o=t((r=_b(r)).r,(s=_b(s)).r),c=t(r.g,s.g),u=t(r.b,s.b),h=rD(r.opacity,s.opacity);return function(f){return r.r=o(f),r.g=c(f),r.b=u(f),r.opacity=h(f),r+""}}return i.gamma=n,i})(1);function QH(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function JH(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function e$(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),o;for(o=0;o<i;++o)r[o]=Jo(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(c){for(o=0;o<i;++o)s[o]=r[o](c);return s}}function t$(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function ef(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function n$(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=Jo(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var Cb=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sy=new RegExp(Cb.source,"g");function i$(n){return function(){return n}}function r$(n){return function(e){return n(e)+""}}function a$(n,e){var t=Cb.lastIndex=sy.lastIndex=0,i,r,s,o=-1,c=[],u=[];for(n=n+"",e=e+"";(i=Cb.exec(n))&&(r=sy.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),c[o]?c[o]+=s:c[++o]=s),(i=i[0])===(r=r[0])?c[o]?c[o]+=r:c[++o]=r:(c[++o]=null,u.push({i:o,x:ef(i,r)})),t=sy.lastIndex;return t<e.length&&(s=e.slice(t),c[o]?c[o]+=s:c[++o]=s),c.length<2?u[0]?r$(u[0].x):i$(e):(e=u.length,function(h){for(var f=0,p;f<e;++f)c[(p=u[f]).i]=p.x(h);return c.join("")})}function Jo(n,e){var t=typeof e,i;return e==null||t==="boolean"?$0(e):(t==="number"?ef:t==="string"?(i=Fc(e))?(e=i,hT):a$:e instanceof Fc?hT:e instanceof Date?t$:JH(e)?QH:Array.isArray(e)?e$:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?n$:ef)(n,e)}function q0(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function s$(n,e){e===void 0&&(e=n,n=Jo);for(var t=0,i=e.length-1,r=e[0],s=new Array(i<0?0:i);t<i;)s[t]=n(r,r=e[++t]);return function(o){var c=Math.max(0,Math.min(i-1,Math.floor(o*=i)));return s[c](o-c)}}function o$(n){return function(){return n}}function tf(n){return+n}var fT=[0,1];function An(n){return n}function Tb(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:o$(isNaN(e)?NaN:.5)}function l$(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function c$(n,e,t){var i=n[0],r=n[1],s=e[0],o=e[1];return r<i?(i=Tb(r,i),s=t(o,s)):(i=Tb(i,r),s=t(s,o)),function(c){return s(i(c))}}function u$(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),o=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<i;)r[o]=Tb(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(c){var u=lu(n,c,1,i)-1;return s[u](r[u](c))}}function uu(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function Qf(){var n=fT,e=fT,t=Jo,i,r,s,o=An,c,u,h;function f(){var g=Math.min(n.length,e.length);return o!==An&&(o=l$(n[0],n[g-1])),c=g>2?u$:c$,u=h=null,p}function p(g){return g==null||isNaN(g=+g)?s:(u||(u=c(n.map(i),e,t)))(i(o(g)))}return p.invert=function(g){return o(r((h||(h=c(e,n.map(i),ef)))(g)))},p.domain=function(g){return arguments.length?(n=Array.from(g,tf),f()):n.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),t=q0,f()},p.clamp=function(g){return arguments.length?(o=g?!0:An,f()):o!==An},p.interpolate=function(g){return arguments.length?(t=g,f()):t},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return i=g,r=v,f()}}function G0(){return Qf()(An,An)}function d$(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function nf(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function Go(n){return n=nf(Math.abs(n)),n?n[1]:NaN}function h$(n,e){return function(t,i){for(var r=t.length,s=[],o=0,c=n[0],u=0;r>0&&c>0&&(u+c+1>i&&(c=Math.max(1,i-u)),s.push(t.substring(r-=c,r+c)),!((u+=c+1)>i));)c=n[o=(o+1)%n.length];return s.reverse().join(e)}}function f$(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var p$=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Uc(n){if(!(e=p$.exec(n)))throw new Error("invalid format: "+n);var e;return new V0({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Uc.prototype=V0.prototype;function V0(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}V0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function m$(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var aD;function g$(n,e){var t=nf(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(aD=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,o=i.length;return s===o?i:s>o?i+new Array(s-o+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+nf(n,Math.max(0,e+s-1))[0]}function pT(n,e){var t=nf(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const mT={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:d$,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>pT(n*100,e),r:pT,s:g$,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function gT(n){return n}var vT=Array.prototype.map,yT=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function v$(n){var e=n.grouping===void 0||n.thousands===void 0?gT:h$(vT.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?gT:f$(vT.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",c=n.minus===void 0?"":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function h(p){p=Uc(p);var g=p.fill,v=p.align,w=p.sign,b=p.symbol,A=p.zero,S=p.width,M=p.comma,_=p.precision,D=p.trim,T=p.type;T==="n"?(M=!0,T="g"):mT[T]||(_===void 0&&(_=12),D=!0,T="g"),(A||g==="0"&&v==="=")&&(A=!0,g="0",v="=");var P=b==="$"?t:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",R=b==="$"?i:/[%p]/.test(T)?o:"",N=mT[T],I=/[defgprs%]/.test(T);_=_===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function W(U){var K=P,se=R,oe,le,B;if(T==="c")se=N(U)+se,U="";else{U=+U;var H=U<0||1/U<0;if(U=isNaN(U)?u:N(Math.abs(U),_),D&&(U=m$(U)),H&&+U==0&&w!=="+"&&(H=!1),K=(H?w==="("?w:c:w==="-"||w==="("?"":w)+K,se=(T==="s"?yT[8+aD/3]:"")+se+(H&&w==="("?")":""),I){for(oe=-1,le=U.length;++oe<le;)if(B=U.charCodeAt(oe),48>B||B>57){se=(B===46?r+U.slice(oe+1):U.slice(oe))+se,U=U.slice(0,oe);break}}}M&&!A&&(U=e(U,1/0));var te=K.length+U.length+se.length,re=te<S?new Array(S-te+1).join(g):"";switch(M&&A&&(U=e(re+U,re.length?S-se.length:1/0),re=""),v){case"<":U=K+U+se+re;break;case"=":U=K+re+U+se;break;case"^":U=re.slice(0,te=re.length>>1)+K+U+se+re.slice(te);break;default:U=re+K+U+se;break}return s(U)}return W.toString=function(){return p+""},W}function f(p,g){var v=h((p=Uc(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Go(g)/3)))*3,b=Math.pow(10,-w),A=yT[8+w/3];return function(S){return v(b*S)+A}}return{format:h,formatPrefix:f}}var oh,Y0,sD;y$({thousands:",",grouping:[3],currency:["$",""]});function y$(n){return oh=v$(n),Y0=oh.format,sD=oh.formatPrefix,oh}function b$(n){return Math.max(0,-Go(Math.abs(n)))}function x$(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Go(e)/3)))*3-Go(Math.abs(n)))}function w$(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Go(e)-Go(n))+1}function oD(n,e,t,i){var r=Sb(n,e,t),s;switch(i=Uc(i??",f"),i.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=x$(r,o))&&(i.precision=s),sD(i,o)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=w$(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=b$(r))&&(i.precision=s-(i.type==="%")*2);break}}return Y0(i)}function Ba(n){var e=n.domain;return n.ticks=function(t){var i=e();return wb(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return oD(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,o=i[r],c=i[s],u,h,f=10;for(c<o&&(h=o,o=c,c=h,h=r,r=s,s=h);f-- >0;){if(h=Ab(o,c,t),h===u)return i[r]=o,i[s]=c,e(i);if(h>0)o=Math.floor(o/h)*h,c=Math.ceil(c/h)*h;else if(h<0)o=Math.ceil(o*h)/h,c=Math.floor(c*h)/h;else break;u=h}return n},n}function lD(){var n=G0();return n.copy=function(){return uu(n,lD())},Mi.apply(n,arguments),Ba(n)}function cD(n){var e;function t(i){return i==null||isNaN(i=+i)?e:i}return t.invert=t,t.domain=t.range=function(i){return arguments.length?(n=Array.from(i,tf),t):n.slice()},t.unknown=function(i){return arguments.length?(e=i,t):e},t.copy=function(){return cD(n).unknown(e)},n=arguments.length?Array.from(n,tf):[0,1],Ba(t)}function uD(n,e){n=n.slice();var t=0,i=n.length-1,r=n[t],s=n[i],o;return s<r&&(o=t,t=i,i=o,o=r,r=s,s=o),n[t]=e.floor(r),n[i]=e.ceil(s),n}function bT(n){return Math.log(n)}function xT(n){return Math.exp(n)}function A$(n){return-Math.log(-n)}function S$(n){return-Math.exp(-n)}function E$(n){return isFinite(n)?+("1e"+n):n<0?0:n}function _$(n){return n===10?E$:n===Math.E?Math.exp:e=>Math.pow(n,e)}function C$(n){return n===Math.E?Math.log:n===10&&Math.log10||n===2&&Math.log2||(n=Math.log(n),e=>Math.log(e)/n)}function wT(n){return(e,t)=>-n(-e,t)}function X0(n){const e=n(bT,xT),t=e.domain;let i=10,r,s;function o(){return r=C$(i),s=_$(i),t()[0]<0?(r=wT(r),s=wT(s),n(A$,S$)):n(bT,xT),e}return e.base=function(c){return arguments.length?(i=+c,o()):i},e.domain=function(c){return arguments.length?(t(c),o()):t()},e.ticks=c=>{const u=t();let h=u[0],f=u[u.length-1];const p=f<h;p&&([h,f]=[f,h]);let g=r(h),v=r(f),w,b;const A=c==null?10:+c;let S=[];if(!(i%1)&&v-g<A){if(g=Math.floor(g),v=Math.ceil(v),h>0){for(;g<=v;++g)for(w=1;w<i;++w)if(b=g<0?w/s(-g):w*s(g),!(b<h)){if(b>f)break;S.push(b)}}else for(;g<=v;++g)for(w=i-1;w>=1;--w)if(b=g>0?w/s(-g):w*s(g),!(b<h)){if(b>f)break;S.push(b)}S.length*2<A&&(S=wb(h,f,A))}else S=wb(g,v,Math.min(v-g,A)).map(s);return p?S.reverse():S},e.tickFormat=(c,u)=>{if(c==null&&(c=10),u==null&&(u=i===10?"s":","),typeof u!="function"&&(!(i%1)&&(u=Uc(u)).precision==null&&(u.trim=!0),u=Y0(u)),c===1/0)return u;const h=Math.max(1,i*c/e.ticks().length);return f=>{let p=f/s(Math.round(r(f)));return p*i<i-.5&&(p*=i),p<=h?u(f):""}},e.nice=()=>t(uD(t(),{floor:c=>s(Math.floor(r(c))),ceil:c=>s(Math.ceil(r(c)))})),e}function dD(){const n=X0(Qf()).domain([1,10]);return n.copy=()=>uu(n,dD()).base(n.base()),Mi.apply(n,arguments),n}function AT(n){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/n))}}function ST(n){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*n}}function W0(n){var e=1,t=n(AT(e),ST(e));return t.constant=function(i){return arguments.length?n(AT(e=+i),ST(e)):e},Ba(t)}function hD(){var n=W0(Qf());return n.copy=function(){return uu(n,hD()).constant(n.constant())},Mi.apply(n,arguments)}function ET(n){return function(e){return e<0?-Math.pow(-e,n):Math.pow(e,n)}}function T$(n){return n<0?-Math.sqrt(-n):Math.sqrt(n)}function O$(n){return n<0?-n*n:n*n}function K0(n){var e=n(An,An),t=1;function i(){return t===1?n(An,An):t===.5?n(T$,O$):n(ET(t),ET(1/t))}return e.exponent=function(r){return arguments.length?(t=+r,i()):t},Ba(e)}function Z0(){var n=K0(Qf());return n.copy=function(){return uu(n,Z0()).exponent(n.exponent())},Mi.apply(n,arguments),n}function M$(){return Z0.apply(null,arguments).exponent(.5)}function _T(n){return Math.sign(n)*n*n}function P$(n){return Math.sign(n)*Math.sqrt(Math.abs(n))}function fD(){var n=G0(),e=[0,1],t=!1,i;function r(s){var o=P$(n(s));return isNaN(o)?i:t?Math.round(o):o}return r.invert=function(s){return n.invert(_T(s))},r.domain=function(s){return arguments.length?(n.domain(s),r):n.domain()},r.range=function(s){return arguments.length?(n.range((e=Array.from(s,tf)).map(_T)),r):e.slice()},r.rangeRound=function(s){return r.range(s).round(!0)},r.round=function(s){return arguments.length?(t=!!s,r):t},r.clamp=function(s){return arguments.length?(n.clamp(s),r):n.clamp()},r.unknown=function(s){return arguments.length?(i=s,r):i},r.copy=function(){return fD(n.domain(),e).round(t).clamp(n.clamp()).unknown(i)},Mi.apply(r,arguments),Ba(r)}function pD(){var n=[],e=[],t=[],i;function r(){var o=0,c=Math.max(1,e.length);for(t=new Array(c-1);++o<c;)t[o-1]=NH(n,o/c);return s}function s(o){return o==null||isNaN(o=+o)?i:e[lu(t,o)]}return s.invertExtent=function(o){var c=e.indexOf(o);return c<0?[NaN,NaN]:[c>0?t[c-1]:n[0],c<t.length?t[c]:n[n.length-1]]},s.domain=function(o){if(!arguments.length)return n.slice();n=[];for(let c of o)c!=null&&!isNaN(c=+c)&&n.push(c);return n.sort(ka),r()},s.range=function(o){return arguments.length?(e=Array.from(o),r()):e.slice()},s.unknown=function(o){return arguments.length?(i=o,s):i},s.quantiles=function(){return t.slice()},s.copy=function(){return pD().domain(n).range(e).unknown(i)},Mi.apply(s,arguments)}function mD(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function o(u){return u!=null&&u<=u?r[lu(i,u,0,t)]:s}function c(){var u=-1;for(i=new Array(t);++u<t;)i[u]=((u+1)*e-(u-t)*n)/(t+1);return o}return o.domain=function(u){return arguments.length?([n,e]=u,n=+n,e=+e,c()):[n,e]},o.range=function(u){return arguments.length?(t=(r=Array.from(u)).length-1,c()):r.slice()},o.invertExtent=function(u){var h=r.indexOf(u);return h<0?[NaN,NaN]:h<1?[n,i[0]]:h>=t?[i[t-1],e]:[i[h-1],i[h]]},o.unknown=function(u){return arguments.length&&(s=u),o},o.thresholds=function(){return i.slice()},o.copy=function(){return mD().domain([n,e]).range(r).unknown(s)},Mi.apply(Ba(o),arguments)}function gD(){var n=[.5],e=[0,1],t,i=1;function r(s){return s!=null&&s<=s?e[lu(n,s,0,i)]:t}return r.domain=function(s){return arguments.length?(n=Array.from(s),i=Math.min(n.length,e.length-1),r):n.slice()},r.range=function(s){return arguments.length?(e=Array.from(s),i=Math.min(n.length,e.length-1),r):e.slice()},r.invertExtent=function(s){var o=e.indexOf(s);return[n[o-1],n[o]]},r.unknown=function(s){return arguments.length?(t=s,r):t},r.copy=function(){return gD().domain(n).range(e).unknown(t)},Mi.apply(r,arguments)}const oy=new Date,ly=new Date;function Bt(n,e,t,i){function r(s){return n(s=arguments.length===0?new Date:new Date(+s)),s}return r.floor=s=>(n(s=new Date(+s)),s),r.ceil=s=>(n(s=new Date(s-1)),e(s,1),n(s),s),r.round=s=>{const o=r(s),c=r.ceil(s);return s-o<c-s?o:c},r.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),r.range=(s,o,c)=>{const u=[];if(s=r.ceil(s),c=c==null?1:Math.floor(c),!(s<o)||!(c>0))return u;let h;do u.push(h=new Date(+s)),e(s,c),n(s);while(h<s&&s<o);return u},r.filter=s=>Bt(o=>{if(o>=o)for(;n(o),!s(o);)o.setTime(o-1)},(o,c)=>{if(o>=o)if(c<0)for(;++c<=0;)for(;e(o,-1),!s(o););else for(;--c>=0;)for(;e(o,1),!s(o););}),t&&(r.count=(s,o)=>(oy.setTime(+s),ly.setTime(+o),n(oy),n(ly),Math.floor(t(oy,ly))),r.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?r.filter(i?o=>i(o)%s===0:o=>r.count(0,o)%s===0):r)),r}const rf=Bt(()=>{},(n,e)=>{n.setTime(+n+e)},(n,e)=>e-n);rf.every=n=>(n=Math.floor(n),!isFinite(n)||!(n>0)?null:n>1?Bt(e=>{e.setTime(Math.floor(e/n)*n)},(e,t)=>{e.setTime(+e+t*n)},(e,t)=>(t-e)/n):rf);rf.range;const kr=1e3,Si=kr*60,Rr=Si*60,Hr=Rr*24,Q0=Hr*7,CT=Hr*30,cy=Hr*365,ds=Bt(n=>{n.setTime(n-n.getMilliseconds())},(n,e)=>{n.setTime(+n+e*kr)},(n,e)=>(e-n)/kr,n=>n.getUTCSeconds());ds.range;const J0=Bt(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*kr)},(n,e)=>{n.setTime(+n+e*Si)},(n,e)=>(e-n)/Si,n=>n.getMinutes());J0.range;const e1=Bt(n=>{n.setUTCSeconds(0,0)},(n,e)=>{n.setTime(+n+e*Si)},(n,e)=>(e-n)/Si,n=>n.getUTCMinutes());e1.range;const t1=Bt(n=>{n.setTime(n-n.getMilliseconds()-n.getSeconds()*kr-n.getMinutes()*Si)},(n,e)=>{n.setTime(+n+e*Rr)},(n,e)=>(e-n)/Rr,n=>n.getHours());t1.range;const n1=Bt(n=>{n.setUTCMinutes(0,0,0)},(n,e)=>{n.setTime(+n+e*Rr)},(n,e)=>(e-n)/Rr,n=>n.getUTCHours());n1.range;const du=Bt(n=>n.setHours(0,0,0,0),(n,e)=>n.setDate(n.getDate()+e),(n,e)=>(e-n-(e.getTimezoneOffset()-n.getTimezoneOffset())*Si)/Hr,n=>n.getDate()-1);du.range;const Jf=Bt(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Hr,n=>n.getUTCDate()-1);Jf.range;const vD=Bt(n=>{n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCDate(n.getUTCDate()+e)},(n,e)=>(e-n)/Hr,n=>Math.floor(n/Hr));vD.range;function Ds(n){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-n)%7),e.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+t*7)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Si)/Q0)}const ep=Ds(0),af=Ds(1),D$=Ds(2),k$=Ds(3),Vo=Ds(4),R$=Ds(5),N$=Ds(6);ep.range;af.range;D$.range;k$.range;Vo.range;R$.range;N$.range;function ks(n){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-n)%7),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t*7)},(e,t)=>(t-e)/Q0)}const tp=ks(0),sf=ks(1),j$=ks(2),L$=ks(3),Yo=ks(4),I$=ks(5),B$=ks(6);tp.range;sf.range;j$.range;L$.range;Yo.range;I$.range;B$.range;const i1=Bt(n=>{n.setDate(1),n.setHours(0,0,0,0)},(n,e)=>{n.setMonth(n.getMonth()+e)},(n,e)=>e.getMonth()-n.getMonth()+(e.getFullYear()-n.getFullYear())*12,n=>n.getMonth());i1.range;const r1=Bt(n=>{n.setUTCDate(1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCMonth(n.getUTCMonth()+e)},(n,e)=>e.getUTCMonth()-n.getUTCMonth()+(e.getUTCFullYear()-n.getUTCFullYear())*12,n=>n.getUTCMonth());r1.range;const $r=Bt(n=>{n.setMonth(0,1),n.setHours(0,0,0,0)},(n,e)=>{n.setFullYear(n.getFullYear()+e)},(n,e)=>e.getFullYear()-n.getFullYear(),n=>n.getFullYear());$r.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/n)*n),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t*n)});$r.range;const qr=Bt(n=>{n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)},(n,e)=>{n.setUTCFullYear(n.getUTCFullYear()+e)},(n,e)=>e.getUTCFullYear()-n.getUTCFullYear(),n=>n.getUTCFullYear());qr.every=n=>!isFinite(n=Math.floor(n))||!(n>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/n)*n),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t*n)});qr.range;function yD(n,e,t,i,r,s){const o=[[ds,1,kr],[ds,5,5*kr],[ds,15,15*kr],[ds,30,30*kr],[s,1,Si],[s,5,5*Si],[s,15,15*Si],[s,30,30*Si],[r,1,Rr],[r,3,3*Rr],[r,6,6*Rr],[r,12,12*Rr],[i,1,Hr],[i,2,2*Hr],[t,1,Q0],[e,1,CT],[e,3,3*CT],[n,1,cy]];function c(h,f,p){const g=f<h;g&&([h,f]=[f,h]);const v=p&&typeof p.range=="function"?p:u(h,f,p),w=v?v.range(h,+f+1):[];return g?w.reverse():w}function u(h,f,p){const g=Math.abs(f-h)/p,v=z0(([,,A])=>A).right(o,g);if(v===o.length)return n.every(Sb(h/cy,f/cy,p));if(v===0)return rf.every(Math.max(Sb(h,f,p),1));const[w,b]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return w.every(b)}return[c,u]}const[z$,F$]=yD(qr,r1,tp,vD,n1,e1),[U$,H$]=yD($r,i1,ep,du,t1,J0);function uy(n){if(0<=n.y&&n.y<100){var e=new Date(-1,n.m,n.d,n.H,n.M,n.S,n.L);return e.setFullYear(n.y),e}return new Date(n.y,n.m,n.d,n.H,n.M,n.S,n.L)}function dy(n){if(0<=n.y&&n.y<100){var e=new Date(Date.UTC(-1,n.m,n.d,n.H,n.M,n.S,n.L));return e.setUTCFullYear(n.y),e}return new Date(Date.UTC(n.y,n.m,n.d,n.H,n.M,n.S,n.L))}function hc(n,e,t){return{y:n,m:e,d:t,H:0,M:0,S:0,L:0}}function $$(n){var e=n.dateTime,t=n.date,i=n.time,r=n.periods,s=n.days,o=n.shortDays,c=n.months,u=n.shortMonths,h=fc(r),f=pc(r),p=fc(s),g=pc(s),v=fc(o),w=pc(o),b=fc(c),A=pc(c),S=fc(u),M=pc(u),_={a:H,A:te,b:re,B:xe,c:null,d:kT,e:kT,f:hq,g:Aq,G:Eq,H:cq,I:uq,j:dq,L:bD,m:fq,M:pq,p:L,q:V,Q:jT,s:LT,S:mq,u:gq,U:vq,V:yq,w:bq,W:xq,x:null,X:null,y:wq,Y:Sq,Z:_q,"%":NT},D={a:ne,A:ae,b:me,B:we,c:null,d:RT,e:RT,f:Mq,g:zq,G:Uq,H:Cq,I:Tq,j:Oq,L:wD,m:Pq,M:Dq,p:ce,q:at,Q:jT,s:LT,S:kq,u:Rq,U:Nq,V:jq,w:Lq,W:Iq,x:null,X:null,y:Bq,Y:Fq,Z:Hq,"%":NT},T={a:W,A:U,b:K,B:se,c:oe,d:PT,e:PT,f:aq,g:MT,G:OT,H:DT,I:DT,j:tq,L:rq,m:eq,M:nq,p:I,q:J$,Q:oq,s:lq,S:iq,u:X$,U:W$,V:K$,w:Y$,W:Z$,x:le,X:B,y:MT,Y:OT,Z:Q$,"%":sq};_.x=P(t,_),_.X=P(i,_),_.c=P(e,_),D.x=P(t,D),D.X=P(i,D),D.c=P(e,D);function P(Q,Se){return function(Me){var ie=[],Tt=-1,Re=0,Qt=Q.length,Jt,or,ol;for(Me instanceof Date||(Me=new Date(+Me));++Tt<Qt;)Q.charCodeAt(Tt)===37&&(ie.push(Q.slice(Re,Tt)),(or=TT[Jt=Q.charAt(++Tt)])!=null?Jt=Q.charAt(++Tt):or=Jt==="e"?" ":"0",(ol=Se[Jt])&&(Jt=ol(Me,or)),ie.push(Jt),Re=Tt+1);return ie.push(Q.slice(Re,Tt)),ie.join("")}}function R(Q,Se){return function(Me){var ie=hc(1900,void 0,1),Tt=N(ie,Q,Me+="",0),Re,Qt;if(Tt!=Me.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(Se&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(Re=dy(hc(ie.y,0,1)),Qt=Re.getUTCDay(),Re=Qt>4||Qt===0?sf.ceil(Re):sf(Re),Re=Jf.offset(Re,(ie.V-1)*7),ie.y=Re.getUTCFullYear(),ie.m=Re.getUTCMonth(),ie.d=Re.getUTCDate()+(ie.w+6)%7):(Re=uy(hc(ie.y,0,1)),Qt=Re.getDay(),Re=Qt>4||Qt===0?af.ceil(Re):af(Re),Re=du.offset(Re,(ie.V-1)*7),ie.y=Re.getFullYear(),ie.m=Re.getMonth(),ie.d=Re.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),Qt="Z"in ie?dy(hc(ie.y,0,1)).getUTCDay():uy(hc(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(Qt+5)%7:ie.w+ie.U*7-(Qt+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,dy(ie)):uy(ie)}}function N(Q,Se,Me,ie){for(var Tt=0,Re=Se.length,Qt=Me.length,Jt,or;Tt<Re;){if(ie>=Qt)return-1;if(Jt=Se.charCodeAt(Tt++),Jt===37){if(Jt=Se.charAt(Tt++),or=T[Jt in TT?Se.charAt(Tt++):Jt],!or||(ie=or(Q,Me,ie))<0)return-1}else if(Jt!=Me.charCodeAt(ie++))return-1}return ie}function I(Q,Se,Me){var ie=h.exec(Se.slice(Me));return ie?(Q.p=f.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function W(Q,Se,Me){var ie=v.exec(Se.slice(Me));return ie?(Q.w=w.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function U(Q,Se,Me){var ie=p.exec(Se.slice(Me));return ie?(Q.w=g.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function K(Q,Se,Me){var ie=S.exec(Se.slice(Me));return ie?(Q.m=M.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function se(Q,Se,Me){var ie=b.exec(Se.slice(Me));return ie?(Q.m=A.get(ie[0].toLowerCase()),Me+ie[0].length):-1}function oe(Q,Se,Me){return N(Q,e,Se,Me)}function le(Q,Se,Me){return N(Q,t,Se,Me)}function B(Q,Se,Me){return N(Q,i,Se,Me)}function H(Q){return o[Q.getDay()]}function te(Q){return s[Q.getDay()]}function re(Q){return u[Q.getMonth()]}function xe(Q){return c[Q.getMonth()]}function L(Q){return r[+(Q.getHours()>=12)]}function V(Q){return 1+~~(Q.getMonth()/3)}function ne(Q){return o[Q.getUTCDay()]}function ae(Q){return s[Q.getUTCDay()]}function me(Q){return u[Q.getUTCMonth()]}function we(Q){return c[Q.getUTCMonth()]}function ce(Q){return r[+(Q.getUTCHours()>=12)]}function at(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var Se=P(Q+="",_);return Se.toString=function(){return Q},Se},parse:function(Q){var Se=R(Q+="",!1);return Se.toString=function(){return Q},Se},utcFormat:function(Q){var Se=P(Q+="",D);return Se.toString=function(){return Q},Se},utcParse:function(Q){var Se=R(Q+="",!0);return Se.toString=function(){return Q},Se}}}var TT={"-":"",_:" ",0:"0"},Zt=/^\s*\d+/,q$=/^%/,G$=/[\\^$*+?|[\]().{}]/g;function He(n,e,t){var i=n<0?"-":"",r=(i?-n:n)+"",s=r.length;return i+(s<t?new Array(t-s+1).join(e)+r:r)}function V$(n){return n.replace(G$,"\\$&")}function fc(n){return new RegExp("^(?:"+n.map(V$).join("|")+")","i")}function pc(n){return new Map(n.map((e,t)=>[e.toLowerCase(),t]))}function Y$(n,e,t){var i=Zt.exec(e.slice(t,t+1));return i?(n.w=+i[0],t+i[0].length):-1}function X$(n,e,t){var i=Zt.exec(e.slice(t,t+1));return i?(n.u=+i[0],t+i[0].length):-1}function W$(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.U=+i[0],t+i[0].length):-1}function K$(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.V=+i[0],t+i[0].length):-1}function Z$(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.W=+i[0],t+i[0].length):-1}function OT(n,e,t){var i=Zt.exec(e.slice(t,t+4));return i?(n.y=+i[0],t+i[0].length):-1}function MT(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.y=+i[0]+(+i[0]>68?1900:2e3),t+i[0].length):-1}function Q$(n,e,t){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(t,t+6));return i?(n.Z=i[1]?0:-(i[2]+(i[3]||"00")),t+i[0].length):-1}function J$(n,e,t){var i=Zt.exec(e.slice(t,t+1));return i?(n.q=i[0]*3-3,t+i[0].length):-1}function eq(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.m=i[0]-1,t+i[0].length):-1}function PT(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.d=+i[0],t+i[0].length):-1}function tq(n,e,t){var i=Zt.exec(e.slice(t,t+3));return i?(n.m=0,n.d=+i[0],t+i[0].length):-1}function DT(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.H=+i[0],t+i[0].length):-1}function nq(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.M=+i[0],t+i[0].length):-1}function iq(n,e,t){var i=Zt.exec(e.slice(t,t+2));return i?(n.S=+i[0],t+i[0].length):-1}function rq(n,e,t){var i=Zt.exec(e.slice(t,t+3));return i?(n.L=+i[0],t+i[0].length):-1}function aq(n,e,t){var i=Zt.exec(e.slice(t,t+6));return i?(n.L=Math.floor(i[0]/1e3),t+i[0].length):-1}function sq(n,e,t){var i=q$.exec(e.slice(t,t+1));return i?t+i[0].length:-1}function oq(n,e,t){var i=Zt.exec(e.slice(t));return i?(n.Q=+i[0],t+i[0].length):-1}function lq(n,e,t){var i=Zt.exec(e.slice(t));return i?(n.s=+i[0],t+i[0].length):-1}function kT(n,e){return He(n.getDate(),e,2)}function cq(n,e){return He(n.getHours(),e,2)}function uq(n,e){return He(n.getHours()%12||12,e,2)}function dq(n,e){return He(1+du.count($r(n),n),e,3)}function bD(n,e){return He(n.getMilliseconds(),e,3)}function hq(n,e){return bD(n,e)+"000"}function fq(n,e){return He(n.getMonth()+1,e,2)}function pq(n,e){return He(n.getMinutes(),e,2)}function mq(n,e){return He(n.getSeconds(),e,2)}function gq(n){var e=n.getDay();return e===0?7:e}function vq(n,e){return He(ep.count($r(n)-1,n),e,2)}function xD(n){var e=n.getDay();return e>=4||e===0?Vo(n):Vo.ceil(n)}function yq(n,e){return n=xD(n),He(Vo.count($r(n),n)+($r(n).getDay()===4),e,2)}function bq(n){return n.getDay()}function xq(n,e){return He(af.count($r(n)-1,n),e,2)}function wq(n,e){return He(n.getFullYear()%100,e,2)}function Aq(n,e){return n=xD(n),He(n.getFullYear()%100,e,2)}function Sq(n,e){return He(n.getFullYear()%1e4,e,4)}function Eq(n,e){var t=n.getDay();return n=t>=4||t===0?Vo(n):Vo.ceil(n),He(n.getFullYear()%1e4,e,4)}function _q(n){var e=n.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+He(e/60|0,"0",2)+He(e%60,"0",2)}function RT(n,e){return He(n.getUTCDate(),e,2)}function Cq(n,e){return He(n.getUTCHours(),e,2)}function Tq(n,e){return He(n.getUTCHours()%12||12,e,2)}function Oq(n,e){return He(1+Jf.count(qr(n),n),e,3)}function wD(n,e){return He(n.getUTCMilliseconds(),e,3)}function Mq(n,e){return wD(n,e)+"000"}function Pq(n,e){return He(n.getUTCMonth()+1,e,2)}function Dq(n,e){return He(n.getUTCMinutes(),e,2)}function kq(n,e){return He(n.getUTCSeconds(),e,2)}function Rq(n){var e=n.getUTCDay();return e===0?7:e}function Nq(n,e){return He(tp.count(qr(n)-1,n),e,2)}function AD(n){var e=n.getUTCDay();return e>=4||e===0?Yo(n):Yo.ceil(n)}function jq(n,e){return n=AD(n),He(Yo.count(qr(n),n)+(qr(n).getUTCDay()===4),e,2)}function Lq(n){return n.getUTCDay()}function Iq(n,e){return He(sf.count(qr(n)-1,n),e,2)}function Bq(n,e){return He(n.getUTCFullYear()%100,e,2)}function zq(n,e){return n=AD(n),He(n.getUTCFullYear()%100,e,2)}function Fq(n,e){return He(n.getUTCFullYear()%1e4,e,4)}function Uq(n,e){var t=n.getUTCDay();return n=t>=4||t===0?Yo(n):Yo.ceil(n),He(n.getUTCFullYear()%1e4,e,4)}function Hq(){return"+0000"}function NT(){return"%"}function jT(n){return+n}function LT(n){return Math.floor(+n/1e3)}var xo,SD,ED;$q({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $q(n){return xo=$$(n),SD=xo.format,xo.parse,ED=xo.utcFormat,xo.utcParse,xo}function qq(n){return new Date(n)}function Gq(n){return n instanceof Date?+n:+new Date(+n)}function a1(n,e,t,i,r,s,o,c,u,h){var f=G0(),p=f.invert,g=f.domain,v=h(".%L"),w=h(":%S"),b=h("%I:%M"),A=h("%I %p"),S=h("%a %d"),M=h("%b %d"),_=h("%B"),D=h("%Y");function T(P){return(u(P)<P?v:c(P)<P?w:o(P)<P?b:s(P)<P?A:i(P)<P?r(P)<P?S:M:t(P)<P?_:D)(P)}return f.invert=function(P){return new Date(p(P))},f.domain=function(P){return arguments.length?g(Array.from(P,Gq)):g().map(qq)},f.ticks=function(P){var R=g();return n(R[0],R[R.length-1],P??10)},f.tickFormat=function(P,R){return R==null?T:h(R)},f.nice=function(P){var R=g();return(!P||typeof P.range!="function")&&(P=e(R[0],R[R.length-1],P??10)),P?g(uD(R,P)):f},f.copy=function(){return uu(f,a1(n,e,t,i,r,s,o,c,u,h))},f}function Vq(){return Mi.apply(a1(U$,H$,$r,i1,ep,du,t1,J0,ds,SD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Yq(){return Mi.apply(a1(z$,F$,qr,r1,tp,Jf,n1,e1,ds,ED).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function np(){var n=0,e=1,t,i,r,s,o=An,c=!1,u;function h(p){return p==null||isNaN(p=+p)?u:o(r===0?.5:(p=(s(p)-t)*r,c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([n,e]=p,t=s(n=+n),i=s(e=+e),r=t===i?0:1/(i-t),h):[n,e]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(o=p,h):o};function f(p){return function(g){var v,w;return arguments.length?([v,w]=g,o=p(v,w),h):[o(0),o(1)]}}return h.range=f(Jo),h.rangeRound=f(q0),h.unknown=function(p){return arguments.length?(u=p,h):u},function(p){return s=p,t=p(n),i=p(e),r=t===i?0:1/(i-t),h}}function za(n,e){return e.domain(n.domain()).interpolator(n.interpolator()).clamp(n.clamp()).unknown(n.unknown())}function _D(){var n=Ba(np()(An));return n.copy=function(){return za(n,_D())},Kr.apply(n,arguments)}function CD(){var n=X0(np()).domain([1,10]);return n.copy=function(){return za(n,CD()).base(n.base())},Kr.apply(n,arguments)}function TD(){var n=W0(np());return n.copy=function(){return za(n,TD()).constant(n.constant())},Kr.apply(n,arguments)}function s1(){var n=K0(np());return n.copy=function(){return za(n,s1()).exponent(n.exponent())},Kr.apply(n,arguments)}function Xq(){return s1.apply(null,arguments).exponent(.5)}function OD(){var n=[],e=An;function t(i){if(i!=null&&!isNaN(i=+i))return e((lu(n,i,1)-1)/(n.length-1))}return t.domain=function(i){if(!arguments.length)return n.slice();n=[];for(let r of i)r!=null&&!isNaN(r=+r)&&n.push(r);return n.sort(ka),t},t.interpolator=function(i){return arguments.length?(e=i,t):e},t.range=function(){return n.map((i,r)=>e(r/(n.length-1)))},t.quantiles=function(i){return Array.from({length:i+1},(r,s)=>RH(n,s/i))},t.copy=function(){return OD(e).domain(n)},Kr.apply(t,arguments)}function ip(){var n=0,e=.5,t=1,i=1,r,s,o,c,u,h=An,f,p=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+f(b))-s)*(i*b<i*s?c:u),h(p?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([n,e,t]=b,r=f(n=+n),s=f(e=+e),o=f(t=+t),c=r===s?0:.5/(s-r),u=s===o?0:.5/(o-s),i=s<r?-1:1,v):[n,e,t]},v.clamp=function(b){return arguments.length?(p=!!b,v):p},v.interpolator=function(b){return arguments.length?(h=b,v):h};function w(b){return function(A){var S,M,_;return arguments.length?([S,M,_]=A,h=s$(b,[S,M,_]),v):[h(0),h(.5),h(1)]}}return v.range=w(Jo),v.rangeRound=w(q0),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return f=b,r=b(n),s=b(e),o=b(t),c=r===s?0:.5/(s-r),u=s===o?0:.5/(o-s),i=s<r?-1:1,v}}function MD(){var n=Ba(ip()(An));return n.copy=function(){return za(n,MD())},Kr.apply(n,arguments)}function PD(){var n=X0(ip()).domain([.1,1,10]);return n.copy=function(){return za(n,PD()).base(n.base())},Kr.apply(n,arguments)}function DD(){var n=W0(ip());return n.copy=function(){return za(n,DD()).constant(n.constant())},Kr.apply(n,arguments)}function o1(){var n=K0(ip());return n.copy=function(){return za(n,o1()).exponent(n.exponent())},Kr.apply(n,arguments)}function Wq(){return o1.apply(null,arguments).exponent(.5)}const wc=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:U0,scaleDiverging:MD,scaleDivergingLog:PD,scaleDivergingPow:o1,scaleDivergingSqrt:Wq,scaleDivergingSymlog:DD,scaleIdentity:cD,scaleImplicit:Eb,scaleLinear:lD,scaleLog:dD,scaleOrdinal:F0,scalePoint:LH,scalePow:Z0,scaleQuantile:pD,scaleQuantize:mD,scaleRadial:fD,scaleSequential:_D,scaleSequentialLog:CD,scaleSequentialPow:s1,scaleSequentialQuantile:OD,scaleSequentialSqrt:Xq,scaleSequentialSymlog:TD,scaleSqrt:M$,scaleSymlog:hD,scaleThreshold:gD,scaleTime:Vq,scaleUtc:Yq,tickFormat:oD},Symbol.toStringTag,{value:"Module"}));var Fa=n=>n.chartData,Kq=X([Fa],n=>{var e=n.chartData!=null?n.chartData.length-1:0;return{chartData:n.chartData,computedData:n.computedData,dataEndIndex:e,dataStartIndex:0}}),l1=(n,e,t,i)=>i?Kq(n):Fa(n);function ja(n){if(Array.isArray(n)&&n.length===2){var[e,t]=n;if(_t(e)&&_t(t))return!0}return!1}function IT(n,e,t){return t?n:[Math.min(n[0],e[0]),Math.max(n[1],e[1])]}function kD(n,e){if(e&&typeof n!="function"&&Array.isArray(n)&&n.length===2){var[t,i]=n,r,s;if(_t(t))r=t;else if(typeof t=="function")return;if(_t(i))s=i;else if(typeof i=="function")return;var o=[r,s];if(ja(o))return o}}function Zq(n,e,t){if(!(!t&&e==null)){if(typeof n=="function"&&e!=null)try{var i=n(e,t);if(ja(i))return IT(i,e,t)}catch{}if(Array.isArray(n)&&n.length===2){var[r,s]=n,o,c;if(r==="auto")e!=null&&(o=Math.min(...e));else if(ge(r))o=r;else if(typeof r=="function")try{e!=null&&(o=r(e?.[0]))}catch{}else if(typeof r=="string"&&fC.test(r)){var u=fC.exec(r);if(u==null||e==null)o=void 0;else{var h=+u[1];o=e[0]-h}}else o=e?.[0];if(s==="auto")e!=null&&(c=Math.max(...e));else if(ge(s))c=s;else if(typeof s=="function")try{e!=null&&(c=s(e?.[1]))}catch{}else if(typeof s=="string"&&pC.test(s)){var f=pC.exec(s);if(f==null||e==null)c=void 0;else{var p=+f[1];c=e[1]+p}}else c=e?.[1];var g=[o,c];if(ja(g))return e==null?g:IT(g,e,t)}}}var el=1e9,Qq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},u1,pt=!0,Oi="[DecimalError] ",ys=Oi+"Invalid argument: ",c1=Oi+"Exponent out of range: ",tl=Math.floor,ls=Math.pow,Jq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ti,Xt=1e7,lt=7,RD=9007199254740991,of=tl(RD/lt),de={};de.absoluteValue=de.abs=function(){var n=new this.constructor(this);return n.s&&(n.s=1),n};de.comparedTo=de.cmp=function(n){var e,t,i,r,s=this;if(n=new s.constructor(n),s.s!==n.s)return s.s||-n.s;if(s.e!==n.e)return s.e>n.e^s.s<0?1:-1;for(i=s.d.length,r=n.d.length,e=0,t=i<r?i:r;e<t;++e)if(s.d[e]!==n.d[e])return s.d[e]>n.d[e]^s.s<0?1:-1;return i===r?0:i>r^s.s<0?1:-1};de.decimalPlaces=de.dp=function(){var n=this,e=n.d.length-1,t=(e-n.e)*lt;if(e=n.d[e],e)for(;e%10==0;e/=10)t--;return t<0?0:t};de.dividedBy=de.div=function(n){return jr(this,new this.constructor(n))};de.dividedToIntegerBy=de.idiv=function(n){var e=this,t=e.constructor;return it(jr(e,new t(n),0,1),t.precision)};de.equals=de.eq=function(n){return!this.cmp(n)};de.exponent=function(){return jt(this)};de.greaterThan=de.gt=function(n){return this.cmp(n)>0};de.greaterThanOrEqualTo=de.gte=function(n){return this.cmp(n)>=0};de.isInteger=de.isint=function(){return this.e>this.d.length-2};de.isNegative=de.isneg=function(){return this.s<0};de.isPositive=de.ispos=function(){return this.s>0};de.isZero=function(){return this.s===0};de.lessThan=de.lt=function(n){return this.cmp(n)<0};de.lessThanOrEqualTo=de.lte=function(n){return this.cmp(n)<1};de.logarithm=de.log=function(n){var e,t=this,i=t.constructor,r=i.precision,s=r+5;if(n===void 0)n=new i(10);else if(n=new i(n),n.s<1||n.eq(ti))throw Error(Oi+"NaN");if(t.s<1)throw Error(Oi+(t.s?"NaN":"-Infinity"));return t.eq(ti)?new i(0):(pt=!1,e=jr(Hc(t,s),Hc(n,s),s),pt=!0,it(e,r))};de.minus=de.sub=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?LD(e,n):ND(e,(n.s=-n.s,n))};de.modulo=de.mod=function(n){var e,t=this,i=t.constructor,r=i.precision;if(n=new i(n),!n.s)throw Error(Oi+"NaN");return t.s?(pt=!1,e=jr(t,n,0,1).times(n),pt=!0,t.minus(e)):it(new i(t),r)};de.naturalExponential=de.exp=function(){return jD(this)};de.naturalLogarithm=de.ln=function(){return Hc(this)};de.negated=de.neg=function(){var n=new this.constructor(this);return n.s=-n.s||0,n};de.plus=de.add=function(n){var e=this;return n=new e.constructor(n),e.s==n.s?ND(e,n):LD(e,(n.s=-n.s,n))};de.precision=de.sd=function(n){var e,t,i,r=this;if(n!==void 0&&n!==!!n&&n!==1&&n!==0)throw Error(ys+n);if(e=jt(r)+1,i=r.d.length-1,t=i*lt+1,i=r.d[i],i){for(;i%10==0;i/=10)t--;for(i=r.d[0];i>=10;i/=10)t++}return n&&e>t?e:t};de.squareRoot=de.sqrt=function(){var n,e,t,i,r,s,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(Oi+"NaN")}for(n=jt(c),pt=!1,r=Math.sqrt(+c),r==0||r==1/0?(e=er(c.d),(e.length+n)%2==0&&(e+="0"),r=Math.sqrt(e),n=tl((n+1)/2)-(n<0||n%2),r==1/0?e="5e"+n:(e=r.toExponential(),e=e.slice(0,e.indexOf("e")+1)+n),i=new u(e)):i=new u(r.toString()),t=u.precision,r=o=t+3;;)if(s=i,i=s.plus(jr(c,s,o+2)).times(.5),er(s.d).slice(0,o)===(e=er(i.d)).slice(0,o)){if(e=e.slice(o-3,o+1),r==o&&e=="4999"){if(it(s,t+1,0),s.times(s).eq(c)){i=s;break}}else if(e!="9999")break;o+=4}return pt=!0,it(i,t)};de.times=de.mul=function(n){var e,t,i,r,s,o,c,u,h,f=this,p=f.constructor,g=f.d,v=(n=new p(n)).d;if(!f.s||!n.s)return new p(0);for(n.s*=f.s,t=f.e+n.e,u=g.length,h=v.length,u<h&&(s=g,g=v,v=s,o=u,u=h,h=o),s=[],o=u+h,i=o;i--;)s.push(0);for(i=h;--i>=0;){for(e=0,r=u+i;r>i;)c=s[r]+v[i]*g[r-i-1]+e,s[r--]=c%Xt|0,e=c/Xt|0;s[r]=(s[r]+e)%Xt|0}for(;!s[--o];)s.pop();return e?++t:s.shift(),n.d=s,n.e=t,pt?it(n,p.precision):n};de.toDecimalPlaces=de.todp=function(n,e){var t=this,i=t.constructor;return t=new i(t),n===void 0?t:(ar(n,0,el),e===void 0?e=i.rounding:ar(e,0,8),it(t,n+jt(t)+1,e))};de.toExponential=function(n,e){var t,i=this,r=i.constructor;return n===void 0?t=Ss(i,!0):(ar(n,0,el),e===void 0?e=r.rounding:ar(e,0,8),i=it(new r(i),n+1,e),t=Ss(i,!0,n+1)),t};de.toFixed=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?Ss(r):(ar(n,0,el),e===void 0?e=s.rounding:ar(e,0,8),i=it(new s(r),n+jt(r)+1,e),t=Ss(i.abs(),!1,n+jt(i)+1),r.isneg()&&!r.isZero()?"-"+t:t)};de.toInteger=de.toint=function(){var n=this,e=n.constructor;return it(new e(n),jt(n)+1,e.rounding)};de.toNumber=function(){return+this};de.toPower=de.pow=function(n){var e,t,i,r,s,o,c=this,u=c.constructor,h=12,f=+(n=new u(n));if(!n.s)return new u(ti);if(c=new u(c),!c.s){if(n.s<1)throw Error(Oi+"Infinity");return c}if(c.eq(ti))return c;if(i=u.precision,n.eq(ti))return it(c,i);if(e=n.e,t=n.d.length-1,o=e>=t,s=c.s,o){if((t=f<0?-f:f)<=RD){for(r=new u(ti),e=Math.ceil(i/lt+4),pt=!1;t%2&&(r=r.times(c),zT(r.d,e)),t=tl(t/2),t!==0;)c=c.times(c),zT(c.d,e);return pt=!0,n.s<0?new u(ti).div(r):it(r,i)}}else if(s<0)throw Error(Oi+"NaN");return s=s<0&&n.d[Math.max(e,t)]&1?-1:1,c.s=1,pt=!1,r=n.times(Hc(c,i+h)),pt=!0,r=jD(r),r.s=s,r};de.toPrecision=function(n,e){var t,i,r=this,s=r.constructor;return n===void 0?(t=jt(r),i=Ss(r,t<=s.toExpNeg||t>=s.toExpPos)):(ar(n,1,el),e===void 0?e=s.rounding:ar(e,0,8),r=it(new s(r),n,e),t=jt(r),i=Ss(r,n<=t||t<=s.toExpNeg,n)),i};de.toSignificantDigits=de.tosd=function(n,e){var t=this,i=t.constructor;return n===void 0?(n=i.precision,e=i.rounding):(ar(n,1,el),e===void 0?e=i.rounding:ar(e,0,8)),it(new i(t),n,e)};de.toString=de.valueOf=de.val=de.toJSON=de[Symbol.for("nodejs.util.inspect.custom")]=function(){var n=this,e=jt(n),t=n.constructor;return Ss(n,e<=t.toExpNeg||e>=t.toExpPos)};function ND(n,e){var t,i,r,s,o,c,u,h,f=n.constructor,p=f.precision;if(!n.s||!e.s)return e.s||(e=new f(n)),pt?it(e,p):e;if(u=n.d,h=e.d,o=n.e,r=e.e,u=u.slice(),s=o-r,s){for(s<0?(i=u,s=-s,c=h.length):(i=h,r=o,c=u.length),o=Math.ceil(p/lt),c=o>c?o+1:c+1,s>c&&(s=c,i.length=1),i.reverse();s--;)i.push(0);i.reverse()}for(c=u.length,s=h.length,c-s<0&&(s=c,i=h,h=u,u=i),t=0;s;)t=(u[--s]=u[s]+h[s]+t)/Xt|0,u[s]%=Xt;for(t&&(u.unshift(t),++r),c=u.length;u[--c]==0;)u.pop();return e.d=u,e.e=r,pt?it(e,p):e}function ar(n,e,t){if(n!==~~n||n<e||n>t)throw Error(ys+n)}function er(n){var e,t,i,r=n.length-1,s="",o=n[0];if(r>0){for(s+=o,e=1;e<r;e++)i=n[e]+"",t=lt-i.length,t&&(s+=Ta(t)),s+=i;o=n[e],i=o+"",t=lt-i.length,t&&(s+=Ta(t))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var jr=(function(){function n(i,r){var s,o=0,c=i.length;for(i=i.slice();c--;)s=i[c]*r+o,i[c]=s%Xt|0,o=s/Xt|0;return o&&i.unshift(o),i}function e(i,r,s,o){var c,u;if(s!=o)u=s>o?1:-1;else for(c=u=0;c<s;c++)if(i[c]!=r[c]){u=i[c]>r[c]?1:-1;break}return u}function t(i,r,s){for(var o=0;s--;)i[s]-=o,o=i[s]<r[s]?1:0,i[s]=o*Xt+i[s]-r[s];for(;!i[0]&&i.length>1;)i.shift()}return function(i,r,s,o){var c,u,h,f,p,g,v,w,b,A,S,M,_,D,T,P,R,N,I=i.constructor,W=i.s==r.s?1:-1,U=i.d,K=r.d;if(!i.s)return new I(i);if(!r.s)throw Error(Oi+"Division by zero");for(u=i.e-r.e,R=K.length,T=U.length,v=new I(W),w=v.d=[],h=0;K[h]==(U[h]||0);)++h;if(K[h]>(U[h]||0)&&--u,s==null?M=s=I.precision:o?M=s+(jt(i)-jt(r))+1:M=s,M<0)return new I(0);if(M=M/lt+2|0,h=0,R==1)for(f=0,K=K[0],M++;(h<T||f)&&M--;h++)_=f*Xt+(U[h]||0),w[h]=_/K|0,f=_%K|0;else{for(f=Xt/(K[0]+1)|0,f>1&&(K=n(K,f),U=n(U,f),R=K.length,T=U.length),D=R,b=U.slice(0,R),A=b.length;A<R;)b[A++]=0;N=K.slice(),N.unshift(0),P=K[0],K[1]>=Xt/2&&++P;do f=0,c=e(K,b,R,A),c<0?(S=b[0],R!=A&&(S=S*Xt+(b[1]||0)),f=S/P|0,f>1?(f>=Xt&&(f=Xt-1),p=n(K,f),g=p.length,A=b.length,c=e(p,b,g,A),c==1&&(f--,t(p,R<g?N:K,g))):(f==0&&(c=f=1),p=K.slice()),g=p.length,g<A&&p.unshift(0),t(b,p,A),c==-1&&(A=b.length,c=e(K,b,R,A),c<1&&(f++,t(b,R<A?N:K,A))),A=b.length):c===0&&(f++,b=[0]),w[h++]=f,c&&b[0]?b[A++]=U[D]||0:(b=[U[D]],A=1);while((D++<T||b[0]!==void 0)&&M--)}return w[0]||w.shift(),v.e=u,it(v,o?s+jt(v)+1:s)}})();function jD(n,e){var t,i,r,s,o,c,u=0,h=0,f=n.constructor,p=f.precision;if(jt(n)>16)throw Error(c1+jt(n));if(!n.s)return new f(ti);for(pt=!1,c=p,o=new f(.03125);n.abs().gte(.1);)n=n.times(o),h+=5;for(i=Math.log(ls(2,h))/Math.LN10*2+5|0,c+=i,t=r=s=new f(ti),f.precision=c;;){if(r=it(r.times(n),c),t=t.times(++u),o=s.plus(jr(r,t,c)),er(o.d).slice(0,c)===er(s.d).slice(0,c)){for(;h--;)s=it(s.times(s),c);return f.precision=p,e==null?(pt=!0,it(s,p)):s}s=o}}function jt(n){for(var e=n.e*lt,t=n.d[0];t>=10;t/=10)e++;return e}function hy(n,e,t){if(e>n.LN10.sd())throw pt=!0,t&&(n.precision=t),Error(Oi+"LN10 precision limit exceeded");return it(new n(n.LN10),e)}function Ta(n){for(var e="";n--;)e+="0";return e}function Hc(n,e){var t,i,r,s,o,c,u,h,f,p=1,g=10,v=n,w=v.d,b=v.constructor,A=b.precision;if(v.s<1)throw Error(Oi+(v.s?"NaN":"-Infinity"));if(v.eq(ti))return new b(0);if(e==null?(pt=!1,h=A):h=e,v.eq(10))return e==null&&(pt=!0),hy(b,h);if(h+=g,b.precision=h,t=er(w),i=t.charAt(0),s=jt(v),Math.abs(s)<15e14){for(;i<7&&i!=1||i==1&&t.charAt(1)>3;)v=v.times(n),t=er(v.d),i=t.charAt(0),p++;s=jt(v),i>1?(v=new b("0."+t),s++):v=new b(i+"."+t.slice(1))}else return u=hy(b,h+2,A).times(s+""),v=Hc(new b(i+"."+t.slice(1)),h-g).plus(u),b.precision=A,e==null?(pt=!0,it(v,A)):v;for(c=o=v=jr(v.minus(ti),v.plus(ti),h),f=it(v.times(v),h),r=3;;){if(o=it(o.times(f),h),u=c.plus(jr(o,new b(r),h)),er(u.d).slice(0,h)===er(c.d).slice(0,h))return c=c.times(2),s!==0&&(c=c.plus(hy(b,h+2,A).times(s+""))),c=jr(c,new b(p),h),b.precision=A,e==null?(pt=!0,it(c,A)):c;c=u,r+=2}}function BT(n,e){var t,i,r;for((t=e.indexOf("."))>-1&&(e=e.replace(".","")),(i=e.search(/e/i))>0?(t<0&&(t=i),t+=+e.slice(i+1),e=e.substring(0,i)):t<0&&(t=e.length),i=0;e.charCodeAt(i)===48;)++i;for(r=e.length;e.charCodeAt(r-1)===48;)--r;if(e=e.slice(i,r),e){if(r-=i,t=t-i-1,n.e=tl(t/lt),n.d=[],i=(t+1)%lt,t<0&&(i+=lt),i<r){for(i&&n.d.push(+e.slice(0,i)),r-=lt;i<r;)n.d.push(+e.slice(i,i+=lt));e=e.slice(i),i=lt-e.length}else i-=r;for(;i--;)e+="0";if(n.d.push(+e),pt&&(n.e>of||n.e<-of))throw Error(c1+t)}else n.s=0,n.e=0,n.d=[0];return n}function it(n,e,t){var i,r,s,o,c,u,h,f,p=n.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(i=e-o,i<0)i+=lt,r=e,h=p[f=0];else{if(f=Math.ceil((i+1)/lt),s=p.length,f>=s)return n;for(h=s=p[f],o=1;s>=10;s/=10)o++;i%=lt,r=i-lt+o}if(t!==void 0&&(s=ls(10,o-r-1),c=h/s%10|0,u=e<0||p[f+1]!==void 0||h%s,u=t<4?(c||u)&&(t==0||t==(n.s<0?3:2)):c>5||c==5&&(t==4||u||t==6&&(i>0?r>0?h/ls(10,o-r):0:p[f-1])%10&1||t==(n.s<0?8:7))),e<1||!p[0])return u?(s=jt(n),p.length=1,e=e-s-1,p[0]=ls(10,(lt-e%lt)%lt),n.e=tl(-e/lt)||0):(p.length=1,p[0]=n.e=n.s=0),n;if(i==0?(p.length=f,s=1,f--):(p.length=f+1,s=ls(10,lt-i),p[f]=r>0?(h/ls(10,o-r)%ls(10,r)|0)*s:0),u)for(;;)if(f==0){(p[0]+=s)==Xt&&(p[0]=1,++n.e);break}else{if(p[f]+=s,p[f]!=Xt)break;p[f--]=0,s=1}for(i=p.length;p[--i]===0;)p.pop();if(pt&&(n.e>of||n.e<-of))throw Error(c1+jt(n));return n}function LD(n,e){var t,i,r,s,o,c,u,h,f,p,g=n.constructor,v=g.precision;if(!n.s||!e.s)return e.s?e.s=-e.s:e=new g(n),pt?it(e,v):e;if(u=n.d,p=e.d,i=e.e,h=n.e,u=u.slice(),o=h-i,o){for(f=o<0,f?(t=u,o=-o,c=p.length):(t=p,i=h,c=u.length),r=Math.max(Math.ceil(v/lt),c)+2,o>r&&(o=r,t.length=1),t.reverse(),r=o;r--;)t.push(0);t.reverse()}else{for(r=u.length,c=p.length,f=r<c,f&&(c=r),r=0;r<c;r++)if(u[r]!=p[r]){f=u[r]<p[r];break}o=0}for(f&&(t=u,u=p,p=t,e.s=-e.s),c=u.length,r=p.length-c;r>0;--r)u[c++]=0;for(r=p.length;r>o;){if(u[--r]<p[r]){for(s=r;s&&u[--s]===0;)u[s]=Xt-1;--u[s],u[r]+=Xt}u[r]-=p[r]}for(;u[--c]===0;)u.pop();for(;u[0]===0;u.shift())--i;return u[0]?(e.d=u,e.e=i,pt?it(e,v):e):new g(0)}function Ss(n,e,t){var i,r=jt(n),s=er(n.d),o=s.length;return e?(t&&(i=t-o)>0?s=s.charAt(0)+"."+s.slice(1)+Ta(i):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(r<0?"e":"e+")+r):r<0?(s="0."+Ta(-r-1)+s,t&&(i=t-o)>0&&(s+=Ta(i))):r>=o?(s+=Ta(r+1-o),t&&(i=t-r-1)>0&&(s=s+"."+Ta(i))):((i=r+1)<o&&(s=s.slice(0,i)+"."+s.slice(i)),t&&(i=t-o)>0&&(r+1===o&&(s+="."),s+=Ta(i))),n.s<0?"-"+s:s}function zT(n,e){if(n.length>e)return n.length=e,!0}function ID(n){var e,t,i;function r(s){var o=this;if(!(o instanceof r))return new r(s);if(o.constructor=r,s instanceof r){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ys+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return BT(o,s.toString())}else if(typeof s!="string")throw Error(ys+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,Jq.test(s))BT(o,s);else throw Error(ys+s)}if(r.prototype=de,r.ROUND_UP=0,r.ROUND_DOWN=1,r.ROUND_CEIL=2,r.ROUND_FLOOR=3,r.ROUND_HALF_UP=4,r.ROUND_HALF_DOWN=5,r.ROUND_HALF_EVEN=6,r.ROUND_HALF_CEIL=7,r.ROUND_HALF_FLOOR=8,r.clone=ID,r.config=r.set=eG,n===void 0&&(n={}),n)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<i.length;)n.hasOwnProperty(t=i[e++])||(n[t]=this[t]);return r.config(n),r}function eG(n){if(!n||typeof n!="object")throw Error(Oi+"Object expected");var e,t,i,r=["precision",1,el,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<r.length;e+=3)if((i=n[t=r[e]])!==void 0)if(tl(i)===i&&i>=r[e+1]&&i<=r[e+2])this[t]=i;else throw Error(ys+t+": "+i);if((i=n[t="LN10"])!==void 0)if(i==Math.LN10)this[t]=new this(i);else throw Error(ys+t+": "+i);return this}var u1=ID(Qq);ti=new u1(1);const Xe=u1;var tG=n=>n,BD={},zD=n=>n===BD,FT=n=>function e(){return arguments.length===0||arguments.length===1&&zD(arguments.length<=0?void 0:arguments[0])?e:n(...arguments)},FD=(n,e)=>n===1?e:FT(function(){for(var t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];var s=i.filter(o=>o!==BD).length;return s>=n?e(...i):FD(n-s,FT(function(){for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];var h=i.map(f=>zD(f)?c.shift():f);return e(...h,...c)}))}),nG=n=>FD(n.length,n),Ob=(n,e)=>{for(var t=[],i=n;i<e;++i)t[i-n]=i;return t},iG=nG((n,e)=>Array.isArray(e)?e.map(n):Object.keys(e).map(t=>e[t]).map(n)),rG=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!t.length)return tG;var r=t.reverse(),s=r[0],o=r.slice(1);return function(){return o.reduce((c,u)=>u(c),s(...arguments))}},Mb=n=>Array.isArray(n)?n.reverse():n.split("").reverse().join("");function UD(n){var e;return n===0?e=1:e=Math.floor(new Xe(n).abs().log(10).toNumber())+1,e}function HD(n,e,t){for(var i=new Xe(n),r=0,s=[];i.lt(e)&&r<1e5;)s.push(i.toNumber()),i=i.add(t),r++;return s}var $D=n=>{var[e,t]=n,[i,r]=[e,t];return e>t&&([i,r]=[t,e]),[i,r]},qD=(n,e,t)=>{if(n.lte(0))return new Xe(0);var i=UD(n.toNumber()),r=new Xe(10).pow(i),s=n.div(r),o=i!==1?.05:.1,c=new Xe(Math.ceil(s.div(o).toNumber())).add(t).mul(o),u=c.mul(r);return e?new Xe(u.toNumber()):new Xe(Math.ceil(u.toNumber()))},aG=(n,e,t)=>{var i=new Xe(1),r=new Xe(n);if(!r.isint()&&t){var s=Math.abs(n);s<1?(i=new Xe(10).pow(UD(n)-1),r=new Xe(Math.floor(r.div(i).toNumber())).mul(i)):s>1&&(r=new Xe(Math.floor(n)))}else n===0?r=new Xe(Math.floor((e-1)/2)):t||(r=new Xe(Math.floor(n)));var o=Math.floor((e-1)/2),c=rG(iG(u=>r.add(new Xe(u-o).mul(i)).toNumber()),Ob);return c(0,e)},GD=function(e,t,i,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(i-1)))return{step:new Xe(0),tickMin:new Xe(0),tickMax:new Xe(0)};var o=qD(new Xe(t).sub(e).div(i-1),r,s),c;e<=0&&t>=0?c=new Xe(0):(c=new Xe(e).add(t).div(2),c=c.sub(new Xe(c).mod(o)));var u=Math.ceil(c.sub(e).div(o).toNumber()),h=Math.ceil(new Xe(t).sub(c).div(o).toNumber()),f=u+h+1;return f>i?GD(e,t,i,r,s+1):(f<i&&(h=t>0?h+(i-f):h,u=t>0?u:u+(i-f)),{step:o,tickMin:c.sub(new Xe(u).mul(o)),tickMax:c.add(new Xe(h).mul(o))})},sG=function(e){var[t,i]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(r,2),[c,u]=$D([t,i]);if(c===-1/0||u===1/0){var h=u===1/0?[c,...Ob(0,r-1).map(()=>1/0)]:[...Ob(0,r-1).map(()=>-1/0),u];return t>i?Mb(h):h}if(c===u)return aG(c,r,s);var{step:f,tickMin:p,tickMax:g}=GD(c,u,o,s,0),v=HD(p,g.add(new Xe(.1).mul(f)),f);return t>i?Mb(v):v},oG=function(e,t){var[i,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,c]=$D([i,r]);if(o===-1/0||c===1/0)return[i,r];if(o===c)return[o];var u=Math.max(t,2),h=qD(new Xe(c).sub(o).div(u-1),s,0),f=[...HD(new Xe(o),new Xe(c),h),c];return s===!1&&(f=f.map(p=>Math.round(p))),i>r?Mb(f):f},VD=n=>n.rootProps.maxBarSize,lG=n=>n.rootProps.barGap,YD=n=>n.rootProps.barCategoryGap,cG=n=>n.rootProps.barSize,rp=n=>n.rootProps.stackOffset,XD=n=>n.rootProps.reverseStackOrder,d1=n=>n.options.chartName,h1=n=>n.rootProps.syncId,WD=n=>n.rootProps.syncMethod,f1=n=>n.options.eventEmitter,Sn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Pr={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ei={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},ap=(n,e)=>{if(!(!n||!e))return n!=null&&n.reversed?[e[1],e[0]]:e},uG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Pr.angleAxisId,includeHidden:!1,name:void 0,reversed:Pr.reversed,scale:Pr.scale,tick:Pr.tick,tickCount:void 0,ticks:void 0,type:Pr.type,unit:void 0},dG={allowDataOverflow:ei.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ei.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ei.scale,tick:ei.tick,tickCount:ei.tickCount,ticks:void 0,type:ei.type,unit:void 0},hG={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Pr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pr.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pr.scale,tick:Pr.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},fG={allowDataOverflow:ei.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ei.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ei.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ei.scale,tick:ei.tick,tickCount:ei.tickCount,ticks:void 0,type:"category",unit:void 0},p1=(n,e)=>n.polarAxis.angleAxis[e]!=null?n.polarAxis.angleAxis[e]:n.layout.layoutType==="radial"?hG:uG,m1=(n,e)=>n.polarAxis.radiusAxis[e]!=null?n.polarAxis.radiusAxis[e]:n.layout.layoutType==="radial"?fG:dG,sp=n=>n.polarOptions,g1=X([Xr,Wr,Kt],oH),KD=X([sp,g1],(n,e)=>{if(n!=null)return Fi(n.innerRadius,e,0)}),ZD=X([sp,g1],(n,e)=>{if(n!=null)return Fi(n.outerRadius,e,e*.8)}),pG=n=>{if(n==null)return[0,0];var{startAngle:e,endAngle:t}=n;return[e,t]},QD=X([sp],pG);X([p1,QD],ap);var JD=X([g1,KD,ZD],(n,e,t)=>{if(!(n==null||e==null||t==null))return[e,t]});X([m1,JD],ap);var ek=X([We,sp,KD,ZD,Xr,Wr],(n,e,t,i,r,s)=>{if(!(n!=="centric"&&n!=="radial"||e==null||t==null||i==null)){var{cx:o,cy:c,startAngle:u,endAngle:h}=e;return{cx:Fi(o,r,r/2),cy:Fi(c,s,s/2),innerRadius:t,outerRadius:i,startAngle:u,endAngle:h,clockWise:!1}}}),zt=(n,e)=>e,op=(n,e,t)=>t;function v1(n){return n?.id}function tk(n,e,t){var{chartData:i=[]}=e,{allowDuplicatedCategory:r,dataKey:s}=t,o=new Map;return n.forEach(c=>{var u,h=(u=c.data)!==null&&u!==void 0?u:i;if(!(h==null||h.length===0)){var f=v1(c);h.forEach((p,g)=>{var v=s==null||r?g:String(gn(p,s,null)),w=gn(p,c.dataKey,0),b;o.has(v)?b=o.get(v):b={},Object.assign(b,{[f]:w}),o.set(v,b)})}}),Array.from(o.values())}function lp(n){return n.stackId!=null&&n.dataKey!=null}var cp=(n,e)=>n===e?!0:n==null||e==null?!1:n[0]===e[0]&&n[1]===e[1];function up(n,e){return Array.isArray(n)&&Array.isArray(e)&&n.length===0&&e.length===0?!0:n===e}function mG(n,e){if(n.length===e.length){for(var t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return!1}var Ft=n=>{var e=We(n);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},nl=n=>n.tooltip.settings.axisId;function UT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lf(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UT(Object(t),!0).forEach(function(i){gG(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gG(n,e,t){return(e=vG(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vG(n){var e=yG(n,"string");return typeof e=="symbol"?e:e+""}function yG(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Pb=[0,"auto"],Vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},nk=(n,e)=>n.cartesianAxis.xAxis[e],Zr=(n,e)=>{var t=nk(n,e);return t??Vt},Yt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Pb,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:au},ik=(n,e)=>n.cartesianAxis.yAxis[e],Qr=(n,e)=>{var t=ik(n,e);return t??Yt},bG={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},y1=(n,e)=>{var t=n.cartesianAxis.zAxis[e];return t??bG},Cn=(n,e,t)=>{switch(e){case"xAxis":return Zr(n,t);case"yAxis":return Qr(n,t);case"zAxis":return y1(n,t);case"angleAxis":return p1(n,t);case"radiusAxis":return m1(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},xG=(n,e,t)=>{switch(e){case"xAxis":return Zr(n,t);case"yAxis":return Qr(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},hu=(n,e,t)=>{switch(e){case"xAxis":return Zr(n,t);case"yAxis":return Qr(n,t);case"angleAxis":return p1(n,t);case"radiusAxis":return m1(n,t);default:throw new Error("Unexpected axis type: ".concat(e))}},rk=n=>n.graphicalItems.cartesianItems.some(e=>e.type==="bar")||n.graphicalItems.polarItems.some(e=>e.type==="radialBar");function ak(n,e){return t=>{switch(n){case"xAxis":return"xAxisId"in t&&t.xAxisId===e;case"yAxis":return"yAxisId"in t&&t.yAxisId===e;case"zAxis":return"zAxisId"in t&&t.zAxisId===e;case"angleAxis":return"angleAxisId"in t&&t.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in t&&t.radiusAxisId===e;default:return!1}}}var b1=n=>n.graphicalItems.cartesianItems,wG=X([zt,op],ak),sk=(n,e,t)=>n.filter(t).filter(i=>e?.includeHidden===!0?!0:!i.hide),fu=X([b1,Cn,wG],sk,{memoizeOptions:{resultEqualityCheck:up}}),ok=X([fu],n=>n.filter(e=>e.type==="area"||e.type==="bar").filter(lp)),lk=n=>n.filter(e=>!("stackId"in e)||e.stackId===void 0),AG=X([fu],lk),ck=n=>n.map(e=>e.data).filter(Boolean).flat(1),SG=X([fu],ck,{memoizeOptions:{resultEqualityCheck:up}}),uk=(n,e)=>{var{chartData:t=[],dataStartIndex:i,dataEndIndex:r}=e;return n.length>0?n:t.slice(i,r+1)},x1=X([SG,l1],uk),dk=(n,e,t)=>e?.dataKey!=null?n.map(i=>({value:gn(i,e.dataKey)})):t.length>0?t.map(i=>i.dataKey).flatMap(i=>n.map(r=>({value:gn(r,i)}))):n.map(i=>({value:i})),dp=X([x1,Cn,fu],dk);function hk(n,e){switch(n){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Ah(n){if(ir(n)||n instanceof Date){var e=Number(n);if(_t(e))return e}}function HT(n){if(Array.isArray(n)){var e=[Ah(n[0]),Ah(n[1])];return ja(e)?e:void 0}var t=Ah(n);if(t!=null)return[t,t]}function Gr(n){return n.map(Ah).filter(kF)}function EG(n,e,t){return!t||typeof e!="number"||zi(e)?[]:t.length?Gr(t.flatMap(i=>{var r=gn(n,i.dataKey),s,o;if(Array.isArray(r)?[s,o]=r:s=o=r,!(!_t(s)||!_t(o)))return[e-s,e+o]})):[]}var Ut=n=>{var e=Ft(n),t=nl(n);return hu(n,e,t)},pu=X([Ut],n=>n?.dataKey),_G=X([ok,l1,Ut],tk),fk=(n,e,t,i)=>{var r={},s=e.reduce((o,c)=>(c.stackId==null||(o[c.stackId]==null&&(o[c.stackId]=[]),o[c.stackId].push(c)),o),r);return Object.fromEntries(Object.entries(s).map(o=>{var[c,u]=o,h=i?[...u].reverse():u,f=h.map(v1);return[c,{stackedData:QU(n,f,t),graphicalItems:h}]}))},Db=X([_G,ok,rp,XD],fk),pk=(n,e,t,i)=>{var{dataStartIndex:r,dataEndIndex:s}=e;if(i==null&&t!=="zAxis"){var o=i6(n,r,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},CG=X([Cn],n=>n.allowDataOverflow),w1=n=>{var e;if(n==null||!("domain"in n))return Pb;if(n.domain!=null)return n.domain;if(n.ticks!=null){if(n.type==="number"){var t=Gr(n.ticks);return[Math.min(...t),Math.max(...t)]}if(n.type==="category")return n.ticks.map(String)}return(e=n?.domain)!==null&&e!==void 0?e:Pb},mk=X([Cn],w1),gk=X([mk,CG],kD),TG=X([Db,Fa,zt,gk],pk,{memoizeOptions:{resultEqualityCheck:cp}}),A1=n=>n.errorBars,OG=(n,e,t)=>n.flatMap(i=>e[i.id]).filter(Boolean).filter(i=>hk(t,i)),cf=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.filter(Boolean);if(r.length!==0){var s=r.flat(),o=Math.min(...s),c=Math.max(...s);return[o,c]}},vk=(n,e,t,i,r)=>{var s,o;if(t.length>0&&n.forEach(c=>{t.forEach(u=>{var h,f,p=(h=i[u.id])===null||h===void 0?void 0:h.filter(S=>hk(r,S)),g=gn(c,(f=e.dataKey)!==null&&f!==void 0?f:u.dataKey),v=EG(c,g,p);if(v.length>=2){var w=Math.min(...v),b=Math.max(...v);(s==null||w<s)&&(s=w),(o==null||b>o)&&(o=b)}var A=HT(g);A!=null&&(s=s==null?A[0]:Math.min(s,A[0]),o=o==null?A[1]:Math.max(o,A[1]))})}),e?.dataKey!=null&&n.forEach(c=>{var u=HT(gn(c,e.dataKey));u!=null&&(s=s==null?u[0]:Math.min(s,u[0]),o=o==null?u[1]:Math.max(o,u[1]))}),_t(s)&&_t(o))return[s,o]},MG=X([x1,Cn,AG,A1,zt],vk,{memoizeOptions:{resultEqualityCheck:cp}});function PG(n){var{value:e}=n;if(ir(e)||e instanceof Date)return e}var DG=(n,e,t)=>{var i=n.map(PG).filter(r=>r!=null);return t&&(e.dataKey==null||e.allowDuplicatedCategory&&PM(i))?ZP(0,n.length):e.allowDuplicatedCategory?i:Array.from(new Set(i))},yk=n=>n.referenceElements.dots,il=(n,e,t)=>n.filter(i=>i.ifOverflow==="extendDomain").filter(i=>e==="xAxis"?i.xAxisId===t:i.yAxisId===t),kG=X([yk,zt,op],il),bk=n=>n.referenceElements.areas,RG=X([bk,zt,op],il),xk=n=>n.referenceElements.lines,NG=X([xk,zt,op],il),wk=(n,e)=>{var t=Gr(n.map(i=>e==="xAxis"?i.x:i.y));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},jG=X(kG,zt,wk),Ak=(n,e)=>{var t=Gr(n.flatMap(i=>[e==="xAxis"?i.x1:i.y1,e==="xAxis"?i.x2:i.y2]));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},LG=X([RG,zt],Ak);function IG(n){var e;if(n.x!=null)return Gr([n.x]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.x);return t==null||t.length===0?[]:Gr(t)}function BG(n){var e;if(n.y!=null)return Gr([n.y]);var t=(e=n.segment)===null||e===void 0?void 0:e.map(i=>i.y);return t==null||t.length===0?[]:Gr(t)}var Sk=(n,e)=>{var t=n.flatMap(i=>e==="xAxis"?IG(i):BG(i));if(t.length!==0)return[Math.min(...t),Math.max(...t)]},zG=X([NG,zt],Sk),FG=X(jG,zG,LG,(n,e,t)=>cf(n,t,e)),Ek=(n,e,t,i,r,s,o,c)=>{if(t!=null)return t;var u=o==="vertical"&&c==="xAxis"||o==="horizontal"&&c==="yAxis",h=u?cf(i,s,r):cf(s,r);return Zq(e,h,n.allowDataOverflow)},UG=X([Cn,mk,gk,TG,MG,FG,We,zt],Ek,{memoizeOptions:{resultEqualityCheck:cp}}),HG=[0,1],_k=(n,e,t,i,r,s,o)=>{if(!((n==null||t==null||t.length===0)&&o===void 0)){var{dataKey:c,type:u}=n,h=Ps(e,s);if(h&&c==null){var f;return ZP(0,(f=t?.length)!==null&&f!==void 0?f:0)}return u==="category"?DG(i,n,h):r==="expand"?HG:o}},S1=X([Cn,We,x1,dp,rp,zt,UG],_k),Ck=(n,e,t,i,r)=>{if(n!=null){var{scale:s,type:o}=n;if(s==="auto")return e==="radial"&&r==="radiusAxis"?"band":e==="radial"&&r==="angleAxis"?"linear":o==="category"&&i&&(i.indexOf("LineChart")>=0||i.indexOf("AreaChart")>=0||i.indexOf("ComposedChart")>=0&&!t)?"point":o==="category"?"band":"linear";if(typeof s=="string"){var c="scale".concat(eu(s));return c in wc?c:"point"}}},mu=X([Cn,We,rk,d1,zt],Ck);function $G(n){if(n!=null){if(n in wc)return wc[n]();var e="scale".concat(eu(n));if(e in wc)return wc[e]()}}function E1(n,e,t,i){if(!(t==null||i==null)){if(typeof n.scale=="function")return n.scale.copy().domain(t).range(i);var r=$G(e);if(r!=null){var s=r.domain(t).range(i);return YU(s),s}}}var Tk=(n,e,t)=>{var i=w1(e);if(!(t!=="auto"&&t!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(i)&&(i[0]==="auto"||i[1]==="auto")&&ja(n))return sG(n,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&ja(n))return oG(n,e.tickCount,e.allowDecimals)}},_1=X([S1,hu,mu],Tk),Ok=(n,e,t,i)=>{if(i!=="angleAxis"&&n?.type==="number"&&ja(e)&&Array.isArray(t)&&t.length>0){var r=e[0],s=t[0],o=e[1],c=t[t.length-1];return[Math.min(r,s),Math.max(o,c)]}return e},qG=X([Cn,S1,_1,zt],Ok),GG=X(dp,Cn,(n,e)=>{if(!(!e||e.type!=="number")){var t=1/0,i=Array.from(Gr(n.map(c=>c.value))).sort((c,u)=>c-u);if(i.length<2)return 1/0;var r=i[i.length-1]-i[0];if(r===0)return 1/0;for(var s=0;s<i.length-1;s++){var o=i[s+1]-i[s];t=Math.min(t,o)}return t/r}}),Mk=X(GG,We,YD,Kt,(n,e,t,i)=>i,(n,e,t,i,r)=>{if(!_t(n))return 0;var s=e==="vertical"?i.height:i.width;if(r==="gap")return n*s/2;if(r==="no-gap"){var o=Fi(t,n*s),c=n*s/2;return c-o-(c-o)/s*o}return 0}),VG=(n,e)=>{var t=Zr(n,e);return t==null||typeof t.padding!="string"?0:Mk(n,"xAxis",e,t.padding)},YG=(n,e)=>{var t=Qr(n,e);return t==null||typeof t.padding!="string"?0:Mk(n,"yAxis",e,t.padding)},XG=X(Zr,VG,(n,e)=>{var t,i;if(n==null)return{left:0,right:0};var{padding:r}=n;return typeof r=="string"?{left:e,right:e}:{left:((t=r.left)!==null&&t!==void 0?t:0)+e,right:((i=r.right)!==null&&i!==void 0?i:0)+e}}),WG=X(Qr,YG,(n,e)=>{var t,i;if(n==null)return{top:0,bottom:0};var{padding:r}=n;return typeof r=="string"?{top:e,bottom:e}:{top:((t=r.top)!==null&&t!==void 0?t:0)+e,bottom:((i=r.bottom)!==null&&i!==void 0?i:0)+e}}),KG=X([Kt,XG,Gf,qf,(n,e,t)=>t],(n,e,t,i,r)=>{var{padding:s}=i;return r?[s.left,t.width-s.right]:[n.left+e.left,n.left+n.width-e.right]}),ZG=X([Kt,We,WG,Gf,qf,(n,e,t)=>t],(n,e,t,i,r,s)=>{var{padding:o}=r;return s?[i.height-o.bottom,o.top]:e==="horizontal"?[n.top+n.height-t.bottom,n.top+t.top]:[n.top+t.top,n.top+n.height-t.bottom]}),gu=(n,e,t,i)=>{var r;switch(e){case"xAxis":return KG(n,t,i);case"yAxis":return ZG(n,t,i);case"zAxis":return(r=y1(n,t))===null||r===void 0?void 0:r.range;case"angleAxis":return QD(n);case"radiusAxis":return JD(n,t);default:return}},Pk=X([Cn,gu],ap),rl=X([Cn,mu,qG,Pk],E1);X([fu,A1,zt],OG);function Dk(n,e){return n.id<e.id?-1:n.id>e.id?1:0}var hp=(n,e)=>e,fp=(n,e,t)=>t,QG=X(Hf,hp,fp,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(Dk)),JG=X($f,hp,fp,(n,e,t)=>n.filter(i=>i.orientation===e).filter(i=>i.mirror===t).sort(Dk)),kk=(n,e)=>({width:n.width,height:e.height}),e9=(n,e)=>{var t=typeof e.width=="number"?e.width:au;return{width:t,height:n.height}},Rk=X(Kt,Zr,kk),t9=(n,e,t)=>{switch(e){case"top":return n.top;case"bottom":return t-n.bottom;default:return 0}},n9=(n,e,t)=>{switch(e){case"left":return n.left;case"right":return t-n.right;default:return 0}},i9=X(Wr,Kt,QG,hp,fp,(n,e,t,i,r)=>{var s={},o;return t.forEach(c=>{var u=kk(e,c);o==null&&(o=t9(e,i,n));var h=i==="top"&&!r||i==="bottom"&&r;s[c.id]=o-Number(h)*u.height,o+=(h?-1:1)*u.height}),s}),r9=X(Xr,Kt,JG,hp,fp,(n,e,t,i,r)=>{var s={},o;return t.forEach(c=>{var u=e9(e,c);o==null&&(o=n9(e,i,n));var h=i==="left"&&!r||i==="right"&&r;s[c.id]=o-Number(h)*u.width,o+=(h?-1:1)*u.width}),s}),a9=(n,e)=>{var t=Zr(n,e);if(t!=null)return i9(n,t.orientation,t.mirror)},s9=X([Kt,Zr,a9,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t?.[i];return r==null?{x:n.left,y:0}:{x:n.left,y:r}}}),o9=(n,e)=>{var t=Qr(n,e);if(t!=null)return r9(n,t.orientation,t.mirror)},l9=X([Kt,Qr,o9,(n,e)=>e],(n,e,t,i)=>{if(e!=null){var r=t?.[i];return r==null?{x:0,y:n.top}:{x:r,y:n.top}}}),Nk=X(Kt,Qr,(n,e)=>{var t=typeof e.width=="number"?e.width:au;return{width:t,height:n.height}}),$T=(n,e,t)=>{switch(e){case"xAxis":return Rk(n,t).width;case"yAxis":return Nk(n,t).height;default:return}},jk=(n,e,t,i)=>{if(t!=null){var{allowDuplicatedCategory:r,type:s,dataKey:o}=t,c=Ps(n,i),u=e.map(h=>h.value);if(o&&c&&s==="category"&&r&&PM(u))return u}},C1=X([We,dp,Cn,zt],jk),Lk=(n,e,t,i)=>{if(!(t==null||t.dataKey==null)){var{type:r,scale:s}=t,o=Ps(n,i);if(o&&(r==="number"||s!=="auto"))return e.map(c=>c.value)}},T1=X([We,dp,hu,zt],Lk),qT=X([We,xG,mu,rl,C1,T1,gu,_1,zt],(n,e,t,i,r,s,o,c,u)=>{if(e!=null){var h=Ps(n,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:s,duplicateDomain:r,isCategorical:h,niceTicks:c,range:o,realScaleType:t,scale:i}}}),c9=(n,e,t,i,r,s,o,c,u)=>{if(!(e==null||i==null)){var h=Ps(n,u),{type:f,ticks:p,tickCount:g}=e,v=t==="scaleBand"&&typeof i.bandwidth=="function"?i.bandwidth()/2:2,w=f==="category"&&i.bandwidth?i.bandwidth()/v:0;w=u==="angleAxis"&&s!=null&&s.length>=2?Bn(s[0]-s[1])*2*w:w;var b=p||r;if(b){var A=b.map((S,M)=>{var _=o?o.indexOf(S):S;return{index:M,coordinate:i(_)+w,value:S,offset:w}});return A.filter(S=>_t(S.coordinate))}return h&&c?c.map((S,M)=>({coordinate:i(S)+w,value:S,index:M,offset:w})).filter(S=>_t(S.coordinate)):i.ticks?i.ticks(g).map(S=>({coordinate:i(S)+w,value:S,offset:w})):i.domain().map((S,M)=>({coordinate:i(S)+w,value:o?o[S]:S,index:M,offset:w}))}},Ik=X([We,hu,mu,rl,_1,gu,C1,T1,zt],c9),u9=(n,e,t,i,r,s,o)=>{if(!(e==null||t==null||i==null||i[0]===i[1])){var c=Ps(n,o),{tickCount:u}=e,h=0;return h=o==="angleAxis"&&i?.length>=2?Bn(i[0]-i[1])*2*h:h,c&&s?s.map((f,p)=>({coordinate:t(f)+h,value:f,index:p,offset:h})):t.ticks?t.ticks(u).map(f=>({coordinate:t(f)+h,value:f,offset:h})):t.domain().map((f,p)=>({coordinate:t(f)+h,value:r?r[f]:f,index:p,offset:h}))}},Xo=X([We,hu,rl,gu,C1,T1,zt],u9),Wo=X(Cn,rl,(n,e)=>{if(!(n==null||e==null))return lf(lf({},n),{},{scale:e})}),d9=X([Cn,mu,S1,Pk],E1);X((n,e,t)=>y1(n,t),d9,(n,e)=>{if(!(n==null||e==null))return lf(lf({},n),{},{scale:e})});var h9=X([We,Hf,$f],(n,e,t)=>{switch(n){case"horizontal":return e.some(i=>i.reversed)?"right-to-left":"left-to-right";case"vertical":return t.some(i=>i.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Bk=n=>n.options.defaultTooltipEventType,zk=n=>n.options.validateTooltipEventTypes;function Fk(n,e,t){if(n==null)return e;var i=n?"axis":"item";return t==null?e:t.includes(i)?i:e}function O1(n,e){var t=Bk(n),i=zk(n);return Fk(e,t,i)}function f9(n){return be(e=>O1(e,n))}var Uk=(n,e)=>{var t,i=Number(e);if(!(zi(i)||e==null))return i>=0?n==null||(t=n[i])===null||t===void 0?void 0:t.value:void 0},p9=n=>n.tooltip.settings,Pa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},m9={itemInteraction:{click:Pa,hover:Pa},axisInteraction:{click:Pa,hover:Pa},keyboardInteraction:Pa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Hk=Fn({name:"tooltip",initialState:m9,reducers:{addTooltipEntrySettings:{reducer(n,e){n.tooltipItemPayloads.push(e.payload)},prepare:ft()},replaceTooltipEntrySettings:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Bi(n).tooltipItemPayloads.indexOf(t);r>-1&&(n.tooltipItemPayloads[r]=i)},prepare:ft()},removeTooltipEntrySettings:{reducer(n,e){var t=Bi(n).tooltipItemPayloads.indexOf(e.payload);t>-1&&n.tooltipItemPayloads.splice(t,1)},prepare:ft()},setTooltipSettingsState(n,e){n.settings=e.payload},setActiveMouseOverItemIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.itemInteraction.hover.active=!0,n.itemInteraction.hover.index=e.payload.activeIndex,n.itemInteraction.hover.dataKey=e.payload.activeDataKey,n.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(n){n.itemInteraction.hover.active=!1,n.axisInteraction.hover.active=!1},mouseLeaveItem(n){n.itemInteraction.hover.active=!1},setActiveClickItemIndex(n,e){n.syncInteraction.active=!1,n.itemInteraction.click.active=!0,n.keyboardInteraction.active=!1,n.itemInteraction.click.index=e.payload.activeIndex,n.itemInteraction.click.dataKey=e.payload.activeDataKey,n.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,n.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(n,e){n.syncInteraction.active=!1,n.axisInteraction.hover.active=!0,n.keyboardInteraction.active=!1,n.axisInteraction.hover.index=e.payload.activeIndex,n.axisInteraction.hover.dataKey=e.payload.activeDataKey,n.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(n,e){n.syncInteraction.active=!1,n.keyboardInteraction.active=!1,n.axisInteraction.click.active=!0,n.axisInteraction.click.index=e.payload.activeIndex,n.axisInteraction.click.dataKey=e.payload.activeDataKey,n.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(n,e){n.syncInteraction=e.payload},setKeyboardInteraction(n,e){n.keyboardInteraction.active=e.payload.active,n.keyboardInteraction.index=e.payload.activeIndex,n.keyboardInteraction.coordinate=e.payload.activeCoordinate,n.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:g9,replaceTooltipEntrySettings:v9,removeTooltipEntrySettings:y9,setTooltipSettingsState:b9,setActiveMouseOverItemIndex:$k,mouseLeaveItem:x9,mouseLeaveChart:qk,setActiveClickItemIndex:w9,setMouseOverAxisIndex:Gk,setMouseClickAxisIndex:A9,setSyncInteraction:kb,setKeyboardInteraction:Rb}=Hk.actions,S9=Hk.reducer;function GT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function lh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(t),!0).forEach(function(i){E9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function E9(n,e,t){return(e=_9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _9(n){var e=C9(n,"string");return typeof e=="symbol"?e:e+""}function C9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function T9(n,e,t){return e==="axis"?t==="click"?n.axisInteraction.click:n.axisInteraction.hover:t==="click"?n.itemInteraction.click:n.itemInteraction.hover}function O9(n){return n.index!=null}var Vk=(n,e,t,i)=>{if(e==null)return Pa;var r=T9(n,e,t);if(r==null)return Pa;if(r.active)return r;if(n.keyboardInteraction.active)return n.keyboardInteraction;if(n.syncInteraction.active&&n.syncInteraction.index!=null)return n.syncInteraction;var s=n.settings.active===!0;if(O9(r)){if(s)return lh(lh({},r),{},{active:!0})}else if(i!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:i,graphicalItemId:void 0};return lh(lh({},Pa),{},{coordinate:r.coordinate})};function M9(n){if(typeof n=="number")return Number.isFinite(n)?n:void 0;if(n instanceof Date){var e=n.valueOf();return Number.isFinite(e)?e:void 0}var t=Number(n);return Number.isFinite(t)?t:void 0}function P9(n,e){var t=M9(n),i=e[0],r=e[1];if(t===void 0)return!1;var s=Math.min(i,r),o=Math.max(i,r);return t>=s&&t<=o}function D9(n,e,t){if(t==null||e==null)return!0;var i=gn(n,e);return i==null||!ja(t)?!0:P9(i,t)}var M1=(n,e,t,i)=>{var r=n?.index;if(r==null)return null;var s=Number(r);if(!_t(s))return r;var o=0,c=1/0;e.length>0&&(c=e.length-1);var u=Math.max(o,Math.min(s,c)),h=e[u];return h==null||D9(h,t,i)?String(u):null},Yk=(n,e,t,i,r,s,o,c)=>{if(!(s==null||c==null)){var u=o[0],h=u==null?void 0:c(u.positions,s);if(h!=null)return h;var f=r?.[Number(s)];if(f)switch(t){case"horizontal":return{x:f.coordinate,y:(i.top+e)/2};default:return{x:(i.left+n)/2,y:f.coordinate}}}},Xk=(n,e,t,i)=>{if(e==="axis")return n.tooltipItemPayloads;if(n.tooltipItemPayloads.length===0)return[];var r;return t==="hover"?r=n.itemInteraction.hover.dataKey:r=n.itemInteraction.click.dataKey,r==null&&i!=null?[n.tooltipItemPayloads[0]]:n.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.dataKey)===r})},vu=n=>n.options.tooltipPayloadSearcher,al=n=>n.tooltip;function VT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function YT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(t),!0).forEach(function(i){k9(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function k9(n,e,t){return(e=R9(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R9(n){var e=N9(n,"string");return typeof e=="symbol"?e:e+""}function N9(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function j9(n,e){return n??e}var Wk=(n,e,t,i,r,s,o)=>{if(!(e==null||s==null)){var{chartData:c,computedData:u,dataStartIndex:h,dataEndIndex:f}=t,p=[];return n.reduce((g,v)=>{var w,{dataDefinedOnItem:b,settings:A}=v,S=j9(b,c),M=Array.isArray(S)?AP(S,h,f):S,_=(w=A?.dataKey)!==null&&w!==void 0?w:i,D=A?.nameKey,T;if(i&&Array.isArray(M)&&!Array.isArray(M[0])&&o==="axis"?T=DF(M,i,r):T=s(M,e,u,D),Array.isArray(T))T.forEach(R=>{var N=YT(YT({},A),{},{name:R.name,unit:R.unit,color:void 0,fill:void 0});g.push(mC({tooltipEntrySettings:N,dataKey:R.dataKey,payload:R.payload,value:gn(R.payload,R.dataKey),name:R.name}))});else{var P;g.push(mC({tooltipEntrySettings:A,dataKey:_,payload:T,value:gn(T,_),name:(P=gn(T,D))!==null&&P!==void 0?P:A?.name}))}return g},p)}},P1=X([Ut,We,rk,d1,Ft],Ck),L9=X([n=>n.graphicalItems.cartesianItems,n=>n.graphicalItems.polarItems],(n,e)=>[...n,...e]),I9=X([Ft,nl],ak),yu=X([L9,Ut,I9],sk,{memoizeOptions:{resultEqualityCheck:up}}),B9=X([yu],n=>n.filter(lp)),z9=X([yu],ck,{memoizeOptions:{resultEqualityCheck:up}}),sl=X([z9,Fa],uk),F9=X([B9,Fa,Ut],tk),D1=X([sl,Ut,yu],dk),Kk=X([Ut],w1),U9=X([Ut],n=>n.allowDataOverflow),Zk=X([Kk,U9],kD),H9=X([yu],n=>n.filter(lp)),$9=X([F9,H9,rp,XD],fk),q9=X([$9,Fa,Ft,Zk],pk),G9=X([yu],lk),V9=X([sl,Ut,G9,A1,Ft],vk,{memoizeOptions:{resultEqualityCheck:cp}}),Y9=X([yk,Ft,nl],il),X9=X([Y9,Ft],wk),W9=X([bk,Ft,nl],il),K9=X([W9,Ft],Ak),Z9=X([xk,Ft,nl],il),Q9=X([Z9,Ft],Sk),J9=X([X9,Q9,K9],cf),eV=X([Ut,Kk,Zk,q9,V9,J9,We,Ft],Ek),bu=X([Ut,We,sl,D1,rp,Ft,eV],_k),tV=X([bu,Ut,P1],Tk),nV=X([Ut,bu,tV,Ft],Ok),Qk=n=>{var e=Ft(n),t=nl(n),i=!1;return gu(n,e,t,i)},Jk=X([Ut,Qk],ap),eR=X([Ut,P1,nV,Jk],E1),iV=X([We,D1,Ut,Ft],jk),rV=X([We,D1,Ut,Ft],Lk),aV=(n,e,t,i,r,s,o,c)=>{if(e){var{type:u}=e,h=Ps(n,c);if(i){var f=t==="scaleBand"&&i.bandwidth?i.bandwidth()/2:2,p=u==="category"&&i.bandwidth?i.bandwidth()/f:0;return p=c==="angleAxis"&&r!=null&&r?.length>=2?Bn(r[0]-r[1])*2*p:p,h&&o?o.map((g,v)=>({coordinate:i(g)+p,value:g,index:v,offset:p})):i.domain().map((g,v)=>({coordinate:i(g)+p,value:s?s[g]:g,index:v,offset:p}))}}},Jr=X([We,Ut,P1,eR,Qk,iV,rV,Ft],aV),k1=X([Bk,zk,p9],(n,e,t)=>Fk(t.shared,n,e)),tR=n=>n.tooltip.settings.trigger,R1=n=>n.tooltip.settings.defaultIndex,xu=X([al,k1,tR,R1],Vk),Ko=X([xu,sl,pu,bu],M1),nR=X([Jr,Ko],Uk),iR=X([xu],n=>{if(n)return n.dataKey});X([xu],n=>{if(n)return n.graphicalItemId});var rR=X([al,k1,tR,R1],Xk),sV=X([Xr,Wr,We,Kt,Jr,R1,rR,vu],Yk),oV=X([xu,sV],(n,e)=>n!=null&&n.coordinate?n.coordinate:e),lV=X([xu],n=>n.active),cV=X([rR,Ko,Fa,pu,nR,vu,k1],Wk);X([cV],n=>{if(n!=null){var e=n.map(t=>t.payload).filter(t=>t!=null);return Array.from(new Set(e))}});function XT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function WT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(t),!0).forEach(function(i){uV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function uV(n,e,t){return(e=dV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dV(n){var e=hV(n,"string");return typeof e=="symbol"?e:e+""}function hV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var fV=()=>be(Ut),pV=()=>{var n=fV(),e=be(Jr),t=be(eR);return Uh(!n||!t?void 0:WT(WT({},n),{},{scale:t}),e)};function KT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wo(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?KT(Object(t),!0).forEach(function(i){mV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):KT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function mV(n,e,t){return(e=gV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function gV(n){var e=vV(n,"string");return typeof e=="symbol"?e:e+""}function vV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var yV=(n,e,t,i)=>{var r=e.find(s=>s&&s.index===t);if(r){if(n==="horizontal")return{x:r.coordinate,y:i.chartY};if(n==="vertical")return{x:i.chartX,y:r.coordinate}}return{x:0,y:0}},bV=(n,e,t,i)=>{var r=e.find(h=>h&&h.index===t);if(r){if(n==="centric"){var s=r.coordinate,{radius:o}=i;return wo(wo(wo({},i),dn(i.cx,i.cy,o,s)),{},{angle:s,radius:o})}var c=r.coordinate,{angle:u}=i;return wo(wo(wo({},i),dn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function xV(n,e){var{chartX:t,chartY:i}=n;return t>=e.left&&t<=e.left+e.width&&i>=e.top&&i<=e.top+e.height}var aR=(n,e,t,i,r)=>{var s,o=-1,c=(s=e?.length)!==null&&s!==void 0?s:0;if(c<=1||n==null)return 0;if(i==="angleAxis"&&r!=null&&Math.abs(Math.abs(r[1]-r[0])-360)<=1e-6)for(var u=0;u<c;u++){var h=u>0?t[u-1].coordinate:t[c-1].coordinate,f=t[u].coordinate,p=u>=c-1?t[0].coordinate:t[u+1].coordinate,g=void 0;if(Bn(f-h)!==Bn(p-f)){var v=[];if(Bn(p-f)===Bn(r[1]-r[0])){g=p;var w=f+r[1]-r[0];v[0]=Math.min(w,(w+h)/2),v[1]=Math.max(w,(w+h)/2)}else{g=h;var b=p+r[1]-r[0];v[0]=Math.min(f,(b+f)/2),v[1]=Math.max(f,(b+f)/2)}var A=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(n>A[0]&&n<=A[1]||n>=v[0]&&n<=v[1]){({index:o}=t[u]);break}}else{var S=Math.min(h,p),M=Math.max(h,p);if(n>(S+f)/2&&n<=(M+f)/2){({index:o}=t[u]);break}}}else if(e){for(var _=0;_<c;_++)if(_===0&&n<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<c-1&&n>(e[_].coordinate+e[_-1].coordinate)/2&&n<=(e[_].coordinate+e[_+1].coordinate)/2||_===c-1&&n>(e[_].coordinate+e[_-1].coordinate)/2){({index:o}=e[_]);break}}return o},wV=()=>be(d1),N1=(n,e)=>e,sR=(n,e,t)=>t,j1=(n,e,t,i)=>i,AV=X(Jr,n=>Rf(n,e=>e.coordinate)),L1=X([al,N1,sR,j1],Vk),I1=X([L1,sl,pu,bu],M1),SV=(n,e,t)=>{if(e!=null){var i=al(n);return e==="axis"?t==="hover"?i.axisInteraction.hover.dataKey:i.axisInteraction.click.dataKey:t==="hover"?i.itemInteraction.hover.dataKey:i.itemInteraction.click.dataKey}},oR=X([al,N1,sR,j1],Xk),uf=X([Xr,Wr,We,Kt,Jr,j1,oR,vu],Yk),EV=X([L1,uf],(n,e)=>{var t;return(t=n.coordinate)!==null&&t!==void 0?t:e}),lR=X([Jr,I1],Uk),_V=X([oR,I1,Fa,pu,lR,vu,N1],Wk),CV=X([L1,I1],(n,e)=>({isActive:n.active&&e!=null,activeIndex:e})),TV=(n,e,t,i,r,s,o)=>{if(!(!n||!t||!i||!r)&&xV(n,o)){var c=r6(n,e),u=aR(c,s,r,t,i),h=yV(e,r,u,n);return{activeIndex:String(u),activeCoordinate:h}}},OV=(n,e,t,i,r,s,o)=>{if(!(!n||!i||!r||!s||!t)){var c=hH(n,t);if(c){var u=a6(c,e),h=aR(u,o,s,i,r),f=bV(e,s,h,c);return{activeIndex:String(h),activeCoordinate:f}}}},MV=(n,e,t,i,r,s,o,c)=>{if(!(!n||!e||!i||!r||!s))return e==="horizontal"||e==="vertical"?TV(n,e,i,r,s,o,c):OV(n,e,t,i,r,s,o)},PV=X(n=>n.zIndex.zIndexMap,(n,e)=>e,(n,e,t)=>t,(n,e,t)=>{if(e!=null){var i=n[e];if(i!=null)return t?i.panoramaElementId:i.elementId}}),DV=X(n=>n.zIndex.zIndexMap,n=>{var e=Object.keys(n).map(i=>parseInt(i,10)).concat(Object.values(Sn)),t=Array.from(new Set(e));return t.sort((i,r)=>i-r)},{memoizeOptions:{resultEqualityCheck:mG}});function ZT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function QT(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(t),!0).forEach(function(i){kV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ZT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function kV(n,e,t){return(e=RV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function RV(n){var e=NV(n,"string");return typeof e=="symbol"?e:e+""}function NV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var jV={},LV={zIndexMap:Object.values(Sn).reduce((n,e)=>QT(QT({},n),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),jV)},IV=new Set(Object.values(Sn));function BV(n){return IV.has(n)}var cR=Fn({name:"zIndex",initialState:LV,reducers:{registerZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]?n.zIndexMap[t].consumers+=1:n.zIndexMap[t]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:ft()},unregisterZIndexPortal:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(n.zIndexMap[t].consumers-=1,n.zIndexMap[t].consumers<=0&&!BV(t)&&delete n.zIndexMap[t])},prepare:ft()},registerZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t,elementId:i,isPanorama:r}=e.payload;n.zIndexMap[t]?r?n.zIndexMap[t].panoramaElementId=i:n.zIndexMap[t].elementId=i:n.zIndexMap[t]={consumers:0,elementId:r?void 0:i,panoramaElementId:r?i:void 0}},prepare:ft()},unregisterZIndexPortalId:{reducer:(n,e)=>{var{zIndex:t}=e.payload;n.zIndexMap[t]&&(e.payload.isPanorama?n.zIndexMap[t].panoramaElementId=void 0:n.zIndexMap[t].elementId=void 0)},prepare:ft()}}}),{registerZIndexPortal:zV,unregisterZIndexPortal:FV,registerZIndexPortalId:UV,unregisterZIndexPortalId:HV}=cR.actions,$V=cR.reducer;function ea(n){var{zIndex:e,children:t}=n,i=B6(),r=i&&e!==void 0&&e!==0,s=Un(),o=Ct();C.useLayoutEffect(()=>r?(o(zV({zIndex:e})),()=>{o(FV({zIndex:e}))}):tu,[o,e,r]);var c=be(h=>PV(h,e,s));if(!r)return t;if(!c)return null;var u=document.getElementById(c);return u?x2.createPortal(t,u):null}function Nb(){return Nb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Nb.apply(null,arguments)}function JT(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ch(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?JT(Object(t),!0).forEach(function(i){qV(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):JT(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function qV(n,e,t){return(e=GV(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GV(n){var e=VV(n,"string");return typeof e=="symbol"?e:e+""}function VV(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function YV(n){var{cursor:e,cursorComp:t,cursorProps:i}=n;return C.isValidElement(e)?C.cloneElement(e,i):C.createElement(t,i)}function XV(n){var e,{coordinate:t,payload:i,index:r,offset:s,tooltipAxisBandSize:o,layout:c,cursor:u,tooltipEventType:h,chartName:f}=n,p=t,g=i,v=r;if(!u||!p||f!=="ScatterChart"&&h!=="axis")return null;var w,b,A;if(f==="ScatterChart")w=p,b=C8,A=Sn.cursorLine;else if(f==="BarChart")w=T8(c,p,s,o),b=YP,A=Sn.cursorRectangle;else if(c==="radial"&&RM(p)){var{cx:S,cy:M,radius:_,startAngle:D,endAngle:T}=XP(p);w={cx:S,cy:M,startAngle:D,endAngle:T,innerRadius:_,outerRadius:_},b=KP,A=Sn.cursorLine}else w={points:gH(c,p,s)},b=HP,A=Sn.cursorLine;var P=typeof u=="object"&&"className"in u?u.className:void 0,R=ch(ch(ch(ch({stroke:"#ccc",pointerEvents:"none"},s),w),m0(u)),{},{payload:g,payloadIndex:v,className:ct("recharts-tooltip-cursor",P)});return C.createElement(ea,{zIndex:(e=n.zIndex)!==null&&e!==void 0?e:A},C.createElement(YV,{cursor:u,cursorComp:b,cursorProps:R}))}function WV(n){var e=pV(),t=DP(),i=Yf(),r=wV();return e==null||t==null||i==null||r==null?null:C.createElement(XV,Nb({},n,{offset:t,layout:i,tooltipAxisBandSize:e,chartName:r}))}var uR=C.createContext(null),KV=()=>C.useContext(uR),fy={exports:{}},eO;function ZV(){return eO||(eO=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(t=!1));function r(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function s(u,h,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new r(f,p||u,g),w=t?t+h:h;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],v]:u._events[w].push(v):(u._events[w]=v,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new i:delete u._events[h]}function c(){this._events=new i,this._eventsCount=0}c.prototype.eventNames=function(){var h=[],f,p;if(this._eventsCount===0)return h;for(p in f=this._events)e.call(f,p)&&h.push(t?p.slice(1):p);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},c.prototype.listeners=function(h){var f=t?t+h:h,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,w=new Array(v);g<v;g++)w[g]=p[g].fn;return w},c.prototype.listenerCount=function(h){var f=t?t+h:h,p=this._events[f];return p?p.fn?1:p.length:0},c.prototype.emit=function(h,f,p,g,v,w){var b=t?t+h:h;if(!this._events[b])return!1;var A=this._events[b],S=arguments.length,M,_;if(A.fn){switch(A.once&&this.removeListener(h,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,p),!0;case 4:return A.fn.call(A.context,f,p,g),!0;case 5:return A.fn.call(A.context,f,p,g,v),!0;case 6:return A.fn.call(A.context,f,p,g,v,w),!0}for(_=1,M=new Array(S-1);_<S;_++)M[_-1]=arguments[_];A.fn.apply(A.context,M)}else{var D=A.length,T;for(_=0;_<D;_++)switch(A[_].once&&this.removeListener(h,A[_].fn,void 0,!0),S){case 1:A[_].fn.call(A[_].context);break;case 2:A[_].fn.call(A[_].context,f);break;case 3:A[_].fn.call(A[_].context,f,p);break;case 4:A[_].fn.call(A[_].context,f,p,g);break;default:if(!M)for(T=1,M=new Array(S-1);T<S;T++)M[T-1]=arguments[T];A[_].fn.apply(A[_].context,M)}}return!0},c.prototype.on=function(h,f,p){return s(this,h,f,p,!1)},c.prototype.once=function(h,f,p){return s(this,h,f,p,!0)},c.prototype.removeListener=function(h,f,p,g){var v=t?t+h:h;if(!this._events[v])return this;if(!f)return o(this,v),this;var w=this._events[v];if(w.fn)w.fn===f&&(!g||w.once)&&(!p||w.context===p)&&o(this,v);else{for(var b=0,A=[],S=w.length;b<S;b++)(w[b].fn!==f||g&&!w[b].once||p&&w[b].context!==p)&&A.push(w[b]);A.length?this._events[v]=A.length===1?A[0]:A:o(this,v)}return this},c.prototype.removeAllListeners=function(h){var f;return h?(f=t?t+h:h,this._events[f]&&o(this,f)):(this._events=new i,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=t,c.EventEmitter=c,n.exports=c})(fy)),fy.exports}var QV=ZV();const JV=Yr(QV);var $c=new JV,jb="recharts.syncEvent.tooltip",tO="recharts.syncEvent.brush";function e7(n,e){if(e){var t=Number.parseInt(e,10);if(!zi(t))return n?.[t]}}var t7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dR=Fn({name:"options",initialState:t7,reducers:{createEventEmitter:n=>{n.eventEmitter==null&&(n.eventEmitter=Symbol("rechartsEventEmitter"))}}}),n7=dR.reducer,{createEventEmitter:i7}=dR.actions;function r7(n){return n.tooltip.syncInteraction}var a7={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},hR=Fn({name:"chartData",initialState:a7,reducers:{setChartData(n,e){if(n.chartData=e.payload,e.payload==null){n.dataStartIndex=0,n.dataEndIndex=0;return}e.payload.length>0&&n.dataEndIndex!==e.payload.length-1&&(n.dataEndIndex=e.payload.length-1)},setComputedData(n,e){n.computedData=e.payload},setDataStartEndIndexes(n,e){var{startIndex:t,endIndex:i}=e.payload;t!=null&&(n.dataStartIndex=t),i!=null&&(n.dataEndIndex=i)}}}),{setChartData:nO,setDataStartEndIndexes:s7,setComputedData:bQ}=hR.actions,o7=hR.reducer,l7=["x","y"];function iO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Ao(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?iO(Object(t),!0).forEach(function(i){c7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):iO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function c7(n,e,t){return(e=u7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function u7(n){var e=d7(n,"string");return typeof e=="symbol"?e:e+""}function d7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function h7(n,e){if(n==null)return{};var t,i,r=f7(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function f7(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function p7(){var n=be(h1),e=be(f1),t=Ct(),i=be(WD),r=be(Jr),s=Yf(),o=Vf(),c=be(u=>u.rootProps.className);C.useEffect(()=>{if(n==null)return tu;var u=(h,f,p)=>{if(e!==p&&n===h){if(i==="index"){var g;if(o&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x:w,y:b}=v,A=h7(v,l7),{x:S,y:M,width:_,height:D}=f.payload.sourceViewBox,T=Ao(Ao({},A),{},{x:o.x+(_?(w-S)/_:0)*o.width,y:o.y+(D?(b-M)/D:0)*o.height});t(Ao(Ao({},f),{},{payload:Ao(Ao({},f.payload),{},{coordinate:T})}))}else t(f);return}if(r!=null){var P;if(typeof i=="function"){var R={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},N=i(r,R);P=r[N]}else i==="value"&&(P=r.find(B=>String(B.value)===f.payload.label));var{coordinate:I}=f.payload;if(P==null||f.payload.active===!1||I==null||o==null){t(kb({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:W,y:U}=I,K=Math.min(W,o.x+o.width),se=Math.min(U,o.y+o.height),oe={x:s==="horizontal"?P.coordinate:K,y:s==="horizontal"?se:P.coordinate},le=kb({active:f.payload.active,coordinate:oe,dataKey:f.payload.dataKey,index:String(P.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});t(le)}}};return $c.on(jb,u),()=>{$c.off(jb,u)}},[c,t,e,n,i,r,s,o])}function m7(){var n=be(h1),e=be(f1),t=Ct();C.useEffect(()=>{if(n==null)return tu;var i=(r,s,o)=>{e!==o&&n===r&&t(s7(s))};return $c.on(tO,i),()=>{$c.off(tO,i)}},[t,e,n])}function g7(){var n=Ct();C.useEffect(()=>{n(i7())},[n]),p7(),m7()}function v7(n,e,t,i,r,s){var o=be(v=>SV(v,n,e)),c=be(f1),u=be(h1),h=be(WD),f=be(r7),p=f?.active,g=Vf();C.useEffect(()=>{if(!p&&u!=null&&c!=null){var v=kb({active:s,coordinate:t,dataKey:o,index:r,label:typeof i=="number"?String(i):i,sourceViewBox:g,graphicalItemId:void 0});$c.emit(jb,u,v,c)}},[p,t,o,r,i,c,u,h,s,g])}function rO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function aO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?rO(Object(t),!0).forEach(function(i){y7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):rO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function y7(n,e,t){return(e=b7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function b7(n){var e=x7(n,"string");return typeof e=="symbol"?e:e+""}function x7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function w7(n){return n.dataKey}function A7(n,e){return C.isValidElement(n)?C.cloneElement(n,e):typeof n=="function"?C.createElement(n,e):C.createElement(a8,e)}var sO=[],S7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function E7(n){var e,t,i=ai(n,S7),{active:r,allowEscapeViewBox:s,animationDuration:o,animationEasing:c,content:u,filterNull:h,isAnimationActive:f,offset:p,payloadUniqBy:g,position:v,reverseDirection:w,useTranslate3d:b,wrapperStyle:A,cursor:S,shared:M,trigger:_,defaultIndex:D,portal:T,axisId:P}=i,R=Ct(),N=typeof D=="number"?String(D):D;C.useEffect(()=>{R(b9({shared:M,trigger:_,axisId:P,active:r,defaultIndex:N}))},[R,M,_,P,r,N]);var I=Vf(),W=UP(),U=f9(M),{activeIndex:K,isActive:se}=(e=be(ce=>CV(ce,U,_,N)))!==null&&e!==void 0?e:{},oe=be(ce=>_V(ce,U,_,N)),le=be(ce=>lR(ce,U,_,N)),B=be(ce=>EV(ce,U,_,N)),H=oe,te=KV(),re=(t=r??se)!==null&&t!==void 0?t:!1,[xe,L]=H5([H,re]),V=U==="axis"?le:void 0;v7(U,_,B,V,K,re);var ne=T??te;if(ne==null||I==null||U==null)return null;var ae=H??sO;re||(ae=sO),h&&ae.length&&(ae=p5(ae.filter(ce=>ce.value!=null&&(ce.hide!==!0||i.includeHidden)),g,w7));var me=ae.length>0,we=C.createElement(h8,{allowEscapeViewBox:s,animationDuration:o,animationEasing:c,isAnimationActive:f,active:re,coordinate:B,hasPayload:me,offset:p,position:v,reverseDirection:w,useTranslate3d:b,viewBox:I,wrapperStyle:A,lastBoundingBox:xe,innerRef:L,hasPortalFromProps:!!T},A7(u,aO(aO({},i),{},{payload:ae,label:V,active:re,activeIndex:K,coordinate:B,accessibilityLayer:W})));return C.createElement(C.Fragment,null,x2.createPortal(we,ne),re&&C.createElement(WV,{cursor:S,tooltipEventType:U,coordinate:B,payload:ae,index:K}))}var B1=n=>null;B1.displayName="Cell";function _7(n,e,t){return(e=C7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function C7(n){var e=T7(n,"string");return typeof e=="symbol"?e:e+""}function T7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class O7{constructor(e){_7(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return t!==void 0&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var i=this.cache.keys().next().value;i!=null&&this.cache.delete(i)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}function oO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function M7(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(t),!0).forEach(function(i){P7(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):oO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function P7(n,e,t){return(e=D7(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function D7(n){var e=k7(n,"string");return typeof e=="symbol"?e:e+""}function k7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var R7={cacheSize:2e3,enableCache:!0},fR=M7({},R7),lO=new O7(fR.cacheSize),N7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cO="recharts_measurement_span";function j7(n,e){var t=e.fontSize||"",i=e.fontFamily||"",r=e.fontWeight||"",s=e.fontStyle||"",o=e.letterSpacing||"",c=e.textTransform||"";return"".concat(n,"|").concat(t,"|").concat(i,"|").concat(r,"|").concat(s,"|").concat(o,"|").concat(c)}var uO=(n,e)=>{try{var t=document.getElementById(cO);t||(t=document.createElement("span"),t.setAttribute("id",cO),t.setAttribute("aria-hidden","true"),document.body.appendChild(t)),Object.assign(t.style,N7,e),t.textContent="".concat(n);var i=t.getBoundingClientRect();return{width:i.width,height:i.height}}catch{return{width:0,height:0}}},Sc=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ou.isSsr)return{width:0,height:0};if(!fR.enableCache)return uO(e,t);var i=j7(e,t),r=lO.get(i);if(r)return r;var s=uO(e,t);return lO.set(i,s),s},dO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hO=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,I7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},B7=Object.keys(pR),Do="NaN";function z7(n,e){return n*pR[e]}class In{static parse(e){var t,[,i,r]=(t=I7.exec(e))!==null&&t!==void 0?t:[];return new In(parseFloat(i),r??"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,zi(e)&&(this.unit=""),t!==""&&!L7.test(t)&&(this.num=NaN,this.unit=""),B7.includes(t)&&(this.num=z7(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new In(NaN,""):new In(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new In(NaN,""):new In(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new In(NaN,""):new In(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new In(NaN,""):new In(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return zi(this.num)}}function mR(n){if(n.includes(Do))return Do;for(var e=n;e.includes("*")||e.includes("/");){var t,[,i,r,s]=(t=dO.exec(e))!==null&&t!==void 0?t:[],o=In.parse(i??""),c=In.parse(s??""),u=r==="*"?o.multiply(c):o.divide(c);if(u.isNaN())return Do;e=e.replace(dO,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,[,f,p,g]=(h=hO.exec(e))!==null&&h!==void 0?h:[],v=In.parse(f??""),w=In.parse(g??""),b=p==="+"?v.add(w):v.subtract(w);if(b.isNaN())return Do;e=e.replace(hO,b.toString())}return e}var fO=/\(([^()]*)\)/;function F7(n){for(var e=n,t;(t=fO.exec(e))!=null;){var[,i]=t;e=e.replace(fO,mR(i))}return e}function U7(n){var e=n.replace(/\s+/g,"");return e=F7(e),e=mR(e),e}function H7(n){try{return U7(n)}catch{return Do}}function py(n){var e=H7(n.slice(5,-1));return e===Do?"":e}var $7=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],q7=["dx","dy","angle","className","breakAll"];function Lb(){return Lb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Lb.apply(null,arguments)}function pO(n,e){if(n==null)return{};var t,i,r=G7(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function G7(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var gR=/[ \f\n\r\t\v\u2028\u2029]+/,vR=n=>{var{children:e,breakAll:t,style:i}=n;try{var r=[];Wt(e)||(t?r=e.toString().split(""):r=e.toString().split(gR));var s=r.map(c=>({word:c,width:Sc(c,i).width})),o=t?0:Sc("",i).width;return{wordsWithComputedWidth:s,spaceWidth:o}}catch{return null}};function V7(n){return n==="start"||n==="middle"||n==="end"||n==="inherit"}var yR=(n,e,t,i)=>n.reduce((r,s)=>{var{word:o,width:c}=s,u=r[r.length-1];if(u&&c!=null&&(e==null||i||u.width+c+t<Number(e)))u.words.push(o),u.width+=c+t;else{var h={words:[o],width:c};r.push(h)}return r},[]),bR=n=>n.reduce((e,t)=>e.width>t.width?e:t),Y7="",mO=(n,e,t,i,r,s,o,c)=>{var u=n.slice(0,e),h=vR({breakAll:t,style:i,children:u+Y7});if(!h)return[!1,[]];var f=yR(h.wordsWithComputedWidth,s,o,c),p=f.length>r||bR(f).width>Number(s);return[p,f]},X7=(n,e,t,i,r)=>{var{maxLines:s,children:o,style:c,breakAll:u}=n,h=ge(s),f=String(o),p=yR(e,i,t,r);if(!h||r)return p;var g=p.length>s||bR(p).width>Number(i);if(!g)return p;for(var v=0,w=f.length-1,b=0,A;v<=w&&b<=f.length-1;){var S=Math.floor((v+w)/2),M=S-1,[_,D]=mO(f,M,u,c,s,i,t,r),[T]=mO(f,S,u,c,s,i,t,r);if(!_&&!T&&(v=S+1),_&&T&&(w=S-1),!_&&T){A=D;break}b++}return A||p},gO=n=>{var e=Wt(n)?[]:n.toString().split(gR);return[{words:e,width:void 0}]},W7=n=>{var{width:e,scaleToFit:t,children:i,style:r,breakAll:s,maxLines:o}=n;if((e||t)&&!ou.isSsr){var c,u,h=vR({breakAll:s,children:i,style:r});if(h){var{wordsWithComputedWidth:f,spaceWidth:p}=h;c=f,u=p}else return gO(i);return X7({breakAll:s,children:i,maxLines:o,style:r},c,u,e,!!t)}return gO(i)},xR="#808080",K7={angle:0,breakAll:!1,capHeight:"0.71em",fill:xR,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},z1=C.forwardRef((n,e)=>{var t=ai(n,K7),{x:i,y:r,lineHeight:s,capHeight:o,fill:c,scaleToFit:u,textAnchor:h,verticalAnchor:f}=t,p=pO(t,$7),g=C.useMemo(()=>W7({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:v,dy:w,angle:b,className:A,breakAll:S}=p,M=pO(p,q7);if(!ir(i)||!ir(r)||g.length===0)return null;var _=Number(i)+(ge(v)?v:0),D=Number(r)+(ge(w)?w:0);if(!_t(_)||!_t(D))return null;var T;switch(f){case"start":T=py("calc(".concat(o,")"));break;case"middle":T=py("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:T=py("calc(".concat(g.length-1," * -").concat(s,")"));break}var P=[];if(u){var R=g[0].width,{width:N}=p;P.push("scale(".concat(ge(N)&&ge(R)?N/R:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(_,", ").concat(D,")")),P.length&&(M.transform=P.join(" ")),C.createElement("text",Lb({},Ci(M),{ref:e,x:_,y:D,className:ct("recharts-text",A),textAnchor:h,fill:c.includes("url")?xR:c}),g.map((I,W)=>{var U=I.words.join(S?"":" ");return C.createElement("tspan",{x:_,dy:W===0?T:s,key:"".concat(U,"-").concat(W)},U)}))});z1.displayName="Text";var Z7=["labelRef"];function Q7(n,e){if(n==null)return{};var t,i,r=J7(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function J7(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function vO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Et(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?vO(Object(t),!0).forEach(function(i){eY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):vO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function eY(n,e,t){return(e=tY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tY(n){var e=nY(n,"string");return typeof e=="symbol"?e:e+""}function nY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Dr(){return Dr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Dr.apply(null,arguments)}var wR=C.createContext(null),iY=n=>{var{x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:o,children:c}=n,u=C.useMemo(()=>({x:e,y:t,upperWidth:i,lowerWidth:r,width:s,height:o}),[e,t,i,r,s,o]);return C.createElement(wR.Provider,{value:u},c)},AR=()=>{var n=C.useContext(wR),e=Vf();return n||PP(e)},rY=C.createContext(null),aY=()=>{var n=C.useContext(rY),e=be(ek);return n||e},sY=n=>{var{value:e,formatter:t}=n,i=Wt(n.children)?e:n.children;return typeof t=="function"?t(i):i},F1=n=>n!=null&&typeof n=="function",oY=(n,e)=>{var t=Bn(e-n),i=Math.min(Math.abs(e-n),360);return t*i},lY=(n,e,t,i,r)=>{var{offset:s,className:o}=n,{cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:p,endAngle:g,clockWise:v}=r,w=(h+f)/2,b=oY(p,g),A=b>=0?1:-1,S,M;switch(e){case"insideStart":S=p+A*s,M=v;break;case"insideEnd":S=g-A*s,M=!v;break;case"end":S=g+A*s,M=v;break;default:throw new Error("Unsupported position ".concat(e))}M=b<=0?M:!M;var _=dn(c,u,w,S),D=dn(c,u,w,S+(M?1:-1)*359),T="M".concat(_.x,",").concat(_.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(M?0:1,`,
    `).concat(D.x,",").concat(D.y),P=Wt(n.id)?Pc("recharts-radial-line-"):n.id;return C.createElement("text",Dr({},i,{dominantBaseline:"central",className:ct("recharts-radial-bar-label",o)}),C.createElement("defs",null,C.createElement("path",{id:P,d:T})),C.createElement("textPath",{xlinkHref:"#".concat(P)},t))},cY=(n,e,t)=>{var{cx:i,cy:r,innerRadius:s,outerRadius:o,startAngle:c,endAngle:u}=n,h=(c+u)/2;if(t==="outside"){var{x:f,y:p}=dn(i,r,o+e,h);return{x:f,y:p,textAnchor:f>=i?"start":"end",verticalAnchor:"middle"}}if(t==="center")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"middle"};if(t==="centerTop")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"start"};if(t==="centerBottom")return{x:i,y:r,textAnchor:"middle",verticalAnchor:"end"};var g=(s+o)/2,{x:v,y:w}=dn(i,r,g,h);return{x:v,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ib=n=>"cx"in n&&ge(n.cx),uY=(n,e)=>{var{parentViewBox:t,offset:i,position:r}=n,s;t!=null&&!Ib(t)&&(s=t);var{x:o,y:c,upperWidth:u,lowerWidth:h,height:f}=e,p=o,g=o+(u-h)/2,v=(p+g)/2,w=(u+h)/2,b=p+u/2,A=f>=0?1:-1,S=A*i,M=A>0?"end":"start",_=A>0?"start":"end",D=u>=0?1:-1,T=D*i,P=D>0?"end":"start",R=D>0?"start":"end";if(r==="top"){var N={x:p+u/2,y:c-S,textAnchor:"middle",verticalAnchor:M};return Et(Et({},N),s?{height:Math.max(c-s.y,0),width:u}:{})}if(r==="bottom"){var I={x:g+h/2,y:c+f+S,textAnchor:"middle",verticalAnchor:_};return Et(Et({},I),s?{height:Math.max(s.y+s.height-(c+f),0),width:h}:{})}if(r==="left"){var W={x:v-T,y:c+f/2,textAnchor:P,verticalAnchor:"middle"};return Et(Et({},W),s?{width:Math.max(W.x-s.x,0),height:f}:{})}if(r==="right"){var U={x:v+w+T,y:c+f/2,textAnchor:R,verticalAnchor:"middle"};return Et(Et({},U),s?{width:Math.max(s.x+s.width-U.x,0),height:f}:{})}var K=s?{width:w,height:f}:{};return r==="insideLeft"?Et({x:v+T,y:c+f/2,textAnchor:R,verticalAnchor:"middle"},K):r==="insideRight"?Et({x:v+w-T,y:c+f/2,textAnchor:P,verticalAnchor:"middle"},K):r==="insideTop"?Et({x:p+u/2,y:c+S,textAnchor:"middle",verticalAnchor:_},K):r==="insideBottom"?Et({x:g+h/2,y:c+f-S,textAnchor:"middle",verticalAnchor:M},K):r==="insideTopLeft"?Et({x:p+T,y:c+S,textAnchor:R,verticalAnchor:_},K):r==="insideTopRight"?Et({x:p+u-T,y:c+S,textAnchor:P,verticalAnchor:_},K):r==="insideBottomLeft"?Et({x:g+T,y:c+f-S,textAnchor:R,verticalAnchor:M},K):r==="insideBottomRight"?Et({x:g+h-T,y:c+f-S,textAnchor:P,verticalAnchor:M},K):r&&typeof r=="object"&&(ge(r.x)||Fr(r.x))&&(ge(r.y)||Fr(r.y))?Et({x:o+Fi(r.x,w),y:c+Fi(r.y,f),textAnchor:"end",verticalAnchor:"end"},K):Et({x:b,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},K)},dY={angle:0,offset:5,zIndex:Sn.label,position:"middle",textBreakAll:!1};function Oa(n){var e=ai(n,dY),{viewBox:t,position:i,value:r,children:s,content:o,className:c="",textBreakAll:u,labelRef:h}=e,f=aY(),p=AR(),g=i==="center"?p:f??p,v,w,b;if(t==null?v=g:Ib(t)?v=t:v=PP(t),!v||Wt(r)&&Wt(s)&&!C.isValidElement(o)&&typeof o!="function")return null;var A=Et(Et({},e),{},{viewBox:v});if(C.isValidElement(o)){var{labelRef:S}=A,M=Q7(A,Z7);return C.cloneElement(o,M)}if(typeof o=="function"){if(w=C.createElement(o,A),C.isValidElement(w))return w}else w=sY(e);var _=Ci(e);if(Ib(v)){if(i==="insideStart"||i==="insideEnd"||i==="end")return lY(e,i,w,_,v);b=cY(v,e.offset,e.position)}else b=uY(e,v);return C.createElement(ea,{zIndex:e.zIndex},C.createElement(z1,Dr({ref:h,className:ct("recharts-label",c)},_,b,{textAnchor:V7(_.textAnchor)?_.textAnchor:b.textAnchor,breakAll:u}),w))}Oa.displayName="Label";var hY=(n,e,t)=>{if(!n)return null;var i={viewBox:e,labelRef:t};return n===!0?C.createElement(Oa,Dr({key:"label-implicit"},i)):ir(n)?C.createElement(Oa,Dr({key:"label-implicit",value:n},i)):C.isValidElement(n)?n.type===Oa?C.cloneElement(n,Et({key:"label-implicit"},i)):C.createElement(Oa,Dr({key:"label-implicit",content:n},i)):F1(n)?C.createElement(Oa,Dr({key:"label-implicit",content:n},i)):n&&typeof n=="object"?C.createElement(Oa,Dr({},n,{key:"label-implicit"},i)):null};function fY(n){var{label:e,labelRef:t}=n,i=AR();return hY(e,i,t)||null}var my={},gy={},yO;function pY(){return yO||(yO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return t[t.length-1]}n.last=e})(gy)),gy}var vy={},bO;function mY(){return bO||(bO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){return Array.isArray(t)?t:Array.from(t)}n.toArray=e})(vy)),vy}var xO;function gY(){return xO||(xO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});const e=pY(),t=mY(),i=S0();function r(s){if(i.isArrayLike(s))return e.last(t.toArray(s))}n.last=r})(my)),my}var yy,wO;function vY(){return wO||(wO=1,yy=gY().last),yy}var yY=vY();const bY=Yr(yY);var xY=["valueAccessor"],wY=["dataKey","clockWise","id","textBreakAll","zIndex"];function df(){return df=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},df.apply(null,arguments)}function AO(n,e){if(n==null)return{};var t,i,r=AY(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function AY(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var SY=n=>Array.isArray(n.value)?bY(n.value):n.value,SR=C.createContext(void 0),EY=SR.Provider,ER=C.createContext(void 0);ER.Provider;function _Y(){return C.useContext(SR)}function CY(){return C.useContext(ER)}function Sh(n){var{valueAccessor:e=SY}=n,t=AO(n,xY),{dataKey:i,clockWise:r,id:s,textBreakAll:o,zIndex:c}=t,u=AO(t,wY),h=_Y(),f=CY(),p=h||f;return!p||!p.length?null:C.createElement(ea,{zIndex:c??Sn.label},C.createElement(zr,{className:"recharts-label-list"},p.map((g,v)=>{var w,b=Wt(i)?e(g,v):gn(g&&g.payload,i),A=Wt(s)?{}:{id:"".concat(s,"-").concat(v)};return C.createElement(Oa,df({key:"label-".concat(v)},Ci(g),u,A,{fill:(w=t.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:o,viewBox:g.viewBox,index:v,zIndex:0}))})))}Sh.displayName="LabelList";function TY(n){var{label:e}=n;return e?e===!0?C.createElement(Sh,{key:"labelList-implicit"}):C.isValidElement(e)||F1(e)?C.createElement(Sh,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(Sh,df({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var OY={radiusAxis:{},angleAxis:{}},_R=Fn({name:"polarAxis",initialState:OY,reducers:{addRadiusAxis(n,e){n.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(n,e){delete n.radiusAxis[e.payload.id]},addAngleAxis(n,e){n.angleAxis[e.payload.id]=e.payload},removeAngleAxis(n,e){delete n.angleAxis[e.payload.id]}}}),{addRadiusAxis:xQ,removeRadiusAxis:wQ,addAngleAxis:AQ,removeAngleAxis:SQ}=_R.actions,MY=_R.reducer,by={exports:{}},Je={};var SO;function PY(){if(SO)return Je;SO=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function w(b){if(typeof b=="object"&&b!==null){var A=b.$$typeof;switch(A){case n:switch(b=b.type,b){case t:case r:case i:case u:case h:case g:return b;default:switch(b=b&&b.$$typeof,b){case o:case c:case p:case f:return b;case s:return b;default:return A}}case e:return A}}}return Je.ContextConsumer=s,Je.ContextProvider=o,Je.Element=n,Je.ForwardRef=c,Je.Fragment=t,Je.Lazy=p,Je.Memo=f,Je.Portal=e,Je.Profiler=r,Je.StrictMode=i,Je.Suspense=u,Je.SuspenseList=h,Je.isContextConsumer=function(b){return w(b)===s},Je.isContextProvider=function(b){return w(b)===o},Je.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===n},Je.isForwardRef=function(b){return w(b)===c},Je.isFragment=function(b){return w(b)===t},Je.isLazy=function(b){return w(b)===p},Je.isMemo=function(b){return w(b)===f},Je.isPortal=function(b){return w(b)===e},Je.isProfiler=function(b){return w(b)===r},Je.isStrictMode=function(b){return w(b)===i},Je.isSuspense=function(b){return w(b)===u},Je.isSuspenseList=function(b){return w(b)===h},Je.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===t||b===r||b===i||b===u||b===h||typeof b=="object"&&b!==null&&(b.$$typeof===p||b.$$typeof===f||b.$$typeof===o||b.$$typeof===s||b.$$typeof===c||b.$$typeof===v||b.getModuleId!==void 0)},Je.typeOf=w,Je}var EO;function DY(){return EO||(EO=1,by.exports=PY()),by.exports}var kY=DY(),_O=n=>typeof n=="string"?n:n?n.displayName||n.name||"Component":"",CO=null,xy=null,CR=n=>{if(n===CO&&Array.isArray(xy))return xy;var e=[];return C.Children.forEach(n,t=>{Wt(t)||(kY.isFragment(t)?e=e.concat(CR(t.props.children)):e.push(t))}),xy=e,CO=n,e};function RY(n,e){var t=[],i=[];return Array.isArray(e)?i=e.map(r=>_O(r)):i=[_O(e)],CR(n).forEach(r=>{var s=Uo(r,"type.displayName")||Uo(r,"type.name");s&&i.indexOf(s)!==-1&&t.push(r)}),t}var wy={},TO;function NY(){return TO||(TO=1,(function(n){Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});function e(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let i=t;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(t)===i}n.isPlainObject=e})(wy)),wy}var Ay,OO;function jY(){return OO||(OO=1,Ay=NY().isPlainObject),Ay}var LY=jY();const IY=Yr(LY);function MO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function PO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?MO(Object(t),!0).forEach(function(i){BY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):MO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function BY(n,e,t){return(e=zY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zY(n){var e=FY(n,"string");return typeof e=="symbol"?e:e+""}function FY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hf(){return hf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hf.apply(null,arguments)}var DO=(n,e,t,i,r)=>{var s=t-i,o;return o="M ".concat(n,",").concat(e),o+="L ".concat(n+t,",").concat(e),o+="L ".concat(n+t-s/2,",").concat(e+r),o+="L ".concat(n+t-s/2-i,",").concat(e+r),o+="L ".concat(n,",").concat(e," Z"),o},UY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HY=n=>{var e=ai(n,UY),{x:t,y:i,upperWidth:r,lowerWidth:s,height:o,className:c}=e,{animationEasing:u,animationDuration:h,animationBegin:f,isUpdateAnimationActive:p}=e,g=C.useRef(null),[v,w]=C.useState(-1),b=C.useRef(r),A=C.useRef(s),S=C.useRef(o),M=C.useRef(t),_=C.useRef(i),D=B0(n,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var oe=g.current.getTotalLength();oe&&w(oe)}catch{}},[]),t!==+t||i!==+i||r!==+r||s!==+s||o!==+o||r===0&&s===0||o===0)return null;var T=ct("recharts-trapezoid",c);if(!p)return C.createElement("g",null,C.createElement("path",hf({},Ci(e),{className:T,d:DO(t,i,r,s,o)})));var P=b.current,R=A.current,N=S.current,I=M.current,W=_.current,U="0px ".concat(v===-1?1:v,"px"),K="".concat(v,"px 0px"),se=$P(["strokeDasharray"],h,u);return C.createElement(I0,{animationId:D,key:D,canBegin:v>0,duration:h,easing:u,isActive:p,begin:f},oe=>{var le=un(P,r,oe),B=un(R,s,oe),H=un(N,o,oe),te=un(I,t,oe),re=un(W,i,oe);g.current&&(b.current=le,A.current=B,S.current=H,M.current=te,_.current=re);var xe=oe>0?{transition:se,strokeDasharray:K}:{strokeDasharray:U};return C.createElement("path",hf({},Ci(e),{className:T,d:DO(te,re,le,B,H),ref:g,style:PO(PO({},xe),e.style)}))})},$Y=["option","shapeType","propTransformer","activeClassName"];function qY(n,e){if(n==null)return{};var t,i,r=GY(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function GY(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function kO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function ff(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(t),!0).forEach(function(i){VY(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):kO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function VY(n,e,t){return(e=YY(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function YY(n){var e=XY(n,"string");return typeof e=="symbol"?e:e+""}function XY(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WY(n,e){return ff(ff({},e),n)}function KY(n,e){return n==="symbols"}function RO(n){var{shapeType:e,elementProps:t}=n;switch(e){case"rectangle":return C.createElement(YP,t);case"trapezoid":return C.createElement(HY,t);case"sector":return C.createElement(KP,t);case"symbols":if(KY(e))return C.createElement(kM,t);break;case"curve":return C.createElement(HP,t);default:return null}}function ZY(n){return C.isValidElement(n)?n.props:n}function QY(n){var{option:e,shapeType:t,propTransformer:i=WY,activeClassName:r="recharts-active-shape"}=n,s=qY(n,$Y),o;if(C.isValidElement(e))o=C.cloneElement(e,ff(ff({},s),ZY(e)));else if(typeof e=="function")o=e(s,s.index);else if(IY(e)&&typeof e!="boolean"){var c=i(e,s);o=C.createElement(RO,{shapeType:t,elementProps:c})}else{var u=s;o=C.createElement(RO,{shapeType:t,elementProps:u})}return s.isActive?C.createElement(zr,{className:r},o):o}var TR=(n,e,t)=>{var i=Ct();return(r,s)=>o=>{n?.(r,s,o),i($k({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}},OR=n=>{var e=Ct();return(t,i)=>r=>{n?.(t,i,r),e(x9())}},MR=(n,e,t)=>{var i=Ct();return(r,s)=>o=>{n?.(r,s,o),i(w9({activeIndex:String(s),activeDataKey:e,activeCoordinate:r.tooltipPosition,activeGraphicalItemId:t}))}};function JY(n){var{tooltipEntrySettings:e}=n,t=Ct(),i=Un(),r=C.useRef(null);return C.useLayoutEffect(()=>{i||(r.current===null?t(g9(e)):r.current!==e&&t(v9({prev:r.current,next:e})),r.current=e)},[e,t,i]),C.useLayoutEffect(()=>()=>{r.current&&(t(y9(r.current)),r.current=null)},[t]),null}function eX(n){var{legendPayload:e}=n,t=Ct(),i=Un(),r=C.useRef(null);return C.useLayoutEffect(()=>{i||(r.current===null?t(Z6(e)):r.current!==e&&t(Q6({prev:r.current,next:e})),r.current=e)},[t,i,e]),C.useLayoutEffect(()=>()=>{r.current&&(t(J6(r.current)),r.current=null)},[t]),null}var Sy,tX=()=>{var[n]=C.useState(()=>Pc("uid-"));return n},nX=(Sy=ML.useId)!==null&&Sy!==void 0?Sy:tX;function PR(n,e){var t=nX();return e||(n?"".concat(n,"-").concat(t):t)}var iX=C.createContext(void 0),rX=n=>{var{id:e,type:t,children:i}=n,r=PR("recharts-".concat(t),e);return C.createElement(iX.Provider,{value:r},i(r))},aX={cartesianItems:[],polarItems:[]},DR=Fn({name:"graphicalItems",initialState:aX,reducers:{addCartesianGraphicalItem:{reducer(n,e){n.cartesianItems.push(e.payload)},prepare:ft()},replaceCartesianGraphicalItem:{reducer(n,e){var{prev:t,next:i}=e.payload,r=Bi(n).cartesianItems.indexOf(t);r>-1&&(n.cartesianItems[r]=i)},prepare:ft()},removeCartesianGraphicalItem:{reducer(n,e){var t=Bi(n).cartesianItems.indexOf(e.payload);t>-1&&n.cartesianItems.splice(t,1)},prepare:ft()},addPolarGraphicalItem:{reducer(n,e){n.polarItems.push(e.payload)},prepare:ft()},removePolarGraphicalItem:{reducer(n,e){var t=Bi(n).polarItems.indexOf(e.payload);t>-1&&n.polarItems.splice(t,1)},prepare:ft()}}}),{addCartesianGraphicalItem:sX,replaceCartesianGraphicalItem:oX,removeCartesianGraphicalItem:lX,addPolarGraphicalItem:EQ,removePolarGraphicalItem:_Q}=DR.actions,cX=DR.reducer,uX=n=>{var e=Ct(),t=C.useRef(null);return C.useLayoutEffect(()=>{t.current===null?e(sX(n)):t.current!==n&&e(oX({prev:t.current,next:n})),t.current=n},[e,n]),C.useLayoutEffect(()=>()=>{t.current&&(e(lX(t.current)),t.current=null)},[e]),null},dX=C.memo(uX);function NO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function jO(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(t),!0).forEach(function(i){hX(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):NO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function hX(n,e,t){return(e=fX(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function fX(n){var e=pX(n,"string");return typeof e=="symbol"?e:e+""}function pX(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var mX={xAxis:{},yAxis:{},zAxis:{}},kR=Fn({name:"cartesianAxis",initialState:mX,reducers:{addXAxis:{reducer(n,e){n.xAxis[e.payload.id]=e.payload},prepare:ft()},replaceXAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.xAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.xAxis[t.id],n.xAxis[i.id]=i)},prepare:ft()},removeXAxis:{reducer(n,e){delete n.xAxis[e.payload.id]},prepare:ft()},addYAxis:{reducer(n,e){n.yAxis[e.payload.id]=e.payload},prepare:ft()},replaceYAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.yAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.yAxis[t.id],n.yAxis[i.id]=i)},prepare:ft()},removeYAxis:{reducer(n,e){delete n.yAxis[e.payload.id]},prepare:ft()},addZAxis:{reducer(n,e){n.zAxis[e.payload.id]=e.payload},prepare:ft()},replaceZAxis:{reducer(n,e){var{prev:t,next:i}=e.payload;n.zAxis[t.id]!==void 0&&(t.id!==i.id&&delete n.zAxis[t.id],n.zAxis[i.id]=i)},prepare:ft()},removeZAxis:{reducer(n,e){delete n.zAxis[e.payload.id]},prepare:ft()},updateYAxisWidth(n,e){var{id:t,width:i}=e.payload,r=n.yAxis[t];if(r){var s=r.widthHistory||[];if(s.length===3&&s[0]===s[2]&&i===s[1]&&i!==r.width&&Math.abs(i-s[0])<=1)return;var o=[...s,i].slice(-3);n.yAxis[t]=jO(jO({},n.yAxis[t]),{},{width:i,widthHistory:o})}}}}),{addXAxis:gX,replaceXAxis:vX,removeXAxis:yX,addYAxis:bX,replaceYAxis:xX,removeYAxis:wX,addZAxis:CQ,replaceZAxis:TQ,removeZAxis:OQ,updateYAxisWidth:AX}=kR.actions,SX=kR.reducer,EX=X([Kt],n=>({top:n.top,bottom:n.bottom,left:n.left,right:n.right})),_X=X([EX,Xr,Wr],(n,e,t)=>{if(!(!n||e==null||t==null))return{x:n.left,y:n.top,width:Math.max(0,e-n.left-n.right),height:Math.max(0,t-n.top-n.bottom)}}),RR=()=>be(_X),CX="Invariant failed";function TX(n,e){throw new Error(CX)}var OX=["x","y"];function Bb(){return Bb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Bb.apply(null,arguments)}function LO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mc(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?LO(Object(t),!0).forEach(function(i){MX(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):LO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function MX(n,e,t){return(e=PX(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function PX(n){var e=DX(n,"string");return typeof e=="symbol"?e:e+""}function DX(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function kX(n,e){if(n==null)return{};var t,i,r=RX(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function RX(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function NX(n,e){var{x:t,y:i}=n,r=kX(n,OX),s="".concat(t),o=parseInt(s,10),c="".concat(i),u=parseInt(c,10),h="".concat(e.height||r.height),f=parseInt(h,10),p="".concat(e.width||r.width),g=parseInt(p,10);return mc(mc(mc(mc(mc({},e),r),o?{x:o}:{}),u?{y:u}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function pf(n){return C.createElement(QY,Bb({shapeType:"rectangle",propTransformer:NX,activeClassName:"recharts-active-bar"},n))}var jX=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(i,r)=>{if(ge(e))return e;var s=ge(i)||Wt(i);return s?e(i,r):(s||TX(),t)}},LX={},NR=Fn({name:"errorBars",initialState:LX,reducers:{addErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]||(n[t]=[]),n[t].push(i)},replaceErrorBar:(n,e)=>{var{itemId:t,prev:i,next:r}=e.payload;n[t]&&(n[t]=n[t].map(s=>s.dataKey===i.dataKey&&s.direction===i.direction?r:s))},removeErrorBar:(n,e)=>{var{itemId:t,errorBar:i}=e.payload;n[t]&&(n[t]=n[t].filter(r=>r.dataKey!==i.dataKey||r.direction!==i.direction))}}}),{addErrorBar:MQ,replaceErrorBar:PQ,removeErrorBar:DQ}=NR.actions,IX=NR.reducer,BX=["children"];function zX(n,e){if(n==null)return{};var t,i,r=FX(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function FX(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var UX={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},HX=C.createContext(UX);function $X(n){var{children:e}=n,t=zX(n,BX);return C.createElement(HX.Provider,{value:t},e)}function jR(n,e){var t,i,r=be(h=>Zr(h,n)),s=be(h=>Qr(h,e)),o=(t=r?.allowDataOverflow)!==null&&t!==void 0?t:Vt.allowDataOverflow,c=(i=s?.allowDataOverflow)!==null&&i!==void 0?i:Yt.allowDataOverflow,u=o||c;return{needClip:u,needClipX:o,needClipY:c}}function qX(n){var{xAxisId:e,yAxisId:t,clipPathId:i}=n,r=RR(),{needClipX:s,needClipY:o,needClip:c}=jR(e,t);if(!c||!r)return null;var{x:u,y:h,width:f,height:p}=r;return C.createElement("clipPath",{id:"clipPath-".concat(i)},C.createElement("rect",{x:s?u:u-f/2,y:o?h:h-p/2,width:s?f:f*2,height:o?p:p*2}))}function GX(n,e){return n&&typeof n=="object"&&"zIndex"in n&&typeof n.zIndex=="number"&&_t(n.zIndex)?n.zIndex:e}var Ey={exports:{}},_y={};var IO;function VX(){if(IO)return _y;IO=1;var n=Zo();function e(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,r=n.useRef,s=n.useEffect,o=n.useMemo,c=n.useDebugValue;return _y.useSyncExternalStoreWithSelector=function(u,h,f,p,g){var v=r(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=o(function(){function A(T){if(!S){if(S=!0,M=T,T=p(T),g!==void 0&&w.hasValue){var P=w.value;if(g(P,T))return _=P}return _=T}if(P=_,t(M,T))return P;var R=p(T);return g!==void 0&&g(P,R)?(M=T,P):(M=T,_=R)}var S=!1,M,_,D=f===void 0?null:f;return[function(){return A(h())},D===null?void 0:function(){return A(D())}]},[h,f,p,g]);var b=i(u,v[0],v[1]);return s(function(){w.hasValue=!0,w.value=b},[b]),c(b),b},_y}var BO;function YX(){return BO||(BO=1,Ey.exports=VX()),Ey.exports}YX();function XX(n){n()}function WX(){let n=null,e=null;return{clear(){n=null,e=null},notify(){XX(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const r=e={callback:t,next:null,prev:e};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:e=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var zO={notify(){},get:()=>[]};function KX(n,e){let t,i=zO,r=0,s=!1;function o(b){f();const A=i.subscribe(b);let S=!1;return()=>{S||(S=!0,A(),p())}}function c(){i.notify()}function u(){w.onStateChange&&w.onStateChange()}function h(){return s}function f(){r++,t||(t=n.subscribe(u),i=WX())}function p(){r--,t&&r===0&&(t(),t=void 0,i.clear(),i=zO)}function g(){s||(s=!0,f())}function v(){s&&(s=!1,p())}const w={addNestedSub:o,notifyNestedSubs:c,handleChangeWrapper:u,isSubscribed:h,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>i};return w}var ZX=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QX=ZX(),JX=()=>typeof navigator<"u"&&navigator.product==="ReactNative",eW=JX(),tW=()=>QX||eW?C.useLayoutEffect:C.useEffect,nW=tW();function FO(n,e){return n===e?n!==0||e!==0||1/n===1/e:n!==n&&e!==e}function iW(n,e){if(FO(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!FO(n[t[r]],e[t[r]]))return!1;return!0}var rW=Symbol.for("react-redux-context"),aW=typeof globalThis<"u"?globalThis:{};function sW(){if(!C.createContext)return{};const n=aW[rW]??=new Map;let e=n.get(C.createContext);return e||(e=C.createContext(null),n.set(C.createContext,e)),e}var oW=sW();function lW(n){const{children:e,context:t,serverState:i,store:r}=n,s=C.useMemo(()=>{const u=KX(r);return{store:r,subscription:u,getServerState:i?()=>i:void 0}},[r,i]),o=C.useMemo(()=>r.getState(),[r]);nW(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),o!==r.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,o]);const c=t||oW;return C.createElement(c.Provider,{value:s},e)}var cW=lW,uW=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function dW(n,e){return n==null&&e==null?!0:typeof n=="number"&&typeof e=="number"?n===e||n!==n&&e!==e:n===e}function U1(n,e){var t=new Set([...Object.keys(n),...Object.keys(e)]);for(var i of t)if(uW.has(i)){if(n[i]==null&&e[i]==null)continue;if(!iW(n[i],e[i]))return!1}else if(!dW(n[i],e[i]))return!1;return!0}var hW=["onMouseEnter","onMouseLeave","onClick"],fW=["value","background","tooltipPosition"],pW=["id"],mW=["onMouseEnter","onClick","onMouseLeave"];function Vr(){return Vr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Vr.apply(null,arguments)}function UO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function wn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?UO(Object(t),!0).forEach(function(i){gW(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):UO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function gW(n,e,t){return(e=vW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function vW(n){var e=yW(n,"string");return typeof e=="symbol"?e:e+""}function yW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function mf(n,e){if(n==null)return{};var t,i,r=bW(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function bW(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var xW=n=>{var{dataKey:e,name:t,fill:i,legendType:r,hide:s}=n;return[{inactive:s,dataKey:e,type:r,color:i,value:_P(t,e),payload:n}]},wW=C.memo(n=>{var{dataKey:e,stroke:t,strokeWidth:i,fill:r,name:s,hide:o,unit:c,tooltipType:u}=n,h={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:t,strokeWidth:i,fill:r,dataKey:e,nameKey:void 0,name:_P(s,e),hide:o,type:u,color:r,unit:c}};return C.createElement(JY,{tooltipEntrySettings:h})});function AW(n){var e=be(Ko),{data:t,dataKey:i,background:r,allOtherBarProps:s}=n,{onMouseEnter:o,onMouseLeave:c,onClick:u}=s,h=mf(s,hW),f=TR(o,i),p=OR(c),g=MR(u,i);if(!r||t==null)return null;var v=m0(r);return C.createElement(ea,{zIndex:GX(r,Sn.barBackground)},t.map((w,b)=>{var{value:A,background:S,tooltipPosition:M}=w,_=mf(w,fW);if(!S)return null;var D=f(w,b),T=p(w,b),P=g(w,b),R=wn(wn(wn(wn(wn({option:r,isActive:String(b)===e},_),{},{fill:"#eee"},S),v),A0(h,w,b)),{},{onMouseEnter:D,onMouseLeave:T,onClick:P,dataKey:i,index:b,className:"recharts-bar-background-rectangle"});return C.createElement(pf,Vr({key:"background-bar-".concat(b)},R))}))}function SW(n){var{showLabels:e,children:t,rects:i}=n,r=i?.map(s=>{var o={x:s.x,y:s.y,width:s.width,lowerWidth:s.width,upperWidth:s.width,height:s.height};return wn(wn({},o),{},{value:s.value,payload:s.payload,parentViewBox:s.parentViewBox,viewBox:o,fill:s.fill})});return C.createElement(EY,{value:e?r:void 0},t)}function EW(n){var{shape:e,activeBar:t,baseProps:i,entry:r,index:s,dataKey:o}=n,c=be(Ko),u=be(iR),h=t&&String(s)===c&&(u==null||o===u),f=h?t:e;return h?C.createElement(ea,{zIndex:Sn.activeBar},C.createElement(pf,Vr({},i,{name:String(i.name)},r,{isActive:h,option:f,index:s,dataKey:o}))):C.createElement(pf,Vr({},i,{name:String(i.name)},r,{isActive:h,option:f,index:s,dataKey:o}))}function _W(n){var{shape:e,baseProps:t,entry:i,index:r,dataKey:s}=n;return C.createElement(pf,Vr({},t,{name:String(t.name)},i,{isActive:!1,option:e,index:r,dataKey:s}))}function CW(n){var e,{data:t,props:i}=n,r=(e=Br(i))!==null&&e!==void 0?e:{},{id:s}=r,o=mf(r,pW),{shape:c,dataKey:u,activeBar:h}=i,{onMouseEnter:f,onClick:p,onMouseLeave:g}=i,v=mf(i,mW),w=TR(f,u),b=OR(g),A=MR(p,u);return t?C.createElement(C.Fragment,null,t.map((S,M)=>C.createElement(zr,Vr({key:"rectangle-".concat(S?.x,"-").concat(S?.y,"-").concat(S?.value,"-").concat(M),className:"recharts-bar-rectangle"},A0(v,S,M),{onMouseEnter:w(S,M),onMouseLeave:b(S,M),onClick:A(S,M)}),h?C.createElement(EW,{shape:c,activeBar:h,baseProps:o,entry:S,index:M,dataKey:u}):C.createElement(_W,{shape:c,baseProps:o,entry:S,index:M,dataKey:u})))):null}function TW(n){var{props:e,previousRectanglesRef:t}=n,{data:i,layout:r,isAnimationActive:s,animationBegin:o,animationDuration:c,animationEasing:u,onAnimationEnd:h,onAnimationStart:f}=e,p=t.current,g=B0(e,"recharts-bar-"),[v,w]=C.useState(!1),b=!v,A=C.useCallback(()=>{typeof h=="function"&&h(),w(!1)},[h]),S=C.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return C.createElement(SW,{showLabels:b,rects:i},C.createElement(I0,{animationId:g,begin:o,duration:c,isActive:s,easing:u,onAnimationEnd:A,onAnimationStart:S,key:g},M=>{var _=M===1?i:i?.map((D,T)=>{var P=p&&p[T];if(P)return wn(wn({},D),{},{x:un(P.x,D.x,M),y:un(P.y,D.y,M),width:un(P.width,D.width,M),height:un(P.height,D.height,M)});if(r==="horizontal"){var R=un(0,D.height,M),N=un(D.stackedBarStart,D.y,M);return wn(wn({},D),{},{y:N,height:R})}var I=un(0,D.width,M),W=un(D.stackedBarStart,D.x,M);return wn(wn({},D),{},{width:I,x:W})});return M>0&&(t.current=_??null),_==null?null:C.createElement(zr,null,C.createElement(CW,{props:e,data:_}))}),C.createElement(TY,{label:e.label}),e.children)}function OW(n){var e=C.useRef(null);return C.createElement(TW,{previousRectanglesRef:e,props:n})}var LR=0,MW=(n,e)=>{var t=Array.isArray(n.value)?n.value[1]:n.value;return{x:n.x,y:n.y,value:t,errorVal:gn(n,e)}};class PW extends C.PureComponent{render(){var{hide:e,data:t,dataKey:i,className:r,xAxisId:s,yAxisId:o,needClip:c,background:u,id:h}=this.props;if(e||t==null)return null;var f=ct("recharts-bar",r),p=h;return C.createElement(zr,{className:f,id:h},c&&C.createElement("defs",null,C.createElement(qX,{clipPathId:p,xAxisId:s,yAxisId:o})),C.createElement(zr,{className:"recharts-bar-rectangles",clipPath:c?"url(#clipPath-".concat(p,")"):void 0},C.createElement(AW,{data:t,dataKey:i,background:u,allOtherBarProps:this.props}),C.createElement(OW,this.props)))}}var DW={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:LR,xAxisId:0,yAxisId:0,zIndex:Sn.bar};function kW(n){var{xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:f}=n,{needClip:p}=jR(e,t),g=Yf(),v=Un(),w=RY(n.children,B1),b=be(M=>sK(M,e,t,v,n.id,w));if(g!=="vertical"&&g!=="horizontal")return null;var A,S=b?.[0];return S==null||S.height==null||S.width==null?A=0:A=g==="vertical"?S.height/2:S.width/2,C.createElement($X,{xAxisId:e,yAxisId:t,data:b,dataPointFormatter:MW,errorBarOffset:A},C.createElement(PW,Vr({},n,{layout:g,needClip:p,data:b,xAxisId:e,yAxisId:t,hide:i,legendType:r,minPointSize:s,activeBar:o,animationBegin:c,animationDuration:u,animationEasing:h,isAnimationActive:f})))}function RW(n){var{layout:e,barSettings:{dataKey:t,minPointSize:i},pos:r,bandSize:s,xAxis:o,yAxis:c,xAxisTicks:u,yAxisTicks:h,stackedData:f,displayedData:p,offset:g,cells:v,parentViewBox:w,dataStartIndex:b}=n,A=e==="horizontal"?c:o,S=f?A.scale.domain():null,M=e6({numericAxis:A}),_=A.scale(M);return p.map((D,T)=>{var P,R,N,I,W,U;f?P=XU(f[T+b],S):(P=gn(D,t),Array.isArray(P)||(P=[M,P]));var K=jX(i,LR)(P[1],T);if(e==="horizontal"){var se,[oe,le]=[c.scale(P[0]),c.scale(P[1])];R=hC({axis:o,ticks:u,bandSize:s,offset:r.offset,entry:D,index:T}),N=(se=le??oe)!==null&&se!==void 0?se:void 0,I=r.size;var B=oe-le;if(W=zi(B)?0:B,U={x:R,y:g.top,width:I,height:g.height},Math.abs(K)>0&&Math.abs(W)<Math.abs(K)){var H=Bn(W||K)*(Math.abs(K)-Math.abs(W));N-=H,W+=H}}else{var[te,re]=[o.scale(P[0]),o.scale(P[1])];if(R=te,N=hC({axis:c,ticks:h,bandSize:s,offset:r.offset,entry:D,index:T}),I=re-te,W=r.size,U={x:g.left,y:N,width:g.width,height:W},Math.abs(K)>0&&Math.abs(I)<Math.abs(K)){var xe=Bn(I||K)*(Math.abs(K)-Math.abs(I));I+=xe}}if(R==null||N==null||I==null||W==null)return null;var L=wn(wn({},D),{},{stackedBarStart:_,x:R,y:N,width:I,height:W,value:f?P:P[1],payload:D,background:U,tooltipPosition:{x:R+I/2,y:N+W/2},parentViewBox:w},v&&v[T]&&v[T].props);return L}).filter(Boolean)}function NW(n){var e=ai(n,DW),t=Un();return C.createElement(rX,{id:e.id,type:"bar"},i=>C.createElement(C.Fragment,null,C.createElement(eX,{legendPayload:xW(e)}),C.createElement(wW,{dataKey:e.dataKey,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType}),C.createElement(dX,{type:"bar",id:i,data:void 0,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,stackId:JU(e.stackId),hide:e.hide,barSize:e.barSize,minPointSize:e.minPointSize,maxBarSize:e.maxBarSize,isPanorama:t}),C.createElement(ea,{zIndex:e.zIndex},C.createElement(kW,Vr({},e,{id:i})))))}var IR=C.memo(NW,U1);IR.displayName="Bar";function HO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function uh(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(t),!0).forEach(function(i){jW(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function jW(n,e,t){return(e=LW(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function LW(n){var e=IW(n,"string");return typeof e=="symbol"?e:e+""}function IW(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var BW=(n,e)=>e,zW=(n,e,t)=>t,FW=(n,e,t,i)=>i,UW=(n,e,t,i,r)=>r,wu=X([b1,UW],(n,e)=>n.filter(t=>t.type==="bar").find(t=>t.id===e)),HW=X([wu],n=>n?.maxBarSize),$W=(n,e,t,i,r,s)=>s,$O=(n,e,t)=>{var i=t??n;if(!Wt(i))return Fi(i,e,0)},qW=X([We,b1,BW,zW,FW],(n,e,t,i,r)=>e.filter(s=>n==="horizontal"?s.xAxisId===t:s.yAxisId===i).filter(s=>s.isPanorama===r).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),GW=(n,e,t,i)=>{var r=We(n);return r==="horizontal"?Db(n,"yAxis",t,i):Db(n,"xAxis",e,i)},VW=(n,e,t)=>{var i=We(n);return i==="horizontal"?$T(n,"xAxis",e):$T(n,"yAxis",t)},YW=(n,e,t)=>{var i={},r=n.filter(lp),s=n.filter(h=>h.stackId==null),o=r.reduce((h,f)=>(h[f.stackId]||(h[f.stackId]=[]),h[f.stackId].push(f),h),i),c=Object.entries(o).map(h=>{var[f,p]=h,g=p.map(w=>w.dataKey),v=$O(e,t,p[0].barSize);return{stackId:f,dataKeys:g,barSize:v}}),u=s.map(h=>{var f=[h.dataKey].filter(g=>g!=null),p=$O(e,t,h.barSize);return{stackId:void 0,dataKeys:f,barSize:p}});return[...c,...u]},XW=X([qW,cG,VW],YW),WW=(n,e,t,i,r)=>{var s,o,c=wu(n,e,t,i,r);if(c!=null){var u=We(n),h=VD(n),{maxBarSize:f}=c,p=Wt(f)?h:f,g,v;return u==="horizontal"?(g=Wo(n,"xAxis",e,i),v=Xo(n,"xAxis",e,i)):(g=Wo(n,"yAxis",t,i),v=Xo(n,"yAxis",t,i)),(s=(o=Uh(g,v,!0))!==null&&o!==void 0?o:p)!==null&&s!==void 0?s:0}},BR=(n,e,t,i)=>{var r=We(n),s,o;return r==="horizontal"?(s=Wo(n,"xAxis",e,i),o=Xo(n,"xAxis",e,i)):(s=Wo(n,"yAxis",t,i),o=Xo(n,"yAxis",t,i)),Uh(s,o)};function KW(n,e,t,i,r){var s=i.length;if(!(s<1)){var o=Fi(n,t,0,!0),c,u=[];if(_t(i[0].barSize)){var h=!1,f=t/s,p=i.reduce((S,M)=>S+(M.barSize||0),0);p+=(s-1)*o,p>=t&&(p-=(s-1)*o,o=0),p>=t&&f>0&&(h=!0,f*=.9,p=s*f);var g=(t-p)/2>>0,v={offset:g-o,size:0};c=i.reduce((S,M)=>{var _,D={stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:v.offset+v.size+o,size:h?f:(_=M.barSize)!==null&&_!==void 0?_:0}},T=[...S,D];return v=T[T.length-1].position,T},u)}else{var w=Fi(e,t,0,!0);t-2*w-(s-1)*o<=0&&(o=0);var b=(t-2*w-(s-1)*o)/s;b>1&&(b>>=0);var A=_t(r)?Math.min(b,r):b;c=i.reduce((S,M,_)=>[...S,{stackId:M.stackId,dataKeys:M.dataKeys,position:{offset:w+(b+o)*_+(b-A)/2,size:A}}],u)}return c}}var ZW=(n,e,t,i,r,s,o)=>{var c=Wt(o)?e:o,u=KW(t,i,r!==s?r:s,n,c);return r!==s&&u!=null&&(u=u.map(h=>uh(uh({},h),{},{position:uh(uh({},h.position),{},{offset:h.position.offset-r/2})}))),u},QW=X([XW,VD,lG,YD,WW,BR,HW],ZW),JW=(n,e,t,i)=>Wo(n,"xAxis",e,i),eK=(n,e,t,i)=>Wo(n,"yAxis",t,i),tK=(n,e,t,i)=>Xo(n,"xAxis",e,i),nK=(n,e,t,i)=>Xo(n,"yAxis",t,i),iK=X([QW,wu],(n,e)=>{if(!(n==null||e==null)){var t=n.find(i=>i.stackId===e.stackId&&e.dataKey!=null&&i.dataKeys.includes(e.dataKey));if(t!=null)return t.position}}),rK=(n,e)=>{var t=v1(e);if(!(!n||t==null||e==null)){var{stackId:i}=e;if(i!=null){var r=n[i];if(r){var{stackedData:s}=r;if(s)return s.find(o=>o.key===t)}}}},aK=X([GW,wu],rK),sK=X([Kt,R0,JW,eK,tK,nK,iK,We,l1,BR,aK,wu,$W],(n,e,t,i,r,s,o,c,u,h,f,p,g)=>{var{chartData:v,dataStartIndex:w,dataEndIndex:b}=u;if(!(p==null||o==null||e==null||c!=="horizontal"&&c!=="vertical"||t==null||i==null||r==null||s==null||h==null)){var{data:A}=p,S;if(A!=null&&A.length>0?S=A:S=v?.slice(w,b+1),S!=null)return RW({layout:c,barSettings:p,pos:o,parentViewBox:e,bandSize:h,xAxis:t,yAxis:i,xAxisTicks:r,yAxisTicks:s,stackedData:f,displayedData:S,offset:n,cells:g,dataStartIndex:w})}}),oK=n=>{var{chartData:e}=n,t=Ct(),i=Un();return C.useEffect(()=>i?()=>{}:(t(nO(e)),()=>{t(nO(void 0))}),[e,t,i]),null},qO={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},zR=Fn({name:"brush",initialState:qO,reducers:{setBrushSettings(n,e){return e.payload==null?qO:e.payload}}}),{setBrushSettings:kQ}=zR.actions,lK=zR.reducer;function cK(n,e,t){return(e=uK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uK(n){var e=dK(n,"string");return typeof e=="symbol"?e:e+""}function dK(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}class H1{static create(e){return new H1(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:t,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(i)switch(i){case"start":return this.scale(e);case"middle":{var r=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+r}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(t){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}isInRange(e){var t=this.range(),i=t[0],r=t[t.length-1];return i<=r?e>=i&&e<=r:e>=r&&e<=i}}cK(H1,"EPS",1e-4);function hK(n){return(n%180+180)%180}var fK=function(e){var{width:t,height:i}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=hK(r),o=s*Math.PI/180,c=Math.atan(i/t),u=o>c&&o<Math.PI-c?i/Math.sin(o):t/Math.cos(o);return Math.abs(u)},pK={dots:[],areas:[],lines:[]},FR=Fn({name:"referenceElements",initialState:pK,reducers:{addDot:(n,e)=>{n.dots.push(e.payload)},removeDot:(n,e)=>{var t=Bi(n).dots.findIndex(i=>i===e.payload);t!==-1&&n.dots.splice(t,1)},addArea:(n,e)=>{n.areas.push(e.payload)},removeArea:(n,e)=>{var t=Bi(n).areas.findIndex(i=>i===e.payload);t!==-1&&n.areas.splice(t,1)},addLine:(n,e)=>{n.lines.push(e.payload)},removeLine:(n,e)=>{var t=Bi(n).lines.findIndex(i=>i===e.payload);t!==-1&&n.lines.splice(t,1)}}}),{addDot:RQ,removeDot:NQ,addArea:jQ,removeArea:LQ,addLine:IQ,removeLine:BQ}=FR.actions,mK=FR.reducer,gK=C.createContext(void 0),vK=n=>{var{children:e}=n,[t]=C.useState("".concat(Pc("recharts"),"-clip")),i=RR();if(i==null)return null;var{x:r,y:s,width:o,height:c}=i;return C.createElement(gK.Provider,{value:t},C.createElement("defs",null,C.createElement("clipPath",{id:t},C.createElement("rect",{x:r,y:s,height:c,width:o}))),e)};function UR(n,e){if(e<1)return[];if(e===1)return n;for(var t=[],i=0;i<n.length;i+=e)t.push(n[i]);return t}function yK(n,e,t){var i={width:n.width+e.width,height:n.height+e.height};return fK(i,t)}function bK(n,e,t){var i=t==="width",{x:r,y:s,width:o,height:c}=n;return e===1?{start:i?r:s,end:i?r+o:s+c}:{start:i?r+o:s+c,end:i?r:s}}function gf(n,e,t,i,r){if(n*e<n*i||n*e>n*r)return!1;var s=t();return n*(e-n*s/2-i)>=0&&n*(e+n*s/2-r)<=0}function xK(n,e){return UR(n,e+1)}function wK(n,e,t,i,r){for(var s=(i||[]).slice(),{start:o,end:c}=e,u=0,h=1,f=o,p=function(){var w=i?.[u];if(w===void 0)return{v:UR(i,h)};var b=u,A,S=()=>(A===void 0&&(A=t(w,b)),A),M=w.coordinate,_=u===0||gf(n,M,S,f,c);_||(u=0,f=o,h+=1),_&&(f=M+n*(S()/2+r),u+=h)},g;h<=s.length;)if(g=p(),g)return g.v;return[]}function GO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function pn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?GO(Object(t),!0).forEach(function(i){AK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):GO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function AK(n,e,t){return(e=SK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function SK(n){var e=EK(n,"string");return typeof e=="symbol"?e:e+""}function EK(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _K(n,e,t,i,r){for(var s=(i||[]).slice(),o=s.length,{start:c}=e,{end:u}=e,h=function(g){var v=s[g],w,b=()=>(w===void 0&&(w=t(v,g)),w);if(g===o-1){var A=n*(v.coordinate+n*b()/2-u);s[g]=v=pn(pn({},v),{},{tickCoord:A>0?v.coordinate-A*n:v.coordinate})}else s[g]=v=pn(pn({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var S=gf(n,v.tickCoord,b,c,u);S&&(u=v.tickCoord-n*(b()/2+r),s[g]=pn(pn({},v),{},{isShow:!0}))}},f=o-1;f>=0;f--)h(f);return s}function CK(n,e,t,i,r,s){var o=(i||[]).slice(),c=o.length,{start:u,end:h}=e;if(s){var f=i[c-1],p=t(f,c-1),g=n*(f.coordinate+n*p/2-h);if(o[c-1]=f=pn(pn({},f),{},{tickCoord:g>0?f.coordinate-g*n:f.coordinate}),f.tickCoord!=null){var v=gf(n,f.tickCoord,()=>p,u,h);v&&(h=f.tickCoord-n*(p/2+r),o[c-1]=pn(pn({},f),{},{isShow:!0}))}}for(var w=s?c-1:c,b=function(M){var _=o[M],D,T=()=>(D===void 0&&(D=t(_,M)),D);if(M===0){var P=n*(_.coordinate-n*T()/2-u);o[M]=_=pn(pn({},_),{},{tickCoord:P<0?_.coordinate-P*n:_.coordinate})}else o[M]=_=pn(pn({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var R=gf(n,_.tickCoord,T,u,h);R&&(u=_.tickCoord+n*(T()/2+r),o[M]=pn(pn({},_),{},{isShow:!0}))}},A=0;A<w;A++)b(A);return o}function $1(n,e,t){var{tick:i,ticks:r,viewBox:s,minTickGap:o,orientation:c,interval:u,tickFormatter:h,unit:f,angle:p}=n;if(!r||!r.length||!i)return[];if(ge(u)||ou.isSsr){var g;return(g=xK(r,ge(u)?u:0))!==null&&g!==void 0?g:[]}var v=[],w=c==="top"||c==="bottom"?"width":"height",b=f&&w==="width"?Sc(f,{fontSize:e,letterSpacing:t}):{width:0,height:0},A=(_,D)=>{var T=typeof h=="function"?h(_.value,D):_.value;return w==="width"?yK(Sc(T,{fontSize:e,letterSpacing:t}),b,p):Sc(T,{fontSize:e,letterSpacing:t})[w]},S=r.length>=2?Bn(r[1].coordinate-r[0].coordinate):1,M=bK(s,S,w);return u==="equidistantPreserveStart"?wK(S,M,A,r,o):(u==="preserveStart"||u==="preserveStartEnd"?v=CK(S,M,A,r,o,u==="preserveStartEnd"):v=_K(S,M,A,r,o),v.filter(_=>_.isShow))}var TK=n=>{var{ticks:e,label:t,labelGapWithTick:i=5,tickSize:r=0,tickMargin:s=0}=n,o=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>o&&(o=p.width)}});var c=t?t.getBoundingClientRect().width:0,u=r+s,h=o+u+c+(t?i:0);return Math.round(h)}return 0},OK=["axisLine","width","height","className","hide","ticks","axisType"];function MK(n,e){if(n==null)return{};var t,i,r=PK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function PK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function Es(){return Es=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Es.apply(null,arguments)}function VO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Nt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(t),!0).forEach(function(i){DK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):VO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function DK(n,e,t){return(e=kK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kK(n){var e=RK(n,"string");return typeof e=="symbol"?e:e+""}function RK(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var Lr={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Sn.axis};function NK(n){var{x:e,y:t,width:i,height:r,orientation:s,mirror:o,axisLine:c,otherSvgProps:u}=n;if(!c)return null;var h=Nt(Nt(Nt({},u),Br(c)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!o||s==="bottom"&&o);h=Nt(Nt({},h),{},{x1:e,y1:t+f*r,x2:e+i,y2:t+f*r})}else{var p=+(s==="left"&&!o||s==="right"&&o);h=Nt(Nt({},h),{},{x1:e+p*i,y1:t,x2:e+p*i,y2:t+r})}return C.createElement("line",Es({},h,{className:ct("recharts-cartesian-axis-line",Uo(c,"className"))}))}function jK(n,e,t,i,r,s,o,c,u){var h,f,p,g,v,w,b=c?-1:1,A=n.tickSize||o,S=ge(n.tickCoord)?n.tickCoord:n.coordinate;switch(s){case"top":h=f=n.coordinate,g=t+ +!c*r,p=g-b*A,w=p-b*u,v=S;break;case"left":p=g=n.coordinate,f=e+ +!c*i,h=f-b*A,v=h-b*u,w=S;break;case"right":p=g=n.coordinate,f=e+ +c*i,h=f+b*A,v=h+b*u,w=S;break;default:h=f=n.coordinate,g=t+ +c*r,p=g+b*A,w=p+b*u,v=S;break}return{line:{x1:h,y1:p,x2:f,y2:g},tick:{x:v,y:w}}}function LK(n,e){switch(n){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function IK(n,e){switch(n){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function BK(n){var{option:e,tickProps:t,value:i}=n,r,s=ct(t.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))r=C.cloneElement(e,Nt(Nt({},t),{},{className:s}));else if(typeof e=="function")r=e(Nt(Nt({},t),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(o=ct(o,e?.className)),r=C.createElement(z1,Es({},t,{className:o}),i)}return r}var zK=C.forwardRef((n,e)=>{var{ticks:t=[],tick:i,tickLine:r,stroke:s,tickFormatter:o,unit:c,padding:u,tickTextProps:h,orientation:f,mirror:p,x:g,y:v,width:w,height:b,tickSize:A,tickMargin:S,fontSize:M,letterSpacing:_,getTicksConfig:D,events:T,axisType:P}=n,R=$1(Nt(Nt({},D),{},{ticks:t}),M,_),N=LK(f,p),I=IK(f,p),W=Br(D),U=m0(i),K={};typeof r=="object"&&(K=r);var se=Nt(Nt({},W),{},{fill:"none"},K),oe=R.map(H=>Nt({entry:H},jK(H,g,v,w,b,f,A,p,S))),le=oe.map(H=>{var{entry:te,line:re}=H;return C.createElement(zr,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(te.value,"-").concat(te.coordinate,"-").concat(te.tickCoord)},r&&C.createElement("line",Es({},se,re,{className:ct("recharts-cartesian-axis-tick-line",Uo(r,"className"))})))}),B=oe.map((H,te)=>{var{entry:re,tick:xe}=H,L=Nt(Nt(Nt(Nt({textAnchor:N,verticalAnchor:I},W),{},{stroke:"none",fill:s},U),xe),{},{index:te,payload:re,visibleTicksCount:R.length,tickFormatter:o,padding:u},h);return C.createElement(zr,Es({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(re.value,"-").concat(re.coordinate,"-").concat(re.tickCoord)},A0(T,re,te)),i&&C.createElement(BK,{option:i,tickProps:L,value:"".concat(typeof o=="function"?o(re.value,te):re.value).concat(c||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},B.length>0&&C.createElement(ea,{zIndex:Sn.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:e},B)),le.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},le))}),FK=C.forwardRef((n,e)=>{var{axisLine:t,width:i,height:r,className:s,hide:o,ticks:c,axisType:u}=n,h=MK(n,OK),[f,p]=C.useState(""),[g,v]=C.useState(""),w=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var A;return TK({ticks:w.current,label:(A=n.labelRef)===null||A===void 0?void 0:A.current,labelGapWithTick:5,tickSize:n.tickSize,tickMargin:n.tickMargin})}}));var b=C.useCallback(A=>{if(A){var S=A.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=S;var M=S[0];if(M){var _=window.getComputedStyle(M),D=_.fontSize,T=_.letterSpacing;(D!==f||T!==g)&&(p(D),v(T))}}},[f,g]);return o||i!=null&&i<=0||r!=null&&r<=0?null:C.createElement(ea,{zIndex:n.zIndex},C.createElement(zr,{className:ct("recharts-cartesian-axis",s)},C.createElement(NK,{x:n.x,y:n.y,width:i,height:r,orientation:n.orientation,mirror:n.mirror,axisLine:t,otherSvgProps:Br(n)}),C.createElement(zK,{ref:b,axisType:u,events:h,fontSize:f,getTicksConfig:n,height:n.height,letterSpacing:g,mirror:n.mirror,orientation:n.orientation,padding:n.padding,stroke:n.stroke,tick:n.tick,tickFormatter:n.tickFormatter,tickLine:n.tickLine,tickMargin:n.tickMargin,tickSize:n.tickSize,tickTextProps:n.tickTextProps,ticks:c,unit:n.unit,width:n.width,x:n.x,y:n.y}),C.createElement(iY,{x:n.x,y:n.y,width:n.width,height:n.height,lowerWidth:n.width,upperWidth:n.width},C.createElement(fY,{label:n.label,labelRef:n.labelRef}),n.children)))}),q1=C.forwardRef((n,e)=>{var t=ai(n,Lr);return C.createElement(FK,Es({},t,{ref:e}))});q1.displayName="CartesianAxis";var UK=["x1","y1","x2","y2","key"],HK=["offset"],$K=["xAxisId","yAxisId"],qK=["xAxisId","yAxisId"];function YO(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function mn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(t),!0).forEach(function(i){GK(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):YO(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function GK(n,e,t){return(e=VK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function VK(n){var e=YK(n,"string");return typeof e=="symbol"?e:e+""}function YK(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hs(){return hs=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},hs.apply(null,arguments)}function vf(n,e){if(n==null)return{};var t,i,r=XK(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function XK(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var WK=n=>{var{fill:e}=n;if(!e||e==="none")return null;var{fillOpacity:t,x:i,y:r,width:s,height:o,ry:c}=n;return C.createElement("rect",{x:i,y:r,ry:c,width:s,height:o,stroke:"none",fill:e,fillOpacity:t,className:"recharts-cartesian-grid-bg"})};function HR(n){var{option:e,lineItemProps:t}=n,i;if(C.isValidElement(e))i=C.cloneElement(e,t);else if(typeof e=="function")i=e(t);else{var r,{x1:s,y1:o,x2:c,y2:u,key:h}=t,f=vf(t,UK),p=(r=Br(f))!==null&&r!==void 0?r:{},{offset:g}=p,v=vf(p,HK);i=C.createElement("line",hs({},v,{x1:s,y1:o,x2:c,y2:u,fill:"none",key:h}))}return i}function KK(n){var{x:e,width:t,horizontal:i=!0,horizontalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:s,yAxisId:o}=n,c=vf(n,$K),u=r.map((h,f)=>{var p=mn(mn({},c),{},{x1:e,y1:h,x2:e+t,y2:h,key:"line-".concat(f),index:f});return C.createElement(HR,{key:"line-".concat(f),option:i,lineItemProps:p})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function ZK(n){var{y:e,height:t,vertical:i=!0,verticalPoints:r}=n;if(!i||!r||!r.length)return null;var{xAxisId:s,yAxisId:o}=n,c=vf(n,qK),u=r.map((h,f)=>{var p=mn(mn({},c),{},{x1:h,y1:e,x2:h,y2:e+t,key:"line-".concat(f),index:f});return C.createElement(HR,{option:i,lineItemProps:p,key:"line-".concat(f)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function QK(n){var{horizontalFill:e,fillOpacity:t,x:i,y:r,width:s,height:o,horizontalPoints:c,horizontal:u=!0}=n;if(!u||!e||!e.length||c==null)return null;var h=c.map(p=>Math.round(p+r-r)).sort((p,g)=>p-g);r!==h[0]&&h.unshift(0);var f=h.map((p,g)=>{var v=!h[g+1],w=v?r+o-p:h[g+1]-p;if(w<=0)return null;var b=g%e.length;return C.createElement("rect",{key:"react-".concat(g),y:p,x:i,height:w,width:s,stroke:"none",fill:e[b],fillOpacity:t,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function JK(n){var{vertical:e=!0,verticalFill:t,fillOpacity:i,x:r,y:s,width:o,height:c,verticalPoints:u}=n;if(!e||!t||!t.length)return null;var h=u.map(p=>Math.round(p+r-r)).sort((p,g)=>p-g);r!==h[0]&&h.unshift(0);var f=h.map((p,g)=>{var v=!h[g+1],w=v?r+o-p:h[g+1]-p;if(w<=0)return null;var b=g%t.length;return C.createElement("rect",{key:"react-".concat(g),x:p,y:s,width:w,height:c,stroke:"none",fill:t[b],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var eZ=(n,e)=>{var{xAxis:t,width:i,height:r,offset:s}=n;return SP($1(mn(mn(mn({},Lr),t),{},{ticks:EP(t),viewBox:{x:0,y:0,width:i,height:r}})),s.left,s.left+s.width,e)},tZ=(n,e)=>{var{yAxis:t,width:i,height:r,offset:s}=n;return SP($1(mn(mn(mn({},Lr),t),{},{ticks:EP(t),viewBox:{x:0,y:0,width:i,height:r}})),s.top,s.top+s.height,e)},nZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Sn.grid};function $R(n){var e=kP(),t=RP(),i=DP(),r=mn(mn({},ai(n,nZ)),{},{x:ge(n.x)?n.x:i.left,y:ge(n.y)?n.y:i.top,width:ge(n.width)?n.width:i.width,height:ge(n.height)?n.height:i.height}),{xAxisId:s,yAxisId:o,x:c,y:u,width:h,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:v}=r,w=Un(),b=be(I=>qT(I,"xAxis",s,w)),A=be(I=>qT(I,"yAxis",o,w));if(!rr(h)||!rr(f)||!ge(c)||!ge(u))return null;var S=r.verticalCoordinatesGenerator||eZ,M=r.horizontalCoordinatesGenerator||tZ,{horizontalPoints:_,verticalPoints:D}=r;if((!_||!_.length)&&typeof M=="function"){var T=g&&g.length,P=M({yAxis:A?mn(mn({},A),{},{ticks:T?g:A.ticks}):void 0,width:e??h,height:t??f,offset:i},T?!0:p);Hh(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(_=P)}if((!D||!D.length)&&typeof S=="function"){var R=v&&v.length,N=S({xAxis:b?mn(mn({},b),{},{ticks:R?v:b.ticks}):void 0,width:e??h,height:t??f,offset:i},R?!0:p);Hh(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(D=N)}return C.createElement(ea,{zIndex:r.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(WK,{fill:r.fill,fillOpacity:r.fillOpacity,x:r.x,y:r.y,width:r.width,height:r.height,ry:r.ry}),C.createElement(QK,hs({},r,{horizontalPoints:_})),C.createElement(JK,hs({},r,{verticalPoints:D})),C.createElement(KK,hs({},r,{offset:i,horizontalPoints:_,xAxis:b,yAxis:A})),C.createElement(ZK,hs({},r,{offset:i,verticalPoints:D,xAxis:b,yAxis:A}))))}$R.displayName="CartesianGrid";var iZ=["domain","range"],rZ=["domain","range"];function XO(n,e){if(n==null)return{};var t,i,r=aZ(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function aZ(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function WO(n,e){return n===e?!0:Array.isArray(n)&&n.length===2&&Array.isArray(e)&&e.length===2?n[0]===e[0]&&n[1]===e[1]:!1}function qR(n,e){if(n===e)return!0;var{domain:t,range:i}=n,r=XO(n,iZ),{domain:s,range:o}=e,c=XO(e,rZ);return!WO(t,s)||!WO(i,o)?!1:U1(r,c)}var sZ=["dangerouslySetInnerHTML","ticks"],oZ=["id"];function zb(){return zb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zb.apply(null,arguments)}function KO(n,e){if(n==null)return{};var t,i,r=lZ(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function lZ(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function cZ(n){var e=Ct(),t=C.useRef(null);return C.useLayoutEffect(()=>{t.current===null?e(gX(n)):t.current!==n&&e(vX({prev:t.current,next:n})),t.current=n},[n,e]),C.useLayoutEffect(()=>()=>{t.current&&(e(yX(t.current)),t.current=null)},[e]),null}var uZ=n=>{var{xAxisId:e,className:t}=n,i=be(R0),r=Un(),s="xAxis",o=be(A=>rl(A,s,e,r)),c=be(A=>Ik(A,s,e,r)),u=be(A=>Rk(A,e)),h=be(A=>s9(A,e)),f=be(A=>nk(A,e));if(u==null||h==null||f==null)return null;var{dangerouslySetInnerHTML:p,ticks:g}=n,v=KO(n,sZ),{id:w}=f,b=KO(f,oZ);return C.createElement(q1,zb({},v,b,{scale:o,x:h.x,y:h.y,width:u.width,height:u.height,className:ct("recharts-".concat(s," ").concat(s),t),viewBox:i,ticks:c,axisType:s}))},dZ={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:Vt.allowDecimals,allowDuplicatedCategory:Vt.allowDuplicatedCategory,angle:Vt.angle,axisLine:Lr.axisLine,height:Vt.height,hide:!1,includeHidden:Vt.includeHidden,interval:Vt.interval,minTickGap:Vt.minTickGap,mirror:Vt.mirror,orientation:Vt.orientation,padding:Vt.padding,reversed:Vt.reversed,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,tickLine:Lr.tickLine,tickSize:Lr.tickSize,type:Vt.type,xAxisId:0},hZ=n=>{var e=ai(n,dZ);return C.createElement(C.Fragment,null,C.createElement(cZ,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(uZ,e))},GR=C.memo(hZ,qR);GR.displayName="XAxis";var fZ=["dangerouslySetInnerHTML","ticks"],pZ=["id"];function Fb(){return Fb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Fb.apply(null,arguments)}function ZO(n,e){if(n==null)return{};var t,i,r=mZ(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function mZ(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function gZ(n){var e=Ct(),t=C.useRef(null);return C.useLayoutEffect(()=>{t.current===null?e(bX(n)):t.current!==n&&e(xX({prev:t.current,next:n})),t.current=n},[n,e]),C.useLayoutEffect(()=>()=>{t.current&&(e(wX(t.current)),t.current=null)},[e]),null}var vZ=n=>{var{yAxisId:e,className:t,width:i,label:r}=n,s=C.useRef(null),o=C.useRef(null),c=be(R0),u=Un(),h=Ct(),f="yAxis",p=be(T=>rl(T,f,e,u)),g=be(T=>Nk(T,e)),v=be(T=>l9(T,e)),w=be(T=>Ik(T,f,e,u)),b=be(T=>ik(T,e));if(C.useLayoutEffect(()=>{if(!(i!=="auto"||!g||F1(r)||C.isValidElement(r)||b==null)){var T=s.current;if(T){var P=T.getCalculatedWidth();Math.round(g.width)!==Math.round(P)&&h(AX({id:e,width:P}))}}},[w,g,h,r,e,i,b]),g==null||v==null||b==null)return null;var{dangerouslySetInnerHTML:A,ticks:S}=n,M=ZO(n,fZ),{id:_}=b,D=ZO(b,pZ);return C.createElement(q1,Fb({},M,D,{ref:s,labelRef:o,scale:p,x:v.x,y:v.y,tickTextProps:i==="auto"?{width:void 0}:{width:i},width:g.width,height:g.height,className:ct("recharts-".concat(f," ").concat(f),t),viewBox:c,ticks:w,axisType:f}))},yZ={allowDataOverflow:Yt.allowDataOverflow,allowDecimals:Yt.allowDecimals,allowDuplicatedCategory:Yt.allowDuplicatedCategory,angle:Yt.angle,axisLine:Lr.axisLine,hide:!1,includeHidden:Yt.includeHidden,interval:Yt.interval,minTickGap:Yt.minTickGap,mirror:Yt.mirror,orientation:Yt.orientation,padding:Yt.padding,reversed:Yt.reversed,scale:Yt.scale,tick:Yt.tick,tickCount:Yt.tickCount,tickLine:Lr.tickLine,tickSize:Lr.tickSize,type:Yt.type,width:Yt.width,yAxisId:0},bZ=n=>{var e=ai(n,yZ);return C.createElement(C.Fragment,null,C.createElement(gZ,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(vZ,e))},VR=C.memo(bZ,qR);VR.displayName="YAxis";var xZ=(n,e)=>e,G1=X([xZ,We,ek,Ft,Jk,Jr,AV,Kt],MV),V1=n=>{var e=n.currentTarget.getBoundingClientRect(),t=e.width/n.currentTarget.offsetWidth,i=e.height/n.currentTarget.offsetHeight;return{chartX:Math.round((n.clientX-e.left)/t),chartY:Math.round((n.clientY-e.top)/i)}},YR=Ti("mouseClick"),XR=ru();XR.startListening({actionCreator:YR,effect:(n,e)=>{var t=n.payload,i=G1(e.getState(),V1(t));i?.activeIndex!=null&&e.dispatch(A9({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}});var Ub=Ti("mouseMove"),WR=ru(),dh=null;WR.startListening({actionCreator:Ub,effect:(n,e)=>{var t=n.payload;dh!==null&&cancelAnimationFrame(dh);var i=V1(t);dh=requestAnimationFrame(()=>{var r=e.getState(),s=O1(r,r.tooltip.settings.shared);if(s==="axis"){var o=G1(r,i);o?.activeIndex!=null?e.dispatch(Gk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):e.dispatch(qk())}dh=null})}});var QO={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},KR=Fn({name:"rootProps",initialState:QO,reducers:{updateOptions:(n,e)=>{var t;n.accessibilityLayer=e.payload.accessibilityLayer,n.barCategoryGap=e.payload.barCategoryGap,n.barGap=(t=e.payload.barGap)!==null&&t!==void 0?t:QO.barGap,n.barSize=e.payload.barSize,n.maxBarSize=e.payload.maxBarSize,n.stackOffset=e.payload.stackOffset,n.syncId=e.payload.syncId,n.syncMethod=e.payload.syncMethod,n.className=e.payload.className,n.baseValue=e.payload.baseValue,n.reverseStackOrder=e.payload.reverseStackOrder}}}),wZ=KR.reducer,{updateOptions:AZ}=KR.actions,ZR=Fn({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(n,e)=>e.payload}}),{updatePolarOptions:zQ}=ZR.actions,SZ=ZR.reducer,QR=Ti("keyDown"),JR=Ti("focus"),Y1=ru();Y1.startListening({actionCreator:QR,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip,s=n.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var o=M1(r,sl(t),pu(t),bu(t)),c=o==null?-1:Number(o);if(!(!Number.isFinite(c)||c<0)){var u=Jr(t);if(s==="Enter"){var h=uf(t,"axis","hover",String(r.index));e.dispatch(Rb({active:!r.active,activeIndex:r.index,activeDataKey:r.dataKey,activeCoordinate:h}));return}var f=h9(t),p=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=c+g*p;if(!(u==null||v>=u.length||v<0)){var w=uf(t,"axis","hover",String(v));e.dispatch(Rb({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});Y1.startListening({actionCreator:JR,effect:(n,e)=>{var t=e.getState(),i=t.rootProps.accessibilityLayer!==!1;if(i){var{keyboardInteraction:r}=t.tooltip;if(!r.active&&r.index==null){var s="0",o=uf(t,"axis","hover",String(s));e.dispatch(Rb({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:o}))}}}});var xi=Ti("externalEvent"),eN=ru(),Cy=new Map;eN.startListening({actionCreator:xi,effect:(n,e)=>{var{handler:t,reactEvent:i}=n.payload;if(t!=null){i.persist();var r=i.type,s=Cy.get(r);s!==void 0&&cancelAnimationFrame(s);var o=requestAnimationFrame(()=>{try{var c=e.getState(),u={activeCoordinate:oV(c),activeDataKey:iR(c),activeIndex:Ko(c),activeLabel:nR(c),activeTooltipIndex:Ko(c),isTooltipActive:lV(c)};t(u,i)}finally{Cy.delete(r)}});Cy.set(r,o)}}});var EZ=X([al],n=>n.tooltipItemPayloads),_Z=X([EZ,vu,(n,e,t)=>e,(n,e,t)=>t],(n,e,t,i)=>{var r=n.find(c=>c.settings.dataKey===i);if(r!=null){var{positions:s}=r;if(s!=null){var o=e(s,t);return o}}}),tN=Ti("touchMove"),nN=ru();nN.startListening({actionCreator:tN,effect:(n,e)=>{var t=n.payload;if(!(t.touches==null||t.touches.length===0)){var i=e.getState(),r=O1(i,i.tooltip.settings.shared);if(r==="axis"){var s=G1(i,V1({clientX:t.touches[0].clientX,clientY:t.touches[0].clientY,currentTarget:t.currentTarget}));s?.activeIndex!=null&&e.dispatch(Gk({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(r==="item"){var o,c=t.touches[0];if(document.elementFromPoint==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var h=u.getAttribute(o6),f=(o=u.getAttribute(l6))!==null&&o!==void 0?o:void 0,p=_Z(e.getState(),h,f);e.dispatch($k({activeDataKey:f,activeIndex:h,activeCoordinate:p}))}}}});var CZ=XM({brush:lK,cartesianAxis:SX,chartData:o7,errorBars:IX,graphicalItems:cX,layout:HU,legend:e8,options:n7,polarAxis:MY,polarOptions:SZ,referenceElements:mK,rootProps:wZ,tooltip:S9,zIndex:$V}),TZ=function(e){return fU({reducer:CZ,preloadedState:e,middleware:t=>{var i;return t({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([XR.middleware,WR.middleware,Y1.middleware,eN.middleware,nN.middleware])},enhancers:t=>{var i=t;return typeof t=="function"&&(i=t()),i.concat(cP({type:"raf"}))},devTools:ou.devToolsEnabled})};function OZ(n){var{preloadedState:e,children:t,reduxStoreName:i}=n,r=Un(),s=C.useRef(null);if(r)return t;s.current==null&&(s.current=TZ(e));var o=E0;return C.createElement(cW,{context:o,store:s.current},t)}function MZ(n){var{layout:e,margin:t}=n,i=Ct(),r=Un();return C.useEffect(()=>{r||(i(zU(e)),i(BU(t)))},[i,r,e,t]),null}var PZ=C.memo(MZ,U1);function DZ(n){var e=Ct();return C.useEffect(()=>{e(AZ(n))},[e,n]),null}function JO(n){var{zIndex:e,isPanorama:t}=n,i=t?"recharts-zindex-panorama-":"recharts-zindex-",r=PR("".concat(i).concat(e)),s=Ct();return C.useLayoutEffect(()=>(s(UV({zIndex:e,elementId:r,isPanorama:t})),()=>{s(HV({zIndex:e,isPanorama:t}))}),[s,e,r,t]),C.createElement("g",{tabIndex:-1,id:r})}function e2(n){var{children:e,isPanorama:t}=n,i=be(DV);if(!i||i.length===0)return e;var r=i.filter(o=>o<0),s=i.filter(o=>o>0);return C.createElement(C.Fragment,null,r.map(o=>C.createElement(JO,{key:o,zIndex:o,isPanorama:t})),e,s.map(o=>C.createElement(JO,{key:o,zIndex:o,isPanorama:t})))}var kZ=["children"];function RZ(n,e){if(n==null)return{};var t,i,r=NZ(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function NZ(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function yf(){return yf=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},yf.apply(null,arguments)}var jZ={width:"100%",height:"100%",display:"block"},LZ=C.forwardRef((n,e)=>{var t=kP(),i=RP(),r=UP();if(!rr(t)||!rr(i))return null;var{children:s,otherAttributes:o,title:c,desc:u}=n,h,f;return o!=null&&(typeof o.tabIndex=="number"?h=o.tabIndex:h=r?0:void 0,typeof o.role=="string"?f=o.role:f=r?"application":void 0),C.createElement(hM,yf({},o,{title:c,desc:u,role:f,tabIndex:h,width:t,height:i,style:jZ,ref:e}),s)}),IZ=n=>{var{children:e}=n,t=be(Gf);if(!t)return null;var{width:i,height:r,y:s,x:o}=t;return C.createElement(hM,{width:i,height:r,x:o,y:s},e)},t2=C.forwardRef((n,e)=>{var{children:t}=n,i=RZ(n,kZ),r=Un();return r?C.createElement(IZ,null,C.createElement(e2,{isPanorama:!0},t)):C.createElement(LZ,yf({ref:e},i),C.createElement(e2,{isPanorama:!1},t))});function BZ(){var n=Ct(),[e,t]=C.useState(null),i=be(s6);return C.useEffect(()=>{if(e!=null){var r=e.getBoundingClientRect(),s=r.width/e.offsetWidth;_t(s)&&s!==i&&n(UU(s))}},[e,n,i]),t}function n2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function zZ(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(t),!0).forEach(function(i){FZ(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n2(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function FZ(n,e,t){return(e=UZ(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function UZ(n){var e=HZ(n,"string");return typeof e=="symbol"?e:e+""}function HZ(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _s(){return _s=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},_s.apply(null,arguments)}var $Z=()=>(g7(),null);function bf(n){if(typeof n=="number")return n;if(typeof n=="string"){var e=parseFloat(n);if(!Number.isNaN(e))return e}return 0}var qZ=C.forwardRef((n,e)=>{var t,i,r=C.useRef(null),[s,o]=C.useState({containerWidth:bf((t=n.style)===null||t===void 0?void 0:t.width),containerHeight:bf((i=n.style)===null||i===void 0?void 0:i.height)}),c=C.useCallback((h,f)=>{o(p=>{var g=Math.round(h),v=Math.round(f);return p.containerWidth===g&&p.containerHeight===v?p:{containerWidth:g,containerHeight:v}})},[]),u=C.useCallback(h=>{if(typeof e=="function"&&e(h),h!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=h.getBoundingClientRect();c(f,p);var g=w=>{var{width:b,height:A}=w[0].contentRect;c(b,A)},v=new ResizeObserver(g);v.observe(h),r.current=v}},[e,c]);return C.useEffect(()=>()=>{var h=r.current;h?.disconnect()},[c]),C.createElement(C.Fragment,null,C.createElement(Xf,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",_s({ref:u},n)))}),GZ=C.forwardRef((n,e)=>{var{width:t,height:i}=n,[r,s]=C.useState({containerWidth:bf(t),containerHeight:bf(i)}),o=C.useCallback((u,h)=>{s(f=>{var p=Math.round(u),g=Math.round(h);return f.containerWidth===p&&f.containerHeight===g?f:{containerWidth:p,containerHeight:g}})},[]),c=C.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:h,height:f}=u.getBoundingClientRect();o(h,f)}},[e,o]);return C.createElement(C.Fragment,null,C.createElement(Xf,{width:r.containerWidth,height:r.containerHeight}),C.createElement("div",_s({ref:c},n)))}),VZ=C.forwardRef((n,e)=>{var{width:t,height:i}=n;return C.createElement(C.Fragment,null,C.createElement(Xf,{width:t,height:i}),C.createElement("div",_s({ref:e},n)))}),YZ=C.forwardRef((n,e)=>{var{width:t,height:i}=n;return Fr(t)||Fr(i)?C.createElement(GZ,_s({},n,{ref:e})):C.createElement(VZ,_s({},n,{ref:e}))});function XZ(n){return n===!0?qZ:YZ}var WZ=C.forwardRef((n,e)=>{var{children:t,className:i,height:r,onClick:s,onContextMenu:o,onDoubleClick:c,onMouseDown:u,onMouseEnter:h,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:v,onTouchMove:w,onTouchStart:b,style:A,width:S,responsive:M,dispatchTouchEvents:_=!0}=n,D=C.useRef(null),T=Ct(),[P,R]=C.useState(null),[N,I]=C.useState(null),W=BZ(),U=N0(),K=U?.width>0?U.width:S,se=U?.height>0?U.height:r,oe=C.useCallback(Q=>{W(Q),typeof e=="function"&&e(Q),R(Q),I(Q),Q!=null&&(D.current=Q)},[W,e,R,I]),le=C.useCallback(Q=>{T(YR(Q)),T(xi({handler:s,reactEvent:Q}))},[T,s]),B=C.useCallback(Q=>{T(Ub(Q)),T(xi({handler:h,reactEvent:Q}))},[T,h]),H=C.useCallback(Q=>{T(qk()),T(xi({handler:f,reactEvent:Q}))},[T,f]),te=C.useCallback(Q=>{T(Ub(Q)),T(xi({handler:p,reactEvent:Q}))},[T,p]),re=C.useCallback(()=>{T(JR())},[T]),xe=C.useCallback(Q=>{T(QR(Q.key))},[T]),L=C.useCallback(Q=>{T(xi({handler:o,reactEvent:Q}))},[T,o]),V=C.useCallback(Q=>{T(xi({handler:c,reactEvent:Q}))},[T,c]),ne=C.useCallback(Q=>{T(xi({handler:u,reactEvent:Q}))},[T,u]),ae=C.useCallback(Q=>{T(xi({handler:g,reactEvent:Q}))},[T,g]),me=C.useCallback(Q=>{T(xi({handler:b,reactEvent:Q}))},[T,b]),we=C.useCallback(Q=>{_&&T(tN(Q)),T(xi({handler:w,reactEvent:Q}))},[T,_,w]),ce=C.useCallback(Q=>{T(xi({handler:v,reactEvent:Q}))},[T,v]),at=XZ(M);return C.createElement(uR.Provider,{value:P},C.createElement(V4.Provider,{value:N},C.createElement(at,{width:K??A?.width,height:se??A?.height,className:ct("recharts-wrapper",i),style:zZ({position:"relative",cursor:"default",width:K,height:se},A),onClick:le,onContextMenu:L,onDoubleClick:V,onFocus:re,onKeyDown:xe,onMouseDown:ne,onMouseEnter:B,onMouseLeave:H,onMouseMove:te,onMouseUp:ae,onTouchEnd:ce,onTouchMove:we,onTouchStart:me,ref:oe},C.createElement($Z,null),t)))}),KZ=["width","height","responsive","children","className","style","compact","title","desc"];function ZZ(n,e){if(n==null)return{};var t,i,r=QZ(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function QZ(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}var JZ=C.forwardRef((n,e)=>{var{width:t,height:i,responsive:r,children:s,className:o,style:c,compact:u,title:h,desc:f}=n,p=ZZ(n,KZ),g=Br(p);return u?C.createElement(C.Fragment,null,C.createElement(Xf,{width:t,height:i}),C.createElement(t2,{otherAttributes:g,title:h,desc:f},s)):C.createElement(WZ,{className:o,style:c,width:t,height:i,responsive:r??!1,onClick:n.onClick,onMouseLeave:n.onMouseLeave,onMouseEnter:n.onMouseEnter,onMouseMove:n.onMouseMove,onMouseDown:n.onMouseDown,onMouseUp:n.onMouseUp,onContextMenu:n.onContextMenu,onDoubleClick:n.onDoubleClick,onTouchStart:n.onTouchStart,onTouchMove:n.onTouchMove,onTouchEnd:n.onTouchEnd},C.createElement(t2,{otherAttributes:g,title:h,desc:f,ref:e},C.createElement(vK,null,s)))});function Hb(){return Hb=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Hb.apply(null,arguments)}var eQ={top:5,right:5,bottom:5,left:5},tQ={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:eQ,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},nQ=C.forwardRef(function(e,t){var i,r=ai(e.categoricalChartProps,tQ),{chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,categoricalChartProps:h}=e,f={chartName:s,defaultTooltipEventType:o,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return C.createElement(OZ,{preloadedState:{options:f},reduxStoreName:(i=h.id)!==null&&i!==void 0?i:s},C.createElement(oK,{chartData:h.data}),C.createElement(PZ,{layout:r.layout,margin:r.margin}),C.createElement(DZ,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),C.createElement(JZ,Hb({},r,{ref:t})))}),iQ=["axis","item"],rQ=C.forwardRef((n,e)=>C.createElement(nQ,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iQ,tooltipPayloadSearcher:e7,categoricalChartProps:n,ref:e}));function aQ(){const{meet:n,clubStandings:e,swimmerStandings:t,scoringConfig:i}=Ms(),{t:r}=Ia();if(!n)return E.jsxs("div",{className:"dashboard-container",children:[E.jsxs("header",{className:"page-header center-text",children:[E.jsxs("div",{className:"brand-badge-large",children:[E.jsx(hB,{className:"brand-icon"}),E.jsx("span",{children:"SwimScore Pro"})]}),E.jsx("h1",{className:"hero-title",children:r("dashboard.welcome.title")}),E.jsx("p",{className:"hero-subtitle",children:r("dashboard.welcome.message")})]}),E.jsxs("div",{className:"empty-state-card",children:[E.jsx("div",{className:"empty-icon-wrapper",children:E.jsx(TB,{size:48,strokeWidth:1})}),E.jsx("h3",{children:r("dashboard.ready.title")}),E.jsx("p",{children:r("dashboard.ready.message")}),E.jsx(Ai,{to:"/upload",className:"btn btn-primary btn-lg",children:r("common.uploadPdf")})]})]});const s=n.events.length,o=e.length,c=t.length,u=e.slice(0,5).map(p=>({name:p.club.name.length>15?p.club.name.substring(0,12)+"...":p.club.name,points:p.totalPoints,fullname:p.club.name})),h=e.slice(0,3),f=t.slice(0,5);return E.jsxs("div",{className:"dashboard-wrapper",children:[E.jsxs("div",{className:"dashboard-hero",children:[E.jsxs("div",{className:"hero-content",children:[E.jsxs("div",{className:"meet-badge",children:[E.jsx("span",{className:"live-dot"}),r("dashboard.live")]}),E.jsx("h1",{className:"meet-title",children:n.name}),E.jsxs("div",{className:"meet-meta",children:[E.jsxs("span",{children:[E.jsx(Wb,{size:14})," ",n.date]}),E.jsx("span",{className:"separator",children:""}),E.jsxs("span",{children:[E.jsx(r3,{size:14})," ",i.name]})]})]}),E.jsxs("div",{className:"hero-stats",children:[E.jsxs("div",{className:"mini-stat",children:[E.jsx("span",{className:"label",children:r("dashboard.stats.events")}),E.jsx("span",{className:"value",children:s})]}),E.jsxs("div",{className:"mini-stat",children:[E.jsx("span",{className:"label",children:r("dashboard.stats.athletes")}),E.jsx("span",{className:"value",children:c})]}),E.jsxs("div",{className:"mini-stat",children:[E.jsx("span",{className:"label",children:r("dashboard.stats.clubs")}),E.jsx("span",{className:"value",children:o})]})]})]}),E.jsxs("div",{className:"dashboard-grid",children:[E.jsxs("div",{className:"main-col",children:[E.jsxs("section",{className:"dashboard-section",children:[E.jsxs("div",{className:"section-header",children:[E.jsxs("div",{className:"section-title-wrapper",children:[E.jsx(Zb,{className:"section-icon gold"}),E.jsx("h3",{children:r("dashboard.podium.title")})]}),E.jsxs(Ai,{to:"/clubs",className:"text-link",children:[r("dashboard.podium.viewFull")," ",E.jsx(My,{size:14})]})]}),E.jsxs("div",{className:"podium-container",children:[h[1]&&E.jsxs("div",{className:"podium-step step-2",children:[E.jsx("div",{className:"podium-rank",children:"2"}),E.jsx("div",{className:"podium-pillar",children:E.jsxs("div",{className:"pillar-content",children:[E.jsx("span",{className:"score",children:h[1].totalPoints.toFixed(0)}),E.jsx("span",{className:"pts-label",children:r("dashboard.podium.pts")})]})}),E.jsxs("div",{className:"podium-info",children:[E.jsx("span",{className:"club-name",children:h[1].club.name}),E.jsx("div",{className:"medals-row",children:E.jsxs("span",{className:"medal-pill silver",children:[h[1].goldMedals," G"]})})]})]}),h[0]&&E.jsxs("div",{className:"podium-step step-1",children:[E.jsx(gB,{className:"crown-icon"}),E.jsx("div",{className:"podium-rank",children:"1"}),E.jsx("div",{className:"podium-pillar",children:E.jsxs("div",{className:"pillar-content",children:[E.jsx("span",{className:"score",children:h[0].totalPoints.toFixed(0)}),E.jsx("span",{className:"pts-label",children:r("dashboard.podium.pts")})]})}),E.jsxs("div",{className:"podium-info",children:[E.jsx("span",{className:"club-name highlight",children:h[0].club.name}),E.jsx("div",{className:"medals-row",children:E.jsxs("span",{className:"medal-pill gold",children:[h[0].goldMedals," G"]})})]})]}),h[2]&&E.jsxs("div",{className:"podium-step step-3",children:[E.jsx("div",{className:"podium-rank",children:"3"}),E.jsx("div",{className:"podium-pillar",children:E.jsxs("div",{className:"pillar-content",children:[E.jsx("span",{className:"score",children:h[2].totalPoints.toFixed(0)}),E.jsx("span",{className:"pts-label",children:r("dashboard.podium.pts")})]})}),E.jsxs("div",{className:"podium-info",children:[E.jsx("span",{className:"club-name",children:h[2].club.name}),E.jsx("div",{className:"medals-row",children:E.jsxs("span",{className:"medal-pill bronze",children:[h[2].goldMedals," G"]})})]})]})]})]}),E.jsxs("section",{className:"dashboard-section glass-panel",children:[E.jsx("div",{className:"section-header",children:E.jsxs("div",{className:"section-title-wrapper",children:[E.jsx(l3,{className:"section-icon"}),E.jsx("h3",{children:r("dashboard.charts.pointsVariance")})]})}),E.jsx("div",{className:"chart-wrapper",children:E.jsx(L6,{width:"100%",height:220,children:E.jsxs(rQ,{data:u,margin:{top:10,right:10,left:-20,bottom:0},children:[E.jsx($R,{strokeDasharray:"3 3",vertical:!1,stroke:"rgba(255,255,255,0.05)"}),E.jsx(GR,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"var(--color-text-secondary)",fontSize:10},dy:10}),E.jsx(VR,{axisLine:!1,tickLine:!1,tick:{fill:"var(--color-text-secondary)",fontSize:10}}),E.jsx(E7,{cursor:{fill:"rgba(255,255,255,0.03)"},contentStyle:{backgroundColor:"var(--color-bg-elevated)",borderColor:"var(--glass-border)",borderRadius:"8px",color:"var(--color-text-primary)"},itemStyle:{color:"var(--color-accent)"}}),E.jsx(IR,{dataKey:"points",radius:[6,6,0,0],children:u.map((p,g)=>E.jsx(B1,{fill:g===0?"var(--color-accent)":"var(--color-accent-subtle)"},`cell-${g}`))})]})})})]})]}),E.jsx("div",{className:"side-col",children:E.jsxs("section",{className:"dashboard-panel full-height",children:[E.jsxs("div",{className:"panel-header",children:[E.jsx(Qb,{size:20,className:"text-secondary"}),E.jsx("h3",{children:r("dashboard.topAthletes.title")}),E.jsx(Ai,{to:"/swimmers",className:"icon-btn","aria-label":r("dashboard.topClubs.viewAll"),children:E.jsx(My,{size:16})})]}),E.jsxs("div",{className:"mini-list",children:[f.map((p,g)=>E.jsxs("div",{className:"mini-list-item",children:[E.jsx("div",{className:`rank-dot rank-${g+1}`,children:g+1}),E.jsxs("div",{className:"item-content",children:[E.jsx("span",{className:"item-name",children:p.swimmer.name}),E.jsxs("span",{className:"item-sub",children:[p.club.name,"  ",p.swimmer.birthYear]})]}),E.jsxs("div",{className:"item-stats",children:[E.jsx("span",{className:"points-badge",children:p.totalPoints.toFixed(0)}),p.goldMedals>0&&E.jsxs("span",{className:"medal-mini",children:[E.jsx(UB,{size:10,className:"text-gold"})," ",p.goldMedals]})]})]},p.swimmer.id)),E.jsx("div",{className:"mini-list-footer",children:E.jsx(Ai,{to:"/swimmers",className:"btn btn-ghost btn-sm btn-block",children:r("dashboard.topAthletes.seeAll")})})]})]})})]})]})}function sQ(){const{loadPDF:n,isLoading:e,parseError:t,meet:i,rawText:r}=Ms(),s=qb(),{t:o}=Ia(),[c,u]=C.useState(!1),[h,f]=C.useState(!1),p=C.useCallback(b=>{b.preventDefault(),u(!1);const A=b.dataTransfer.files[0];A&&A.type==="application/pdf"&&n(A)},[n]),g=C.useCallback(b=>{b.preventDefault(),u(!0)},[]),v=C.useCallback(()=>{u(!1)},[]),w=C.useCallback(b=>{const A=b.target.files?.[0];A&&n(A)},[n]);return E.jsxs("div",{children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:o("upload.title")}),E.jsx("p",{className:"page-subtitle",children:o("upload.subtitle")})]}),E.jsxs("div",{className:`upload-zone ${c?"drag-over":""}`,onDrop:p,onDragOver:g,onDragLeave:v,onClick:()=>document.getElementById("file-input")?.click(),children:[E.jsx("input",{id:"file-input",type:"file",accept:".pdf",onChange:w,style:{display:"none"}}),e?E.jsxs(E.Fragment,{children:[E.jsx(zB,{size:64,className:"spinner",style:{animation:"spin 1s linear infinite"}}),E.jsx("h3",{children:o("upload.dropZone.processing")}),E.jsx("p",{children:o("upload.dropZone.extracting")})]}):E.jsxs(E.Fragment,{children:[E.jsx(E2,{size:64,strokeWidth:1}),E.jsx("h3",{children:o("upload.dropZone.dragDrop")}),E.jsx("p",{children:o("upload.dropZone.browse")})]})]}),t&&E.jsx("div",{className:"card",style:{marginTop:"var(--space-6)",borderColor:"var(--color-error)"},children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-3)",color:"var(--color-error)"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-3)"},children:[E.jsx(ph,{size:24,style:{flexShrink:0}}),E.jsx("h4",{style:{margin:0},children:o("upload.error")})]}),E.jsx("p",{style:{color:"var(--color-text-secondary)",marginLeft:"0"},children:t})]})}),i&&!t&&E.jsx("div",{className:"card",style:{marginTop:"var(--space-6)",borderColor:"var(--color-success)"},children:E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-4)"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--space-3)",color:"var(--color-success)"},children:[E.jsx(mh,{size:24,style:{flexShrink:0,marginTop:"4px"}}),E.jsxs("div",{children:[E.jsx("h4",{style:{margin:0},children:o("upload.success.title")}),E.jsx("p",{style:{color:"var(--color-text-secondary)",marginTop:"var(--space-1)"},children:o("upload.success.message",{n:i.events.length})})]})]}),E.jsx("button",{className:"btn btn-primary",onClick:()=>s("/"),style:{width:"100%"},children:o("upload.success.viewDashboard")})]})}),i&&E.jsxs("div",{className:"card",style:{marginTop:"var(--space-6)"},children:[E.jsx("div",{className:"card-header",children:E.jsx("h3",{className:"card-title",children:o("upload.preview.title")})}),E.jsx("div",{className:"table-container",style:{maxHeight:"400px",overflow:"auto"},children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:o("eventBrowser.table.number")}),E.jsx("th",{children:o("eventBrowser.table.event")}),E.jsx("th",{children:o("eventBrowser.filters.distance")}),E.jsx("th",{children:o("eventBrowser.filters.stroke")}),E.jsx("th",{children:o("eventBrowser.table.gender")}),E.jsxs("th",{children:[o("upload.preview.title").split(" ")[0]," ",o("eventBrowser.table.entries")," (Approx)"]})]})}),E.jsx("tbody",{children:i.events.map(b=>E.jsxs("tr",{children:[E.jsx("td",{children:b.number}),E.jsx("td",{children:b.isRelay?`${o("eventBrowser.tags.relay")}`:`${o("eventBrowser.filters.individual")}`}),E.jsxs("td",{children:[b.distance,"m"]}),E.jsx("td",{style:{textTransform:"capitalize"},children:b.stroke}),E.jsx("td",{style:{textTransform:"capitalize"},children:b.gender}),E.jsx("td",{children:b.results.length})]},b.id))})]})})]}),r&&E.jsxs("div",{className:"card",style:{marginTop:"var(--space-6)"},children:[E.jsxs("div",{className:"card-header",children:[E.jsxs("h3",{className:"card-title",children:[E.jsx(MB,{size:18,style:{marginRight:"var(--space-2)"}}),o("upload.preview.raw")]}),E.jsx("button",{className:"btn btn-secondary",onClick:()=>f(!h),style:{fontSize:"0.75rem",padding:"var(--space-2) var(--space-3)"},children:o(h?"upload.preview.hide":"upload.preview.show")})]}),h&&E.jsx("pre",{style:{maxHeight:"400px",overflow:"auto",padding:"var(--space-4)",background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)",fontSize:"0.75rem",whiteSpace:"pre-wrap",wordBreak:"break-word"},children:r})]})]})}function Ii({value:n,onChange:e,options:t,placeholder:i="Select...",className:r=""}){const[s,o]=C.useState(!1),c=C.useRef(null);C.useEffect(()=>{const h=f=>{c.current&&!c.current.contains(f.target)&&o(!1)};return document.addEventListener("mousedown",h),()=>{document.removeEventListener("mousedown",h)}},[]);const u=t.find(h=>h.value===n);return E.jsxs("div",{className:`custom-select-container ${r}`,ref:c,children:[E.jsxs("div",{className:`custom-select-trigger ${s?"open":""}`,onClick:()=>o(!s),children:[E.jsx("span",{style:{color:u?"var(--color-text-primary)":"var(--color-text-muted)"},children:u?u.label:i}),E.jsx(Kb,{size:16,style:{transform:s?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)"}})]}),E.jsx("div",{className:`custom-select-options ${s?"open":""}`,children:t.map(h=>E.jsxs("div",{className:`custom-option ${h.value===n?"selected":""}`,onClick:()=>{e(h.value),o(!1)},children:[h.label,E.jsx("div",{className:"custom-option-check",children:E.jsx(bB,{size:14,strokeWidth:3})})]},h.value))})]})}function oQ(){const{meet:n,scoringConfig:e,clubStandings:t}=Ms(),{t:i}=Ia(),[r,s]=C.useState("total"),[o,c]=C.useState("desc"),[u,h]=C.useState(""),[f,p]=C.useState(null),[g,v]=C.useState("all"),[w,b]=C.useState("all"),A=C.useMemo(()=>{if(!n)return[];const D=new Map;t.forEach(P=>{D.set(P.club.id,{id:P.club.id,name:P.club.name,shortName:P.club.shortName,individualPoints:0,relayPoints:0,goldMedals:0,silverMedals:0,bronzeMedals:0,swimmerCount:0})});const T=new Map;return n.events.forEach(P=>{P.results.forEach(R=>{let N=!0;if(w!=="all"&&(P.isRelay?(P.gender!=="mixed"&&P.gender!==w&&(N=!1),P.gender==="mixed"&&(N=!1)):(R.swimmer?.gender||P.gender)!==w&&(N=!1)),g!=="all"&&(g==="open"&&P.isRelay||R.swimmerCategory!==g&&(N=!1)),!N)return;const I=D.get(R.club.id);if(!I)return;let W=(R.openPoints||0)+(R.categoryPoints||0);(R.openEligible||R.categoryEligible)&&R.bonusPoints&&(W+=R.bonusPoints),P.isRelay?I.relayPoints+=W:(I.individualPoints+=W,R.swimmer&&(T.has(I.id)||T.set(I.id,new Set),T.get(I.id).add(R.swimmer.id))),R.position===1&&I.goldMedals++,R.position===2&&I.silverMedals++,R.position===3&&I.bronzeMedals++})}),T.forEach((P,R)=>{const N=D.get(R);N&&(N.swimmerCount=P.size)}),Array.from(D.values()).map(P=>({...P,totalPoints:P.individualPoints+P.relayPoints}))},[n,g,w]),S=C.useMemo(()=>{let D=[...A];return u&&(D=D.filter(T=>T.name.toLowerCase().includes(u.toLowerCase()))),D.sort((T,P)=>{let R,N;switch(r){case"individual":R=T.individualPoints,N=P.individualPoints;break;case"relay":R=T.relayPoints,N=P.relayPoints;break;case"medals":R=T.goldMedals*100+T.silverMedals*10+T.bronzeMedals,N=P.goldMedals*100+P.silverMedals*10+P.bronzeMedals;break;default:R=T.totalPoints,N=P.totalPoints}return o==="desc"?N-R:R-N}),D},[A,r,o,u]),M=D=>{r===D?c(T=>T==="desc"?"asc":"desc"):(s(D),c("desc"))},_=({column:D})=>r!==D?null:o==="desc"?E.jsx(Kb,{size:14}):E.jsx(A2,{size:14});return n?E.jsxs("div",{children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:i("clubRankings.title")}),E.jsx("p",{className:"page-subtitle",children:i("clubRankings.subtitleWithMeet",{meet:n.name,count:t.length,scoring:e.name})})]}),E.jsxs("div",{className:"filters",children:[E.jsxs("div",{className:"filter-group",style:{flex:1,maxWidth:"250px"},children:[E.jsx("label",{children:i("clubRankings.filters.search")}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(S2,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-muted)"}}),E.jsx("input",{type:"text",placeholder:i("clubRankings.filters.searchPlaceholder"),value:u,onChange:D=>h(D.target.value),style:{paddingLeft:"36px"}})]})]}),E.jsxs("div",{className:"filter-group",style:{width:"180px"},children:[E.jsx("label",{children:i("clubRankings.filters.category")}),E.jsx(Ii,{value:g,onChange:v,options:[{value:"all",label:i("common.allCategories")},{value:"open",label:i("common.open")},{value:"junior",label:i("common.junior")},{value:"u14",label:"U14"}]})]}),E.jsxs("div",{className:"filter-group",style:{width:"180px"},children:[E.jsx("label",{children:i("clubRankings.filters.gender")}),E.jsx(Ii,{value:w,onChange:b,options:[{value:"all",label:i("common.allGenders")},{value:"male",label:i("common.male")},{value:"female",label:i("common.female")}]})]})]}),E.jsx("div",{className:"card",children:E.jsx("div",{className:"table-container",children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:i("common.pos")}),E.jsx("th",{children:i("common.club")}),E.jsx("th",{onClick:()=>M("individual"),style:{cursor:"pointer",userSelect:"none"},children:E.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i("clubRankings.table.individual")," ",E.jsx(_,{column:"individual"})]})}),E.jsx("th",{onClick:()=>M("relay"),style:{cursor:"pointer",userSelect:"none"},children:E.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i("clubRankings.table.relay")," ",E.jsx(_,{column:"relay"})]})}),E.jsx("th",{onClick:()=>M("total"),style:{cursor:"pointer",userSelect:"none"},children:E.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i("clubRankings.table.total")," ",E.jsx(_,{column:"total"})]})}),E.jsx("th",{onClick:()=>M("medals"),style:{cursor:"pointer",userSelect:"none"},children:E.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[i("clubRankings.table.medals")," ",E.jsx(_,{column:"medals"})]})}),E.jsx("th",{children:i("clubRankings.table.swimmers")})]})}),E.jsx("tbody",{children:S.map((D,T)=>E.jsxs("tr",{onClick:()=>p(f===D.id?null:D.id),style:{cursor:"pointer"},children:[E.jsx("td",{children:E.jsx("span",{className:`position-badge ${T<3?`position-${T+1}`:""}`,children:T+1})}),E.jsx("td",{children:E.jsx("strong",{children:D.name})}),E.jsx("td",{children:D.individualPoints.toFixed(0)}),E.jsx("td",{children:D.relayPoints.toFixed(0)}),E.jsx("td",{className:"points",children:D.totalPoints.toFixed(0)}),E.jsx("td",{children:E.jsxs("div",{className:"medals",children:[D.goldMedals>0&&E.jsxs("span",{className:"medal medal-gold",children:["G ",D.goldMedals]}),D.silverMedals>0&&E.jsxs("span",{className:"medal medal-silver",children:["S ",D.silverMedals]}),D.bronzeMedals>0&&E.jsxs("span",{className:"medal medal-bronze",children:["B ",D.bronzeMedals]}),D.goldMedals===0&&D.silverMedals===0&&D.bronzeMedals===0&&E.jsx("span",{style:{color:"var(--color-text-muted)"},children:"-"})]})}),E.jsx("td",{children:D.swimmerCount})]},D.id))})]})})}),E.jsxs("div",{className:"stats-grid",style:{marginTop:"var(--space-6)"},children:[E.jsx("div",{className:"stat-card",children:E.jsxs("div",{className:"stat-content",children:[E.jsx("h3",{children:S.reduce((D,T)=>D+T.totalPoints,0).toFixed(0)}),E.jsx("p",{children:i("clubRankings.stats.totalPointsView")})]})}),E.jsx("div",{className:"stat-card",children:E.jsxs("div",{className:"stat-content",children:[E.jsx("h3",{children:S.reduce((D,T)=>D+T.goldMedals,0)}),E.jsx("p",{children:i("clubRankings.stats.goldMedalsView")})]})})]})]}):E.jsxs("div",{children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:i("clubRankings.title")}),E.jsx("p",{className:"page-subtitle",children:i("clubRankings.subtitle")})]}),E.jsxs("div",{className:"empty-state",children:[E.jsx("div",{className:"empty-state-icon",children:E.jsx(Zb,{strokeWidth:1.5})}),E.jsx("h3",{children:i("clubRankings.empty.title")}),E.jsx("p",{children:i("clubRankings.empty.message")}),E.jsx(Ai,{to:"/upload",className:"btn btn-primary",children:i("common.uploadPdf")})]})]})}function lQ(){const{meet:n,swimmerStandings:e}=Ms(),{t}=Ia(),[i,r]=C.useState("totalPoints"),[s,o]=C.useState("desc"),[c,u]=C.useState(""),[h,f]=C.useState(""),[p,g]=C.useState(""),[v,w]=C.useState("total"),b=C.useMemo(()=>{const T=new Set(e.map(P=>P.club.name));return Array.from(T).sort()},[e]),A=C.useMemo(()=>{const T=new Set(e.map(P=>P.category).filter(Boolean));return Array.from(T).sort()},[e]),S=C.useMemo(()=>{let T=[...e];return c&&(T=T.filter(P=>P.swimmer.name.toLowerCase().includes(c.toLowerCase()))),h&&(T=T.filter(P=>P.club.name===h)),p&&(T=T.filter(P=>P.category===p)),T.sort((P,R)=>{let N,I;switch(i){case"medals":N=P.goldMedals*100+P.silverMedals*10+P.bronzeMedals,I=R.goldMedals*100+R.silverMedals*10+R.bronzeMedals;break;case"events":N=P.eventCount,I=R.eventCount;break;case"avgPos":return N=P.averagePosition||999,I=R.averagePosition||999,s==="desc"?N-I:I-N;case"openPoints":N=P.openPoints||0,I=R.openPoints||0;break;case"categoryPoints":N=P.categoryPoints||0,I=R.categoryPoints||0;break;case"totalPoints":default:v==="open"?(N=P.openPoints||0,I=R.openPoints||0):v==="category"?(N=P.categoryPoints||0,I=R.categoryPoints||0):(N=P.totalPoints,I=R.totalPoints)}return s==="desc"?I-N:N-I}),T},[e,i,s,c,h,p,v]),M=T=>{i===T?o(P=>P==="desc"?"asc":"desc"):(r(T),o(T==="avgPos"?"asc":"desc"))},_=({column:T})=>i!==T?null:s==="desc"?E.jsx(Kb,{size:14}):E.jsx(A2,{size:14}),D=T=>v==="open"?T.openPoints||0:v==="category"?T.categoryPoints||0:T.totalPoints;return n?E.jsxs("div",{children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:t("swimmerRankings.title")}),E.jsxs("p",{className:"page-subtitle",children:[n.name,"  ",e.length," ",t("common.swimmer").toLowerCase(),"s"]})]}),E.jsxs("div",{className:"filters",children:[E.jsxs("div",{className:"filter-group",style:{flex:1,maxWidth:"280px"},children:[E.jsx("label",{children:t("swimmerRankings.filters.search")}),E.jsxs("div",{style:{position:"relative"},children:[E.jsx(S2,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-muted)"}}),E.jsx("input",{type:"text",placeholder:t("swimmerRankings.filters.searchPlaceholder"),value:c,onChange:T=>u(T.target.value),style:{paddingLeft:"36px"}})]})]}),E.jsxs("div",{className:"filter-group",style:{width:"200px"},children:[E.jsx("label",{children:t("swimmerRankings.filters.club")}),E.jsx(Ii,{value:h,onChange:f,options:[{value:"",label:t("swimmerRankings.filters.allClubs")},...b.map(T=>({value:T,label:T}))]})]}),E.jsxs("div",{className:"filter-group",style:{width:"180px"},children:[E.jsx("label",{children:t("clubRankings.filters.category")}),E.jsx(Ii,{value:p,onChange:g,options:[{value:"",label:t("common.allCategories")},...A.map(T=>({value:T,label:T.toUpperCase()}))]})]}),E.jsxs("div",{className:"filter-group",style:{width:"200px"},children:[E.jsx("label",{children:t("swimmerRankings.filters.pointsView")}),E.jsx(Ii,{value:v,onChange:T=>w(T),options:[{value:"total",label:t("clubRankings.table.total")},{value:"open",label:t("swimmerRankings.table.openPts")},{value:"category",label:t("swimmerRankings.table.catPts")}]})]})]}),E.jsx("div",{className:"card",children:E.jsx("div",{className:"table-container",children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{children:t("common.pos")}),E.jsx("th",{children:t("common.swimmer")}),E.jsx("th",{children:t("common.club")}),E.jsx("th",{children:t("swimmerRankings.table.year")}),E.jsx("th",{children:t("swimmerRankings.table.cat")}),E.jsx("th",{onClick:()=>M("events"),className:"hide-mobile",style:{cursor:"pointer",userSelect:"none"},children:E.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t("swimmerRankings.table.evts")," ",E.jsx(_,{column:"events"})]})}),E.jsx("th",{onClick:()=>M("avgPos"),className:"hide-mobile",style:{cursor:"pointer",userSelect:"none"},children:E.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t("swimmerRankings.table.avgPos")," ",E.jsx(_,{column:"avgPos"})]})}),E.jsx("th",{onClick:()=>M("totalPoints"),style:{cursor:"pointer",userSelect:"none"},children:E.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t(v==="open"?"swimmerRankings.table.openPts":v==="category"?"swimmerRankings.table.catPts":"swimmerRankings.table.totalPts")," ",E.jsx(_,{column:"totalPoints"})]})}),E.jsx("th",{onClick:()=>M("medals"),className:"hide-mobile",style:{cursor:"pointer",userSelect:"none"},children:E.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t("common.medals")," ",E.jsx(_,{column:"medals"})]})})]})}),E.jsx("tbody",{children:S.map((T,P)=>E.jsxs("tr",{children:[E.jsx("td",{children:E.jsx("span",{className:`position-badge ${P<3?`position-${P+1}`:""}`,children:P+1})}),E.jsx("td",{children:E.jsx("strong",{children:T.swimmer.name})}),E.jsx("td",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:T.club.name}),E.jsx("td",{children:T.swimmer.birthYear}),E.jsx("td",{children:E.jsx("span",{style:{padding:"2px 6px",borderRadius:"var(--radius-sm)",fontSize:"0.7rem",fontWeight:"500",background:T.category==="u14"?"var(--color-warning)":T.category==="junior"?"var(--color-info)":"var(--color-bg-tertiary)",color:T.category==="open"?"var(--color-text-muted)":"white"},children:T.category?.toUpperCase()||"OPEN"})}),E.jsx("td",{className:"hide-mobile",style:{textAlign:"center"},children:T.eventCount}),E.jsx("td",{className:"hide-mobile",style:{textAlign:"center",color:"var(--color-text-secondary)"},children:T.averagePosition.toFixed(1)}),E.jsx("td",{className:"points",style:{textAlign:"center"},children:D(T).toFixed(0)}),E.jsx("td",{className:"hide-mobile",children:E.jsxs("div",{className:"medals",children:[T.goldMedals>0&&E.jsxs("span",{className:"medal medal-gold",children:["G ",T.goldMedals]}),T.silverMedals>0&&E.jsxs("span",{className:"medal medal-silver",children:["S ",T.silverMedals]}),T.bronzeMedals>0&&E.jsxs("span",{className:"medal medal-bronze",children:["B ",T.bronzeMedals]})]})})]},T.swimmer.id))})]})})}),E.jsxs("div",{className:"stats-grid",style:{marginTop:"var(--space-6)"},children:[E.jsx("div",{className:"stat-card",children:E.jsxs("div",{className:"stat-content",children:[E.jsx("h3",{children:S.length}),E.jsx("p",{children:t("swimmerRankings.stats.totalSwimmers")})]})}),E.jsx("div",{className:"stat-card",children:E.jsxs("div",{className:"stat-content",children:[E.jsx("h3",{children:S.filter(T=>T.goldMedals>0).length}),E.jsx("p",{children:t("swimmerRankings.stats.goldWinners")})]})}),E.jsx("div",{className:"stat-card",children:E.jsxs("div",{className:"stat-content",children:[E.jsx("h3",{children:S.length>0?(S.reduce((T,P)=>T+P.eventCount,0)/S.length).toFixed(1):"0"}),E.jsx("p",{children:t("swimmerRankings.stats.avgEvents")})]})})]})]}):E.jsxs("div",{children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:t("swimmerRankings.title")}),E.jsx("p",{className:"page-subtitle",children:t("swimmerRankings.subtitle")})]}),E.jsxs("div",{className:"empty-state",children:[E.jsx("div",{className:"empty-state-icon",children:E.jsx(Qb,{strokeWidth:1.5})}),E.jsx("h3",{children:t("swimmerRankings.empty.title")}),E.jsx("p",{children:t("swimmerRankings.empty.message")}),E.jsx(Ai,{to:"/upload",className:"btn btn-primary",children:t("common.uploadPdf")})]})]})}function cQ(){const{meet:n}=Ms(),e=qb(),{t}=Ia(),[i,r]=C.useState(""),[s,o]=C.useState(""),[c,u]=C.useState(""),[h,f]=C.useState(""),[p,g]=C.useState("number"),[v,w]=C.useState("asc"),b=C.useMemo(()=>{if(!n)return[];const _=new Set(n.events.map(D=>D.distance));return Array.from(_).sort((D,T)=>D-T)},[n]),A=C.useMemo(()=>{if(!n)return[];let _=n.events.filter(D=>!(i&&D.stroke!==i||s&&D.gender!==s||c==="relay"&&!D.isRelay||c==="individual"&&D.isRelay||h&&D.distance!==parseInt(h)));return _.sort((D,T)=>{let P,R;switch(p){case"distance":P=D.distance,R=T.distance;break;case"entries":P=D.results.length,R=T.results.length;break;default:P=D.number,R=T.number}return v==="asc"?P-R:R-P}),_},[n,i,s,c,h,p,v]),S=_=>{const D=_.isRelay?`${_.relaySize||4}x`:"",T=_.isRelay?_.distance/(_.relaySize||4):_.distance,P={freestyle:"Libre",backstroke:"Espalda",breaststroke:"Braza",butterfly:"Mariposa",medley:"Estilos"}[_.stroke]||_.stroke;return`${D}${T}m ${P}`},M=_=>{switch(_){case"male":return"M";case"female":return"F";case"mixed":return"Mix";default:return _}};return n?E.jsxs("div",{children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:t("eventBrowser.title")}),E.jsx("p",{className:"page-subtitle",children:t("eventBrowser.subtitleWithMeet",{meet:n.name,n:n.events.length})})]}),E.jsxs("div",{className:"filters",children:[E.jsxs("div",{className:"filter-group",style:{width:"180px"},children:[E.jsx("label",{children:t("eventBrowser.filters.stroke")}),E.jsx(Ii,{value:i,onChange:r,options:[{value:"",label:t("eventBrowser.filters.allStrokes")},{value:"freestyle",label:t("eventBrowser.filters.freestyle")},{value:"backstroke",label:t("eventBrowser.filters.backstroke")},{value:"breaststroke",label:t("eventBrowser.filters.breaststroke")},{value:"butterfly",label:t("eventBrowser.filters.butterfly")},{value:"medley",label:t("eventBrowser.filters.medley")}]})]}),E.jsxs("div",{className:"filter-group",style:{width:"140px"},children:[E.jsx("label",{children:t("eventBrowser.filters.distance")}),E.jsx(Ii,{value:h,onChange:f,options:[{value:"",label:t("eventBrowser.filters.allDist")},...b.map(_=>({value:_.toString(),label:`${_}m`}))]})]}),E.jsxs("div",{className:"filter-group",style:{width:"140px"},children:[E.jsx("label",{children:t("eventBrowser.filters.gender")}),E.jsx(Ii,{value:s,onChange:o,options:[{value:"",label:t("common.allGenders")},{value:"male",label:t("common.male")},{value:"female",label:t("common.female")},{value:"mixed",label:t("common.mixed")}]})]}),E.jsxs("div",{className:"filter-group",style:{width:"140px"},children:[E.jsx("label",{children:t("eventBrowser.filters.type")}),E.jsx(Ii,{value:c,onChange:u,options:[{value:"",label:t("eventBrowser.filters.allTypes")},{value:"individual",label:t("eventBrowser.filters.individual")},{value:"relay",label:t("eventBrowser.filters.relay")}]})]}),E.jsxs("div",{className:"filter-group",style:{width:"200px"},children:[E.jsx("label",{children:t("eventBrowser.filters.sortBy")}),E.jsx(Ii,{value:`${p}-${v}`,onChange:_=>{const[D,T]=_.split("-");g(D),w(T)},options:[{value:"number-asc",label:t("eventBrowser.filters.numberAsc")},{value:"number-desc",label:t("eventBrowser.filters.numberDesc")},{value:"distance-asc",label:t("eventBrowser.filters.distanceAsc")},{value:"distance-desc",label:t("eventBrowser.filters.distanceDesc")},{value:"entries-desc",label:t("eventBrowser.filters.entriesDesc")},{value:"entries-asc",label:t("eventBrowser.filters.entriesAsc")}]})]})]}),E.jsxs("div",{style:{marginBottom:"var(--space-4)",fontSize:"0.875rem",color:"var(--color-text-muted)",display:"flex",alignItems:"center",gap:"var(--space-2)"},children:[E.jsx(jB,{size:16}),t("eventBrowser.showing",{n:A.length,m:n.events.length})]}),E.jsx("div",{className:"card",children:E.jsx("div",{className:"table-container",children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{style:{width:"60px"},children:t("eventBrowser.table.number")}),E.jsx("th",{style:{width:"60px"},children:t("eventBrowser.table.gender")}),E.jsx("th",{children:t("eventBrowser.table.event")}),E.jsx("th",{style:{width:"80px"},children:t("eventBrowser.table.type")}),E.jsx("th",{className:"hide-mobile",style:{width:"80px"},children:t("eventBrowser.table.category")}),E.jsx("th",{className:"hide-mobile",style:{width:"80px"},children:t("eventBrowser.table.entries")}),E.jsx("th",{style:{width:"40px"}})]})}),E.jsx("tbody",{children:A.map(_=>E.jsxs("tr",{onClick:()=>e(`/events/${_.id}`),style:{cursor:"pointer"},children:[E.jsx("td",{children:E.jsx("span",{style:{padding:"4px 8px",background:"var(--color-accent-subtle)",borderRadius:"var(--radius-sm)",fontSize:"0.8rem",fontWeight:"600",color:"var(--color-accent)"},children:_.number})}),E.jsx("td",{children:E.jsx("span",{style:{padding:"2px 8px",background:_.gender==="male"?"rgba(59, 130, 246, 0.15)":_.gender==="female"?"rgba(236, 72, 153, 0.15)":"rgba(168, 85, 247, 0.15)",color:_.gender==="male"?"#3b82f6":_.gender==="female"?"#ec4899":"#a855f7",borderRadius:"var(--radius-sm)",fontSize:"0.75rem",fontWeight:"600"},children:M(_.gender)})}),E.jsx("td",{children:E.jsx("strong",{children:S(_)})}),E.jsx("td",{children:E.jsx("span",{style:{padding:"2px 8px",background:_.isRelay?"rgba(34, 197, 94, 0.15)":"var(--color-bg-tertiary)",color:_.isRelay?"#22c55e":"var(--color-text-muted)",borderRadius:"var(--radius-sm)",fontSize:"0.75rem",fontWeight:"500"},children:_.isRelay?t("eventBrowser.tags.relay"):t("eventBrowser.tags.indiv")})}),E.jsx("td",{className:"hide-mobile",style:{fontSize:"0.8rem",color:"var(--color-text-secondary)"},children:_.category}),E.jsx("td",{className:"hide-mobile",style:{fontSize:"0.875rem"},children:_.results.length}),E.jsx("td",{children:E.jsx(My,{size:16,style:{color:"var(--color-text-muted)"}})})]},_.id))})]})})})]}):E.jsxs("div",{children:[E.jsxs("header",{className:"page-header",children:[E.jsx("h1",{className:"page-title",children:t("eventBrowser.title")}),E.jsx("p",{className:"page-subtitle",children:t("eventBrowser.subtitle")})]}),E.jsxs("div",{className:"empty-state",children:[E.jsx("div",{className:"empty-state-icon",children:E.jsx(Wb,{strokeWidth:1.5})}),E.jsx("h3",{children:t("eventBrowser.empty.title")}),E.jsx("p",{children:t("eventBrowser.empty.message")}),E.jsx(Ai,{to:"/upload",className:"btn btn-primary",children:t("common.uploadPdf")})]})]})}function uQ(){const{scoringConfig:n,setScoringConfig:e,setPreset:t,availablePresets:i}=Ms(),[r,s]=C.useState(n),[o,c]=C.useState(!1),[u,h]=C.useState("presets"),{t:f,language:p,setLanguage:g}=Ia(),v=T=>{s(P=>({...P,...T})),c(!0)},w=()=>{e(r),c(!1)},b=T=>{const P=i[T];P&&(s(P),t(T),c(!1))},A=()=>{const T={id:`custom-${Date.now()}`,name:"New Category",displayName:"New Category",minAge:10,maxAge:12,birthYearStart:null,birthYearEnd:null};v({categories:[...r.categories,T]})},S=(T,P)=>{const R=[...r.categories];R[T]={...R[T],...P},v({categories:R})},M=T=>{const P=r.categories.filter((R,N)=>N!==T);v({categories:P})},_=(T,P)=>{const R=r.categoryScoring.findIndex(I=>I.categoryId===T),N=[...r.categoryScoring];R>=0?N[R]={categoryId:T,canScoreIn:P}:N.push({categoryId:T,canScoreIn:P}),v({categoryScoring:N})},D=[{value:"es",label:"Espaol"},{value:"en",label:"English"}];return E.jsxs("div",{children:[E.jsx("header",{className:"page-header",children:E.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[E.jsxs("div",{children:[E.jsx("h1",{className:"page-title",children:f("settings.title")}),E.jsx("p",{className:"page-subtitle",children:f("settings.subtitle")})]}),E.jsxs("div",{className:"card",style:{padding:"0.25rem 0.5rem",display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-bg-secondary)",minWidth:"160px"},children:[E.jsx(DB,{size:16,className:"text-muted",style:{marginLeft:"var(--space-2)"}}),E.jsx("div",{style:{flex:1},children:E.jsx(Ii,{value:p,onChange:T=>g(T),options:D,className:"language-select"})})]})]})}),o&&E.jsx("div",{className:"card",style:{marginBottom:"var(--space-6)",background:"rgba(245, 158, 11, 0.1)",borderColor:"var(--color-warning)",padding:"var(--space-4)"},children:E.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[E.jsxs("span",{style:{color:"var(--color-warning)"},children:[E.jsx(RB,{size:18,style:{marginRight:"var(--space-2)",verticalAlign:"middle"}}),f("settings.unsavedChanges")]}),E.jsxs("div",{style:{display:"flex",gap:"var(--space-3)"},children:[E.jsxs("button",{className:"btn btn-secondary",onClick:()=>s(n),children:[E.jsx(WB,{size:16}),f("settings.discard")]}),E.jsxs("button",{className:"btn btn-primary",onClick:w,children:[E.jsx(ZB,{size:16}),f("settings.save")]})]})]})}),E.jsxs("div",{className:"tabs",children:[E.jsx("button",{className:`tab ${u==="presets"?"active":""}`,onClick:()=>h("presets"),children:f("settings.tabs.presets")}),E.jsx("button",{className:`tab ${u==="points"?"active":""}`,onClick:()=>h("points"),children:f("settings.tabs.points")}),E.jsx("button",{className:`tab ${u==="categories"?"active":""}`,onClick:()=>h("categories"),children:f("settings.tabs.categories")}),E.jsx("button",{className:`tab ${u==="bonus"?"active":""}`,onClick:()=>h("bonus"),children:f("settings.tabs.bonus")})]}),u==="presets"&&E.jsxs("div",{className:"card",children:[E.jsx("h3",{className:"card-title",style:{marginBottom:"var(--space-4)"},children:f("settings.presets.title")}),E.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"var(--space-6)"},children:f("settings.presets.description")}),E.jsx("div",{style:{display:"grid",gap:"var(--space-4)",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))"},children:Object.entries(i).map(([T,P])=>E.jsxs("div",{onClick:()=>b(T),style:{padding:"var(--space-5)",borderRadius:"var(--radius-lg)",border:r.id===T?"2px solid var(--color-primary)":"1px solid var(--glass-border)",background:r.id===T?"rgba(8, 145, 178, 0.1)":"transparent",cursor:"pointer",transition:"all var(--transition-fast)"},children:[E.jsx("h4",{style:{marginBottom:"var(--space-2)"},children:P.name}),E.jsx("p",{style:{fontSize:"0.875rem",color:"var(--color-text-secondary)"},children:P.description}),E.jsxs("div",{style:{marginTop:"var(--space-3)",fontSize:"0.75rem",color:"var(--color-text-muted)"},children:[P.maxSwimmersPerClubPerEvent===null?f("settings.presets.noLimit"):f("settings.presets.limitPerClub",{n:P.maxSwimmersPerClubPerEvent}),"  ",f("settings.presets.categoriesCount",{n:P.categories.length})]})]},T))})]}),u==="points"&&E.jsxs("div",{className:"card",children:[E.jsx("h3",{className:"card-title",style:{marginBottom:"var(--space-4)"},children:f("settings.points.title")}),E.jsxs("div",{style:{display:"grid",gap:"var(--space-6)"},children:[E.jsxs("div",{children:[E.jsx("label",{children:f("settings.points.individual")}),E.jsx("input",{type:"text",value:r.individualPoints.join(", "),onChange:T=>{const P=T.target.value.split(",").map(R=>parseInt(R.trim())).filter(R=>!isNaN(R));v({individualPoints:P})},placeholder:"19, 16, 14, 13, 12, 11, 10, 9, 8, 7, 6, 5, 4, 3, 2, 1"}),E.jsx("p",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",marginTop:"var(--space-1)"},children:f("settings.points.commaSeparated")})]}),E.jsxs("div",{children:[E.jsx("label",{children:f("settings.points.relay")}),E.jsx("input",{type:"text",value:r.relayPoints.join(", "),onChange:T=>{const P=T.target.value.split(",").map(R=>parseInt(R.trim())).filter(R=>!isNaN(R));v({relayPoints:P})},placeholder:"38, 32, 28, 26, 24, 22, 20, 18, 16, 14, 12, 10, 8, 6, 4, 2"})]}),E.jsxs("div",{children:[E.jsx("label",{children:f("settings.points.clubLimit")}),E.jsxs("div",{style:{display:"flex",gap:"var(--space-3)",alignItems:"center"},children:[E.jsx("input",{type:"number",min:"1",max:"10",value:r.maxSwimmersPerClubPerEvent||"",onChange:T=>{const P=T.target.value?parseInt(T.target.value):null;v({maxSwimmersPerClubPerEvent:P})},placeholder:f("settings.points.noLimitPlaceholder"),style:{width:"120px"}}),E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",cursor:"pointer"},children:[E.jsx("input",{type:"checkbox",checked:r.redistributeExcessPoints,onChange:T=>v({redistributeExcessPoints:T.target.checked}),style:{width:"auto"}}),f("settings.points.redistribute")]})]})]})]})]}),u==="categories"&&E.jsxs("div",{className:"card",children:[E.jsxs("div",{className:"card-header",children:[E.jsx("h3",{className:"card-title",children:f("settings.categories.title")}),E.jsxs("button",{className:"btn btn-secondary",onClick:A,children:[E.jsx(YB,{size:16}),f("settings.categories.add")]})]}),E.jsx("p",{style:{color:"var(--color-text-secondary)",marginBottom:"var(--space-6)"},children:f("settings.categories.description")}),E.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"var(--space-4)"},children:r.categories.map((T,P)=>{const N=r.categoryScoring.find(I=>I.categoryId===T.id)?.canScoreIn||[T.id];return E.jsx("div",{style:{padding:"var(--space-4)",background:"var(--color-bg-tertiary)",borderRadius:"var(--radius-md)"},children:E.jsxs("div",{style:{display:"flex",gap:"var(--space-4)",flexWrap:"wrap",alignItems:"flex-start"},children:[E.jsxs("div",{style:{flex:"1",minWidth:"150px"},children:[E.jsx("label",{children:f("settings.categories.name")}),E.jsx("input",{type:"text",value:T.displayName,onChange:I=>S(P,{displayName:I.target.value,name:I.target.value.toLowerCase()})})]}),E.jsxs("div",{style:{width:"100px"},children:[E.jsx("label",{children:f("settings.categories.minAge")}),E.jsx("input",{type:"number",value:T.minAge||"",onChange:I=>S(P,{minAge:I.target.value?parseInt(I.target.value):null}),placeholder:f("settings.categories.none")})]}),E.jsxs("div",{style:{width:"100px"},children:[E.jsx("label",{children:f("settings.categories.maxAge")}),E.jsx("input",{type:"number",value:T.maxAge||"",onChange:I=>S(P,{maxAge:I.target.value?parseInt(I.target.value):null}),placeholder:f("settings.categories.none")})]}),E.jsxs("div",{style:{flex:"2",minWidth:"200px"},children:[E.jsx("label",{children:f("settings.categories.canScoreIn")}),E.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-2)"},children:r.categories.map(I=>E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-1)",fontSize:"0.875rem",cursor:"pointer",padding:"4px 8px",borderRadius:"var(--radius-sm)",background:N.includes(I.id)?"rgba(8, 145, 178, 0.2)":"transparent"},children:[E.jsx("input",{type:"checkbox",checked:N.includes(I.id),onChange:W=>{const U=W.target.checked?[...N,I.id]:N.filter(K=>K!==I.id);_(T.id,U)},style:{width:"auto"}}),I.displayName]},I.id))})]}),E.jsx("button",{className:"btn btn-secondary",onClick:()=>M(P),style:{alignSelf:"flex-end",padding:"var(--space-2)"},children:E.jsx(s3,{size:16})})]})},T.id)})})]}),u==="bonus"&&E.jsxs("div",{className:"card",children:[E.jsx("h3",{className:"card-title",style:{marginBottom:"var(--space-4)"},children:f("settings.bonus.title")}),E.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"var(--space-2)",marginBottom:"var(--space-6)",cursor:"pointer"},children:[E.jsx("input",{type:"checkbox",checked:r.bonusPoints.enabled,onChange:T=>v({bonusPoints:{...r.bonusPoints,enabled:T.target.checked}}),style:{width:"auto"}}),f("settings.bonus.enable")]}),r.bonusPoints.enabled&&E.jsxs("div",{style:{display:"grid",gap:"var(--space-4)",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))"},children:[E.jsxs("div",{children:[E.jsx("label",{children:f("settings.bonus.regionalBest")}),E.jsx("input",{type:"number",value:r.bonusPoints.regionalBest,onChange:T=>v({bonusPoints:{...r.bonusPoints,regionalBest:parseInt(T.target.value)||0}})})]}),E.jsxs("div",{children:[E.jsx("label",{children:f("settings.bonus.championshipRecord")}),E.jsx("input",{type:"number",value:r.bonusPoints.championshipRecord,onChange:T=>v({bonusPoints:{...r.bonusPoints,championshipRecord:parseInt(T.target.value)||0}})})]}),E.jsxs("div",{children:[E.jsx("label",{children:f("settings.bonus.absoluteRegional")}),E.jsx("input",{type:"number",value:r.bonusPoints.absoluteRegional,onChange:T=>v({bonusPoints:{...r.bonusPoints,absoluteRegional:parseInt(T.target.value)||0}})})]}),E.jsxs("div",{children:[E.jsx("label",{children:f("settings.bonus.nationalBest")}),E.jsx("input",{type:"number",value:r.bonusPoints.nationalBest,onChange:T=>v({bonusPoints:{...r.bonusPoints,nationalBest:parseInt(T.target.value)||0}})})]})]})]}),E.jsxs("div",{className:"card",style:{marginTop:"var(--space-6)"},children:[E.jsx("h3",{className:"card-title",style:{marginBottom:"var(--space-4)"},children:f("settings.summary.title")}),E.jsxs("div",{style:{display:"grid",gap:"var(--space-3)",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",fontSize:"0.875rem"},children:[E.jsxs("div",{children:[E.jsx("strong",{children:f("settings.summary.configName")}),E.jsx("p",{style:{color:"var(--color-text-secondary)"},children:r.name})]}),E.jsxs("div",{children:[E.jsx("strong",{children:f("settings.summary.individualPoints")}),E.jsxs("p",{style:{color:"var(--color-text-secondary)"},children:[r.individualPoints.slice(0,3).join(", "),"..."]})]}),E.jsxs("div",{children:[E.jsx("strong",{children:f("settings.summary.clubLimit")}),E.jsx("p",{style:{color:"var(--color-text-secondary)"},children:r.maxSwimmersPerClubPerEvent===null?f("settings.points.noLimitPlaceholder"):f("settings.summary.perEvent")+`: ${r.maxSwimmersPerClubPerEvent}`})]}),E.jsxs("div",{children:[E.jsx("strong",{children:f("settings.summary.categories")}),E.jsx("p",{style:{color:"var(--color-text-secondary)"},children:f("settings.summary.defined",{n:r.categories.length})})]})]})]})]})}function dQ(){const{eventId:n}=fI(),{meet:e}=Ms(),{t}=Ia();if(!e)return E.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)"},children:[E.jsx("h2",{children:t("eventDetails.noMeet")}),E.jsx(Ai,{to:"/",className:"btn btn-primary",style:{marginTop:"var(--space-4)",display:"inline-flex"},children:t("eventDetails.goHome")})]});const i=e.events.find(o=>o.id===n);if(!i)return E.jsxs("div",{style:{textAlign:"center",padding:"var(--space-12)"},children:[E.jsx("h2",{children:t("eventDetails.notFound")}),E.jsx(Ai,{to:"/events",className:"btn btn-secondary",style:{marginTop:"var(--space-4)",display:"inline-flex"},children:t("eventDetails.backToEvents")})]});const r=o=>{const c=o.isRelay?`${o.relaySize||4}x`:"",u=o.isRelay?o.distance/(o.relaySize||4):o.distance,h={freestyle:"Libre",backstroke:"Espalda",breaststroke:"Braza",butterfly:"Mariposa",medley:"Estilos"}[o.stroke]||o.stroke;return`${c}${u}m ${h}`},s=o=>{if(o.disqualified)return{text:t("eventDetails.status.dq"),color:"var(--color-destructive)",icon:E.jsx(yo,{size:14})};if(o.openEligible&&o.openPoints>0)return o.categoryEligible&&o.categoryPoints>0?{text:t("eventDetails.status.scoringOpenCat"),color:"var(--color-success)",icon:E.jsx(mh,{size:14})}:{text:t("eventDetails.status.scoringOpen"),color:"var(--color-success)",icon:E.jsx(mh,{size:14})};if(o.categoryEligible&&o.categoryPoints>0)return{text:t("eventDetails.status.scoringCat"),color:"var(--color-info)",icon:E.jsx(mh,{size:14})};if(o.openStatusReason&&o.openStatusReason!=="ok"){if(o.openStatusReason==="time_limit")return{text:t("eventDetails.status.timeLimit"),color:"var(--color-warning)",icon:E.jsx(ph,{size:14})};if(o.openStatusReason==="club_limit")return{text:t("eventDetails.status.clubLimit"),color:"var(--color-text-muted)",icon:E.jsx(yo,{size:14})};if(o.openStatusReason==="dq")return{text:t("eventDetails.status.dq"),color:"var(--color-destructive)",icon:E.jsx(yo,{size:14})}}if(o.categoryStatusReason&&o.categoryStatusReason!=="ok"){if(o.categoryStatusReason==="time_limit")return{text:t("eventDetails.status.timeLimit"),color:"var(--color-warning)",icon:E.jsx(ph,{size:14})};if(o.categoryStatusReason==="club_limit")return{text:t("eventDetails.status.clubLimit"),color:"var(--color-text-muted)",icon:E.jsx(yo,{size:14})}}return o.swimmerCategory==="open"&&!o.openEligible?{text:t("eventDetails.status.notEligible"),color:"var(--color-text-muted)",icon:E.jsx(yo,{size:14})}:!o.openEligible&&!o.categoryEligible?{text:t("eventDetails.status.noPoints"),color:"var(--color-text-muted)",icon:E.jsx(yo,{size:14})}:{text:t("eventDetails.status.seePoints"),color:"var(--color-text-secondary)",icon:E.jsx(ph,{size:14})}};return E.jsxs("div",{children:[E.jsxs("header",{className:"page-header",style:{marginBottom:"var(--space-6)"},children:[E.jsxs(Ai,{to:"/events",className:"back-button",children:[E.jsx(pB,{size:20})," ",t("eventDetails.backToEvents")]}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"var(--space-4)"},children:[E.jsx("h1",{className:"page-title",style:{marginBottom:0},children:r(i)}),E.jsxs("span",{style:{padding:"4px 12px",background:"var(--color-bg-tertiary)",border:"1px solid var(--glass-border)",borderRadius:"var(--radius-full)",fontSize:"0.875rem",fontWeight:"600"},children:["#",i.number]}),E.jsx("span",{style:{padding:"4px 12px",background:i.gender==="male"?"rgba(59, 130, 246, 0.15)":i.gender==="female"?"rgba(236, 72, 153, 0.15)":"rgba(168, 85, 247, 0.15)",color:i.gender==="male"?"#3b82f6":i.gender==="female"?"#ec4899":"#a855f7",borderRadius:"var(--radius-full)",fontSize:"0.875rem",fontWeight:"600"},children:i.gender==="male"?t("common.male"):i.gender==="female"?t("common.female"):t("common.mixed")})]}),E.jsxs("p",{className:"page-subtitle",style:{marginTop:"var(--space-2)"},children:[t("eventDetails.entries",{n:i.results.length}),"  ",i.category,"  ",i.isRelay?t("eventDetails.relayEvent"):t("eventDetails.individualEvent")]})]}),i.qualifyingTimes&&E.jsxs("div",{style:{marginBottom:"var(--space-6)",padding:"var(--space-4)",background:"var(--color-bg-elevated)",borderRadius:"var(--radius-md)"},children:[E.jsx("h4",{style:{fontSize:"0.9rem",marginBottom:"var(--space-3)",color:"var(--color-text-secondary)"},children:t("eventBrowser.qualifyingTimes.title")}),E.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--space-6)",fontSize:"0.9rem",fontFamily:"monospace"},children:[i.qualifyingTimes.open&&E.jsxs("div",{style:{color:"var(--color-accent)"},children:[E.jsx("span",{style:{fontWeight:"600"},children:t("eventBrowser.qualifyingTimes.open")})," ",yE(i.qualifyingTimes.open)]}),i.qualifyingTimes.byAge&&Object.entries(i.qualifyingTimes.byAge).map(([o,c])=>E.jsxs("div",{style:{color:"var(--color-text-secondary)"},children:[E.jsx("span",{style:{fontWeight:"600"},children:t("eventBrowser.qualifyingTimes.age",{age:o})})," ",yE(c)]},o))]})]}),E.jsx("div",{className:"card",children:E.jsx("div",{className:"table-container",children:E.jsxs("table",{children:[E.jsx("thead",{children:E.jsxs("tr",{children:[E.jsx("th",{style:{width:"60px"},children:t("common.pos")}),E.jsx("th",{children:i.isRelay?t("eventDetails.table.clubTeam"):t("common.swimmer")}),!i.isRelay&&E.jsx("th",{className:"hide-mobile",children:t("swimmerRankings.table.year")}),!i.isRelay&&E.jsx("th",{className:"hide-mobile",children:t("swimmerRankings.table.cat")}),!i.isRelay&&E.jsx("th",{className:"hide-mobile",children:t("common.club")}),E.jsx("th",{style:{fontFamily:"monospace"},children:t("eventDetails.table.time")}),E.jsx("th",{children:t("swimmerRankings.table.openPts")}),!i.isRelay&&E.jsx("th",{className:"hide-mobile",children:t("swimmerRankings.table.catPts")}),E.jsx("th",{children:t("eventDetails.table.status")})]})}),E.jsx("tbody",{children:i.results.map((o,c)=>{const u=s(o);return E.jsxs("tr",{style:{opacity:o.openEligible||o.categoryEligible?1:.6},children:[E.jsx("td",{children:E.jsx("span",{className:`position-badge ${c<3?`position-${c+1}`:""}`,children:o.position})}),E.jsx("td",{children:E.jsx("strong",{style:{fontSize:"1rem"},children:i.isRelay?`${o.club.name} ${o.relayTeamNumber?`(${t("common.team")} ${o.relayTeamNumber})`:""}`:o.swimmer?.name||t("common.unknown")})}),!i.isRelay&&E.jsx("td",{className:"hide-mobile",children:o.swimmer?.birthYear}),!i.isRelay&&E.jsx("td",{className:"hide-mobile",children:E.jsx("span",{style:{padding:"2px 8px",borderRadius:"var(--radius-sm)",fontSize:"0.75rem",fontWeight:"500",background:o.swimmerCategory==="u14"?"var(--color-warning)":o.swimmerCategory==="junior"?"var(--color-info)":"var(--color-bg-tertiary)",color:o.swimmerCategory==="open"?"var(--color-text-muted)":"white"},children:o.swimmerCategory?.toUpperCase()||"OPEN"})}),!i.isRelay&&E.jsx("td",{className:"hide-mobile",style:{color:"var(--color-text-secondary)"},children:o.club.name}),E.jsx("td",{style:{fontFamily:"monospace",fontWeight:"bold"},children:o.time}),E.jsx("td",{children:o.openPoints>0?E.jsx("span",{className:"points",children:o.openPoints}):E.jsx("span",{style:{color:"var(--color-text-muted)"},children:"-"})}),!i.isRelay&&E.jsx("td",{className:"hide-mobile",children:o.categoryPoints>0?E.jsx("span",{className:"points",style:{color:"var(--color-text-primary)"},children:o.categoryPoints}):E.jsx("span",{style:{color:"var(--color-text-muted)"},children:"-"})}),E.jsx("td",{children:E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"6px",color:u.color,fontSize:"0.8rem",fontWeight:"500"},children:[u.icon,u.text]})})]},c)})})]})})})]})}function hQ(){const n=La();return E.jsx("main",{className:"main-content",children:E.jsx("div",{className:"page-transition",children:E.jsxs(OI,{children:[E.jsx(Ca,{path:"/",element:E.jsx(aQ,{})}),E.jsx(Ca,{path:"/upload",element:E.jsx(sQ,{})}),E.jsx(Ca,{path:"/clubs",element:E.jsx(oQ,{})}),E.jsx(Ca,{path:"/swimmers",element:E.jsx(lQ,{})}),E.jsx(Ca,{path:"/events",element:E.jsx(cQ,{})}),E.jsx(Ca,{path:"/events/:eventId",element:E.jsx(dQ,{})}),E.jsx(Ca,{path:"/settings",element:E.jsx(uQ,{})})]})},n.pathname)})}function fQ(){const[n,e]=C.useState(!1),[t,i]=C.useState(()=>localStorage.getItem("theme")||"dark"),{t:r}=Ia();C.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t)},[t]);const s=()=>{i(o=>o==="dark"?"light":"dark")};return E.jsx(ZI,{children:E.jsxs("div",{className:"app-container",children:[E.jsx("div",{className:"mobile-header",children:E.jsxs("div",{className:"mobile-header-left",children:[E.jsx("button",{className:"mobile-menu-btn",onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?E.jsx(p3,{size:24}):E.jsx($B,{size:24})}),E.jsxs("div",{className:"mobile-logo",children:[E.jsx(hE,{size:24,style:{color:"var(--color-accent)"}}),E.jsx("span",{className:"mobile-brand",children:"SwimScore"})]})]})}),n&&E.jsx("div",{className:"sidebar-overlay",onClick:()=>e(!1)}),E.jsxs("aside",{className:`sidebar ${n?"open":""}`,children:[E.jsxs("div",{className:"sidebar-logo",children:[E.jsx(hE,{size:32,style:{color:"var(--color-accent)"}}),E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[E.jsx("h1",{style:{fontSize:"1.25rem",margin:0},children:"SwimScore"}),E.jsx("span",{style:{fontSize:"0.625rem",background:"var(--color-accent)",color:"white",padding:"1px 6px",borderRadius:"12px",fontWeight:"700",letterSpacing:"0.5px",textTransform:"uppercase"},children:"PRO"})]}),E.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-muted)",fontWeight:400},children:"Professional Meet Analytics"})]})]}),E.jsxs("nav",{className:"sidebar-nav",children:[E.jsxs(as,{to:"/",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:()=>e(!1),children:[E.jsx(IB,{}),E.jsx("span",{children:r("nav.dashboard")})]}),E.jsxs(as,{to:"/upload",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:()=>e(!1),children:[E.jsx(E2,{}),E.jsx("span",{children:r("nav.upload")})]}),E.jsxs(as,{to:"/clubs",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:()=>e(!1),children:[E.jsx(Zb,{}),E.jsx("span",{children:r("nav.clubs")})]}),E.jsxs(as,{to:"/swimmers",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:()=>e(!1),children:[E.jsx(Qb,{}),E.jsx("span",{children:r("nav.swimmers")})]}),E.jsxs(as,{to:"/events",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:()=>e(!1),children:[E.jsx(Wb,{}),E.jsx("span",{children:r("nav.events")})]}),E.jsxs(as,{to:"/settings",className:({isActive:o})=>`nav-item ${o?"active":""}`,onClick:()=>e(!1),children:[E.jsx(e3,{}),E.jsx("span",{children:r("nav.settings")})]})]}),E.jsxs("div",{className:"theme-toggle",onClick:s,children:[t==="dark"?E.jsx(n3,{}):E.jsx(GB,{}),E.jsx("span",{children:t==="dark"?"Light Mode":"Dark Mode"})]}),E.jsx("div",{style:{marginTop:"var(--space-4)",paddingTop:"var(--space-4)",borderTop:"1px solid var(--glass-border)",textAlign:"center"},children:E.jsxs("p",{style:{fontSize:"0.7rem",color:"var(--color-text-muted)",margin:0},children:["SwimScore v1.0",E.jsx("br",{}),E.jsx("span",{style:{fontSize:"0.65rem",opacity:.7},children:"Professionally Crafted"})]})})]}),E.jsx(hQ,{})]})})}function pQ(){return E.jsx(L4,{children:E.jsx(fQ,{})})}jL.createRoot(document.getElementById("root")).render(E.jsx(C.StrictMode,{children:E.jsx(pQ,{})}));
